"use strict";var Tj=Object.create;var wc=Object.defineProperty;var _j=Object.getOwnPropertyDescriptor;var wj=Object.getOwnPropertyNames;var Ij=Object.getPrototypeOf,vj=Object.prototype.hasOwnProperty;var _=(e,t)=>()=>(e&&(t=e(e=0)),t);var D=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ze=(e,t)=>{for(var r in t)wc(e,r,{get:t[r],enumerable:!0})},dT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wj(t))!vj.call(e,o)&&o!==r&&wc(e,o,{get:()=>t[o],enumerable:!(n=_j(t,o))||n.enumerable});return e};var w=(e,t,r)=>(r=e!=null?Tj(Ij(e)):{},dT(t||!e||!e.__esModule?wc(r,"default",{value:e,enumerable:!0}):r,e)),ee=e=>dT(wc({},"__esModule",{value:!0}),e);var bn=D(Ce=>{"use strict";Ce.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Ce.HttpAuthLocation||(Ce.HttpAuthLocation={}));Ce.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Ce.HttpApiKeyAuthLocation||(Ce.HttpApiKeyAuthLocation={}));Ce.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(Ce.EndpointURLScheme||(Ce.EndpointURLScheme={}));Ce.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Ce.AlgorithmId||(Ce.AlgorithmId={}));var Aj=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>Ce.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>Ce.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},Cj=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},xj=e=>Aj(e),Rj=e=>Cj(e);Ce.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Ce.FieldPosition||(Ce.FieldPosition={}));var Pj="__smithy_context";Ce.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Ce.IniSectionType||(Ce.IniSectionType={}));Ce.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Ce.RequestHandlerProtocol||(Ce.RequestHandlerProtocol={}));Ce.SMITHY_CONTEXT_KEY=Pj;Ce.getDefaultClientConfiguration=xj;Ce.resolveDefaultRuntimeConfig=Rj});var et=D(Pf=>{"use strict";var wT=bn(),Dj=e=>e[wT.SMITHY_CONTEXT_KEY]||(e[wT.SMITHY_CONTEXT_KEY]={}),Nj=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};Pf.getSmithyContext=Dj;Pf.normalizeProvider=Nj});function Qo(e){return IT.includes(e)}var _i,IT,Cc=_(()=>{_i="preferred",IT=["disabled","preferred","required"]});var vT,Oj,AT=_(()=>{vT=w(et());Cc();Oj=e=>{let{accountIdEndpointMode:t}=e,r=(0,vT.normalizeProvider)(t??_i);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!Qo(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var CT,xT,RT,PT,kj,DT=_(()=>{Cc();CT="Invalid AccountIdEndpointMode value",xT=e=>{throw new Error(e)},RT="AWS_ACCOUNT_ID_ENDPOINT_MODE",PT="account_id_endpoint_mode",kj={environmentVariableSelector:e=>{let t=e[RT];return t&&!Qo(t)&&xT(CT),t},configFileSelector:e=>{let t=e[PT];return t&&!Qo(t)&&xT(CT),t},default:_i}});var Df={};Ze(Df,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>IT,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>PT,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>_i,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>RT,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>kj,resolveAccountIdEndpointModeConfig:()=>Oj,validateAccountIdEndpointMode:()=>Qo});var Nf=_(()=>{AT();Cc();DT()});var _e=D(Tn=>{"use strict";var $j=bn(),Lj=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),Mj=e=>({httpHandler:e.httpHandler()}),Of=class{name;kind;values;constructor({name:t,kind:r=$j.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},kf=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},$f=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=Uj(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function Uj(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var Lf=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function Bj(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Tn.Field=Of;Tn.Fields=kf;Tn.HttpRequest=$f;Tn.HttpResponse=Lf;Tn.getHttpHandlerExtensionConfiguration=Lj;Tn.isValidHostname=Bj;Tn.resolveHttpHandlerRuntimeConfig=Mj});var OT=D((kse,NT)=>{function Ur(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}Ur.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(Ur.prototype[Symbol.iterator]=function(){return this});Ur.of=function(){var e=arguments,t=e.length,r=0;return new Ur(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};Ur.empty=function(){var e=new Ur(null);return e.done=!0,e};Ur.is=function(e){return e instanceof Ur?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};NT.exports=Ur});var Mf=D(($se,MT)=>{var kT=typeof ArrayBuffer<"u",$T=typeof Symbol<"u";function LT(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||kT&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],o);return}if(typeof e.forEach=="function"){e.forEach(t);return}if($T&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,o),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}LT.forEachWithNullKeys=function(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||kT&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if($T&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,null),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};MT.exports=LT});var Uf=D(mr=>{var Fj=Math.pow(2,8)-1,Gj=Math.pow(2,16)-1,jj=Math.pow(2,32)-1,Hj=Math.pow(2,7)-1,qj=Math.pow(2,15)-1,zj=Math.pow(2,31)-1;mr.getPointerArray=function(e){var t=e-1;return t<=Fj?Uint8Array:t<=Gj?Uint16Array:t<=jj?Uint32Array:Float64Array};mr.getSignedPointerArray=function(e){var t=e-1;return t<=Hj?Int8Array:t<=qj?Int16Array:t<=zj?Int32Array:Float64Array};mr.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var Vj={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};mr.getMinimalRepresentation=function(e,t){var r=null,n=0,o,s,i,a,c;for(a=0,c=e.length;a<c;a++)i=t?t(e[a]):e[a],s=mr.getNumberType(i),o=Vj[s.name],o>n&&(n=o,r=s);return r};mr.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};mr.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)o.set(arguments[t],r),r+=arguments[t].length;return o};mr.indices=function(e){for(var t=mr.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var FT=D(wi=>{var UT=Mf(),BT=Uf();function Wj(e){return Array.isArray(e)||BT.isTypedArray(e)}function Bf(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function Kj(e){var t=Bf(e),r=typeof t=="number"?new Array(t):[],n=0;return UT(e,function(o){r[n++]=o}),r}function Yj(e){var t=Bf(e),r=typeof t=="number"?BT.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new r(t):[],s=0;return UT(e,function(i){n[s]=i,o[s]=s++}),[n,o]}wi.isArrayLike=Wj;wi.guessLength=Bf;wi.toArray=Kj;wi.toArrayWithIndices=Yj});var jT=D((Use,GT)=>{var Ff=OT(),Xj=Mf(),Qj=Uf(),Jj=FT();function Ge(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=Qj.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Ge.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Ge.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};Ge.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Ge.prototype.setpop=function(e,t){var r=null,n=null,o=this.items[e];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};Ge.prototype.has=function(e){return e in this.items};Ge.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};Ge.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};Ge.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,o=this.head,s=this.K,i=this.V,a=this.forward;r<n;)e.call(t,i[o],s[o],this),o=a[o],r++};Ge.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.forward;return new Ff(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Ge.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,o=this.forward;return new Ff(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Ge.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.V,s=this.forward;return new Ff(function(){if(e>=t)return{done:!0};var i=n[r],a=o[r];return e++,e<t&&(r=s[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(Ge.prototype[Symbol.iterator]=Ge.prototype.entries);Ge.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:Ge,enumerable:!1}),e};typeof Symbol<"u"&&(Ge.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ge.prototype.inspect);Ge.from=function(e,t,r,n){if(arguments.length<2){if(n=Jj.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var o=new Ge(t,r,n);return Xj(e,function(s,i){o.set(i,s)}),o};GT.exports=Ge});var qT=D(HT=>{"use strict";var Zj=jT(),Gf=class{cache;constructor(t){this.cache=new Zj(t)}getEndpoint(t){let r=this.get(t);if(!r||r.length===0)return;let n=r.map(o=>o.Address);return n[Math.floor(Math.random()*n.length)]}get(t){if(!this.has(t))return;let r=this.cache.get(t);if(!r)return;let n=Date.now(),o=r.filter(s=>n<s.Expires);if(o.length===0){this.delete(t);return}return o}set(t,r){let n=Date.now();this.cache.set(t,r.map(({Address:o,CachePeriodInMinutes:s})=>({Address:o,Expires:n+s*60*1e3})))}delete(t){this.cache.set(t,[])}has(t){if(!this.cache.has(t))return!1;let r=this.cache.peek(t);return r?r.length>0:!1}clear(){this.cache.clear()}};HT.EndpointCache=Gf});var qf=D(ho=>{"use strict";var e2=_e(),t2=qT(),zT=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],jf="endpoint_discovery_enabled",VT=e=>["false","0"].indexOf(e)>=0,r2={environmentVariableSelector:e=>{for(let t=0;t<zT.length;t++){let r=zT[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!VT(n)}}},configFileSelector:e=>{if(jf in e){let t=e[jf];if(t===void 0)throw Error(`Shared config entry ${jf} can't be undefined, got "${t}"`);return!VT(t)}},default:void 0},n2=async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:e,identifiers:Object.entries(o).sort().reduce((s,[i,a])=>({...s,[i]:a}),{})}})},Br={},WT=async(e,t)=>new Promise((r,n)=>{let{endpointCache:o}=e,{cacheKey:s,commandName:i,identifiers:a}=t,c=o.get(s);if(c&&c.length===1&&c[0].Address==="")t.isDiscoveredEndpointRequired?(Br[s]||(Br[s]=[]),Br[s].push({resolve:r,reject:n})):r();else if(c&&c.length>0)r();else{let l=[{Address:"",CachePeriodInMinutes:1}];o.set(s,l);let d=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});d.resolveMiddleware(t.clientStack,e,t.options)(d).then(y=>{o.set(s,y.output.Endpoints),Br[s]&&(Br[s].forEach(({resolve:g})=>{g()}),delete Br[s]),r()}).catch(y=>{o.delete(s);let g=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:y});Br[s]&&(Br[s].forEach(({reject:S})=>{S(g)}),delete Br[s]),t.isDiscoveredEndpointRequired?n(g):(o.set(s,l),r())})}}),Hf=(e,t)=>(r,n)=>async o=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:s}=e,{isDiscoveredEndpointRequired:i,identifiers:a}=t,c=n.clientName,l=n.commandName,d=await e.endpointDiscoveryEnabled(),m=await n2(l,e,{identifiers:a});if(i){if(d===!1)throw new Error(`Endpoint Discovery is disabled but ${l} on ${c} requires it. Please check your configurations.`);await WT(e,{...t,commandName:l,cacheKey:m,endpointDiscoveryCommandCtor:s})}else d&&WT(e,{...t,commandName:l,cacheKey:m,endpointDiscoveryCommandCtor:s});let{request:y}=o;if(m&&e2.HttpRequest.isInstance(y)){let g=e.endpointCache.getEndpoint(m);g&&(y.hostname=g)}return r(o)},xc={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},o2=(e,t)=>({applyToStack:r=>{r.add(Hf(e,t),xc)}}),s2=(e,t)=>({applyToStack:r=>{r.add(Hf(e,{...t,isDiscoveredEndpointRequired:!0}),xc)}}),i2=(e,t)=>({applyToStack:r=>{r.add(Hf(e,{...t,isDiscoveredEndpointRequired:!1}),xc)}}),a2=(e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:o}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new t2.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):o,isClientEndpointDiscoveryEnabled:n!==void 0})};ho.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS=r2;ho.endpointDiscoveryMiddlewareOptions=xc;ho.getEndpointDiscoveryOptionalPlugin=i2;ho.getEndpointDiscoveryPlugin=o2;ho.getEndpointDiscoveryRequiredPlugin=s2;ho.resolveEndpointDiscoveryConfig=a2});var Jo=D(Ii=>{"use strict";var c2=_e();function l2(e){return e}var KT=e=>t=>async r=>{if(!c2.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},YT={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},u2=e=>({applyToStack:t=>{t.add(KT(e),YT)}});Ii.getHostHeaderPlugin=u2;Ii.hostHeaderMiddleware=KT;Ii.hostHeaderMiddlewareOptions=YT;Ii.resolveHostHeaderConfig=l2});var Zo=D(Rc=>{"use strict";var XT=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??t.inputFilterSensitiveLog,m=l??t.outputFilterSensitiveLog,{$metadata:y,...g}=n.output;return i?.info?.({clientName:o,commandName:s,input:d(r.input),output:m(g),metadata:y}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:l(r.input),error:n,metadata:n.$metadata}),n}},QT={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},d2=e=>({applyToStack:t=>{t.add(XT(),QT)}});Rc.getLoggerPlugin=d2;Rc.loggerMiddleware=XT;Rc.loggerMiddlewareOptions=QT});var JT={};Ze(JT,{InvokeStore:()=>Kf,InvokeStoreBase:()=>Ai});var vi,zf,Ai,Vf,Wf,Kf,ZT=_(()=>{vi={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},zf=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");zf||(globalThis.awslambda=globalThis.awslambda||{});Ai=class{static PROTECTED_KEYS=vi;isProtectedKey(t){return Object.values(vi).includes(t)}getRequestId(){return this.get(vi.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(vi.X_RAY_TRACE_ID)}getTenantId(){return this.get(vi.TENANT_ID)}},Vf=class extends Ai{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(t){return this.currentContext?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);this.currentContext=this.currentContext||{},this.currentContext[t]=r}run(t,r){return this.currentContext=t,r()}},Wf=class e extends Ai{als;static async create(){let t=new e,r=await import("node:async_hooks");return t.als=new r.AsyncLocalStorage,t}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(t){return this.als.getStore()?.[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);let n=this.als.getStore();if(!n)throw new Error("No context available");n[t]=r}run(t,r){return this.als.run(t,r)}};(function(e){let t=null;async function r(){return t||(t=(async()=>{let o="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await Wf.create():new Vf;return!zf&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!zf&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=o),o)})()),t}e.getInstanceAsync=r,e._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{t=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={}}}:void 0})(Kf||(Kf={}))});var e_=D(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.recursionDetectionMiddleware=void 0;var p2=(ZT(),ee(JT)),m2=_e(),Yf="X-Amzn-Trace-Id",f2="AWS_LAMBDA_FUNCTION_NAME",h2="_X_AMZN_TRACE_ID",g2=()=>e=>async t=>{let{request:r}=t;if(!m2.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(d=>d.toLowerCase()===Yf.toLowerCase())??Yf;if(r.headers.hasOwnProperty(n))return e(t);let o=process.env[f2],s=process.env[h2],c=(await p2.InvokeStore.getInstanceAsync())?.getXRayTraceId()??s,l=d=>typeof d=="string"&&d.length>0;return l(o)&&l(c)&&(r.headers[Yf]=c),e({...t,request:r})};Pc.recursionDetectionMiddleware=g2});var es=D(Dc=>{"use strict";var Xf=e_(),y2={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},S2=e=>({applyToStack:t=>{t.add(Xf.recursionDetectionMiddleware(),y2)}});Dc.getRecursionDetectionPlugin=S2;Object.keys(Xf).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Dc,e)&&Object.defineProperty(Dc,e,{enumerable:!0,get:function(){return Xf[e]}})})});var Qf,E2,t_=_(()=>{Qf=w(bn()),E2=e=>e[Qf.SMITHY_CONTEXT_KEY]||(e[Qf.SMITHY_CONTEXT_KEY]={})});var r_,n_=_(()=>{r_=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function b2(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var o_,Ci,Nc=_(()=>{o_=w(et());n_();Ci=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=r_(s,i),c=b2(e.httpAuthSchemes),l=(0,o_.getSmithyContext)(n),d=[];for(let m of a){let y=c.get(m.schemeId);if(!y){d.push(`HttpAuthScheme \`${m.schemeId}\` was not enabled for this service.`);continue}let g=y.identityProvider(await t.identityProviderConfigProvider(e));if(!g){d.push(`HttpAuthScheme \`${m.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:S={},signingProperties:T={}}=m.propertiesExtractor?.(e,n)||{};m.identityProperties=Object.assign(m.identityProperties||{},S),m.signingProperties=Object.assign(m.signingProperties||{},T),l.selectedHttpAuthScheme={httpAuthOption:m,identity:await g(m.identityProperties),signer:y.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(o)}});var s_,go,i_=_(()=>{Nc();s_={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},go=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Ci(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),s_)}})});var Zf=D(ts=>{"use strict";var T2=_e(),a_=(e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(T2.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:Jf(/^x-[\w-]+-request-?id$/,l),extendedRequestId:Jf(/^x-[\w-]+-id-2$/,l),cfId:Jf(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},Jf=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],c_=(e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},l_={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},u_={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function _2(e,t,r){return{applyToStack:n=>{n.add(a_(e,r),l_),n.add(c_(e,t),u_)}}}ts.deserializerMiddleware=a_;ts.deserializerMiddlewareOption=l_;ts.getSerdePlugin=_2;ts.serializerMiddleware=c_;ts.serializerMiddlewareOption=u_});var d_,p_,w2,m_=_(()=>{d_=w(Zf());Nc();p_={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:d_.serializerMiddlewareOption.name},w2=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Ci(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),p_)}})});var f_=_(()=>{Nc();i_();m_()});var h_,g_,I2,v2,eh,th=_(()=>{h_=w(_e()),g_=w(et()),I2=e=>t=>{throw t},v2=(e,t)=>{},eh=e=>(t,r)=>async n=>{if(!h_.HttpRequest.isInstance(n.request))return t(n);let s=(0,g_.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,l=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||I2)(i));return(c.successHandler||v2)(l.response,i),l}});var y_,yo,S_=_(()=>{th();y_={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},yo=e=>({applyToStack:t=>{t.addRelativeTo(eh(e),y_)}})});var E_=_(()=>{th();S_()});var _n,b_=_(()=>{_n=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function T_(e,t,r,n,o){return async function*(i,a,...c){let l=a,d=i.startingToken??l[r],m=!0,y;for(;m;){if(l[r]=d,o&&(l[o]=l[o]??i.pageSize),i.client instanceof e)y=await A2(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield y;let g=d;d=C2(y,n),m=!!(d&&(!i.stopOnSameToken||d!==g))}return void 0}}var A2,C2,__=_(()=>{A2=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};C2=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var rh=D(w_=>{"use strict";var x2=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";w_.isArrayBuffer=x2});var rs=D(oh=>{"use strict";var R2=rh(),nh=require("buffer"),P2=(e,t=0,r=e.byteLength-t)=>{if(!R2.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return nh.Buffer.from(e,t,r)},D2=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?nh.Buffer.from(e,t):nh.Buffer.from(e)};oh.fromArrayBuffer=P2;oh.fromString=D2});var I_=D(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.fromBase64=void 0;var N2=rs(),O2=/^[A-Za-z0-9+/]*={0,2}$/,k2=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!O2.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,N2.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Oc.fromBase64=k2});var Ve=D(kc=>{"use strict";var v_=rs(),A_=e=>{let t=v_.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},$2=e=>typeof e=="string"?A_(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),L2=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return v_.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};kc.fromUtf8=A_;kc.toUint8Array=$2;kc.toUtf8=L2});var C_=D($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.toBase64=void 0;var M2=rs(),U2=Ve(),B2=e=>{let t;if(typeof e=="string"?t=(0,U2.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,M2.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};$c.toBase64=B2});var He=D(xi=>{"use strict";var x_=I_(),R_=C_();Object.keys(x_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(xi,e)&&Object.defineProperty(xi,e,{enumerable:!0,get:function(){return x_[e]}})});Object.keys(R_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(xi,e)&&Object.defineProperty(xi,e,{enumerable:!0,get:function(){return R_[e]}})})});var ih=D(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.ChecksumStream=void 0;var F2=He(),G2=require("stream"),sh=class extends G2.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=s??F2.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Lc.ChecksumStream=sh});var wn=D(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.isBlob=ns.isReadableStream=void 0;var j2=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);ns.isReadableStream=j2;var H2=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);ns.isBlob=H2});var P_=D(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.ChecksumStream=void 0;var q2=typeof ReadableStream=="function"?ReadableStream:function(){},ah=class extends q2{};Mc.ChecksumStream=ah});var D_=D(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.createChecksumStream=void 0;var z2=He(),V2=wn(),W2=P_(),K2=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{if(!(0,V2.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let s=o??z2.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(c,l){t.update(c),l.enqueue(c)},async flush(c){let l=await t.digest(),d=s(l);if(e!==d){let m=new Error(`Checksum mismatch: expected "${e}" but received "${d}" in response header "${n}".`);c.error(m)}else c.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,W2.ChecksumStream.prototype),a};Uc.createChecksumStream=K2});var N_=D(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.createChecksumStream=J2;var Y2=wn(),X2=ih(),Q2=D_();function J2(e){return typeof ReadableStream=="function"&&(0,Y2.isReadableStream)(e.source)?(0,Q2.createChecksumStream)(e):new X2.ChecksumStream(e)}});var uh=D(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.ByteArrayCollector=void 0;var lh=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Bc.ByteArrayCollector=lh});var L_=D(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.createBufferedReadable=void 0;Fr.createBufferedReadableStream=O_;Fr.merge=k_;Fr.flush=Fc;Fr.sizeOf=os;Fr.modeOf=$_;var Z2=uh();function O_(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new Z2.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:d,done:m}=await n.read(),y=d;if(m){if(a!==-1){let g=Fc(i,a);os(g)>0&&l.enqueue(g)}l.close()}else{let g=$_(y,!1);if(a!==g&&(a>=0&&l.enqueue(Fc(i,a)),a=g),a===-1){l.enqueue(y);return}let S=os(y);s+=S;let T=os(i[a]);if(S>=t&&T===0)l.enqueue(y);else{let I=k_(i,a,y);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${S} is below threshold of ${t}, automatically buffering.`)),I>=t?l.enqueue(Fc(i,a)):await c(l)}}};return new ReadableStream({pull:c})}Fr.createBufferedReadable=O_;function k_(e,t,r){switch(t){case 0:return e[0]+=r,os(e[0]);case 1:case 2:return e[t].push(r),os(e[t])}}function Fc(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function os(e){return e?.byteLength??e?.length??0}function $_(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var U_=D(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.createBufferedReadable=rH;var eH=require("node:stream"),M_=uh(),Gr=L_(),tH=wn();function rH(e,t,r){if((0,tH.isReadableStream)(e))return(0,Gr.createBufferedReadableStream)(e,t,r);let n=new eH.Readable({read(){}}),o=!1,s=0,i=["",new M_.ByteArrayCollector(c=>new Uint8Array(c)),new M_.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,Gr.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Gr.flush)(i,a)),a=l),a===-1){n.push(c);return}let d=(0,Gr.sizeOf)(c);s+=d;let m=(0,Gr.sizeOf)(i[a]);if(d>=t&&m===0)n.push(c);else{let y=(0,Gr.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${t}, automatically buffering.`)),y>=t&&n.push((0,Gr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Gr.flush)(i,a);(0,Gr.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var B_=D(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.getAwsChunkedEncodingStream=void 0;var nH=require("stream"),oH=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,l=new nH.Readable({read:()=>{}});return e.on("data",d=>{let m=n(d)||0;l.push(`${m.toString(16)}\r
`),l.push(d),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let d=r(await c);l.push(`${s}:${d}\r
`),l.push(`\r
`)}l.push(null)}),l};Gc.getAwsChunkedEncodingStream=oH});var F_=D(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.headStream=sH;async function sH(e,t){let r=0,n=[],o=e.getReader(),s=!1;for(;!s;){let{done:c,value:l}=await o.read();if(l&&(n.push(l),r+=l?.byteLength??0),r>=t)break;s=c}o.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let c of n){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}});var G_=D(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.headStream=void 0;var iH=require("stream"),aH=F_(),cH=wn(),lH=(e,t)=>(0,cH.isReadableStream)(e)?(0,aH.headStream)(e,t):new Promise((r,n)=>{let o=new mh;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});jc.headStream=lH;var mh=class extends iH.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let o=this.bytesBuffered-this.limit,s=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=s.subarray(0,s.byteLength-o),this.emit("finish")}n()}}});var hh=D(fh=>{"use strict";var j_=e=>encodeURIComponent(e).replace(/[!'()*]/g,uH),uH=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,dH=e=>e.split("/").map(j_).join("/");fh.escapeUri=j_;fh.escapeUriPath=dH});var yh=D(H_=>{"use strict";var gh=hh();function pH(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=gh.escapeUri(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${gh.escapeUri(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${gh.escapeUri(n)}`),t.push(o)}}return t.join("&")}H_.buildQueryString=pH});var In=D(Ri=>{"use strict";var W_=_e(),K_=yh(),Hc=require("http"),qc=require("https"),Y_=require("stream"),Sh=require("http2"),mH=["ECONNRESET","EPIPE","ETIMEDOUT"],X_=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},ft={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},q_=1e3,fH=(e,t,r=0)=>{if(!r)return-1;let n=o=>{let s=ft.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-o),i=a=>{a?.connecting?a.on("connect",()=>{ft.clearTimeout(s)}):ft.clearTimeout(s)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):ft.setTimeout(n.bind(null,q_),q_)},hH=(e,t,r=0,n,o)=>r?ft.setTimeout(()=>{let s=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(s),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else s+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",o?.warn?.(s)},r):-1,gH=3e3,yH=(e,{keepAlive:t,keepAliveMsecs:r},n=gH)=>{if(t!==!0)return-1;let o=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})};return n===0?(o(),0):ft.setTimeout(o,n)},z_=3e3,SH=(e,t,r=0)=>{let n=o=>{let s=r-o,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)};return 0<r&&r<6e3?(n(0),0):ft.setTimeout(n.bind(null,r===0?0:z_),z_)},V_=6e3;async function Q_(e,t,r=V_,n=!1){let o=t.headers??{},s=o.Expect||o.expect,i=-1,a=!0;!n&&s==="100-continue"&&(a=await Promise.race([new Promise(c=>{i=Number(ft.setTimeout(()=>c(!0),Math.max(V_,r)))}),new Promise(c=>{e.on("continue",()=>{ft.clearTimeout(i),c(!0)}),e.on("response",()=>{ft.clearTimeout(i),c(!1)}),e.on("error",()=>{ft.clearTimeout(i),c(!1)})})])),a&&EH(e,t.body)}function EH(e,t){if(t instanceof Y_.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var bH=0,Eh=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let l=o[c]?.length??0,d=s[c]?.length??0;if(l>=i&&d>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:c}=t||{},l=!0,d=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:o,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:c,httpAgent:i instanceof Hc.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new Hc.Agent({keepAlive:l,maxSockets:d,...i}),httpsAgent:a instanceof qc.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new qc.Agent({keepAlive:l,maxSockets:d,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i=this.config,a,c=[],l=async W=>{await a,c.forEach(ft.clearTimeout),o(W)},d=async W=>{await a,c.forEach(ft.clearTimeout),s(W)};if(r?.aborted){let W=new Error("Request aborted");W.name="AbortError",d(W);return}let m=t.protocol==="https:",y=t.headers??{},g=(y.Expect??y.expect)==="100-continue",S=m?i.httpsAgent:i.httpAgent;g&&!this.externalAgent&&(S=new(m?qc.Agent:Hc.Agent)({keepAlive:!1,maxSockets:1/0})),c.push(ft.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(S,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let T=K_.buildQueryString(t.query||{}),I;if(t.username!=null||t.password!=null){let W=t.username??"",z=t.password??"";I=`${W}:${z}`}let x=t.path;T&&(x+=`?${T}`),t.fragment&&(x+=`#${t.fragment}`);let C=t.hostname??"";C[0]==="["&&C.endsWith("]")?C=t.hostname.slice(1,-1):C=t.hostname;let O={headers:t.headers,host:C,method:t.method,path:x,port:t.port,agent:S,auth:I},H=(m?qc.request:Hc.request)(O,W=>{let z=new W_.HttpResponse({statusCode:W.statusCode||-1,reason:W.statusMessage,headers:X_(W.headers),body:W});l({response:z})});if(H.on("error",W=>{mH.includes(W.code)?d(Object.assign(W,{name:"TimeoutError"})):d(W)}),r){let W=()=>{H.destroy();let z=new Error("Request aborted");z.name="AbortError",d(z)};if(typeof r.addEventListener=="function"){let z=r;z.addEventListener("abort",W,{once:!0}),H.once("close",()=>z.removeEventListener("abort",W))}else r.onabort=W}let J=n??i.requestTimeout;c.push(fH(H,d,i.connectionTimeout)),c.push(hH(H,d,J,i.throwOnRequestTimeout,i.logger??console)),c.push(SH(H,d,i.socketTimeout));let Se=O.agent;typeof Se=="object"&&"keepAlive"in Se&&c.push(yH(H,{keepAlive:Se.keepAlive,keepAliveMsecs:Se.keepAliveMsecs})),a=Q_(H,t,J,this.externalAgent).catch(W=>(c.forEach(ft.clearTimeout),s(W)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},bh=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},Th=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let s=Sh.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=()=>{s.destroy(),this.deleteSession(n,s)};s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new bh;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},_h=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new Th({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let l=!1,d,m=async oe=>{await d,a(oe)},y=async oe=>{await d,c(oe)};if(r?.aborted){l=!0;let oe=new Error("Request aborted");oe.name="AbortError",y(oe);return}let{hostname:g,method:S,port:T,protocol:I,query:x}=t,C="";if(t.username!=null||t.password!=null){let oe=t.username??"",ve=t.password??"";C=`${oe}:${ve}@`}let O=`${I}//${C}${g}${T?`:${T}`:""}`,k={destination:new URL(O)},H=this.connectionManager.lease(k,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),J=oe=>{s&&this.destroySession(H),l=!0,y(oe)},Se=K_.buildQueryString(x||{}),W=t.path;Se&&(W+=`?${Se}`),t.fragment&&(W+=`#${t.fragment}`);let z=H.request({...t.headers,[Sh.constants.HTTP2_HEADER_PATH]:W,[Sh.constants.HTTP2_HEADER_METHOD]:S});if(H.ref(),z.on("response",oe=>{let ve=new W_.HttpResponse({statusCode:oe[":status"]||-1,headers:X_(oe),body:z});l=!0,m({response:ve}),s&&(H.close(),this.connectionManager.deleteSession(O,H))}),i&&z.setTimeout(i,()=>{z.close();let oe=new Error(`Stream timed out because of no activity for ${i} ms`);oe.name="TimeoutError",J(oe)}),r){let oe=()=>{z.close();let ve=new Error("Request aborted");ve.name="AbortError",J(ve)};if(typeof r.addEventListener=="function"){let ve=r;ve.addEventListener("abort",oe,{once:!0}),z.once("close",()=>ve.removeEventListener("abort",oe))}else r.onabort=oe}z.on("frameError",(oe,ve,Re)=>{J(new Error(`Frame type id ${oe} in stream id ${Re} has failed with code ${ve}.`))}),z.on("error",J),z.on("aborted",()=>{J(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${z.rstCode}.`))}),z.on("close",()=>{H.unref(),s&&H.destroy(),l||J(new Error("Unexpected error: http2 request did not get a response"))}),d=Q_(z,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},wh=class extends Y_.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},TH=e=>_H(e)?wH(e):new Promise((t,r)=>{let n=new wh;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),_H=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function wH(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}Ri.DEFAULT_REQUEST_TIMEOUT=bH;Ri.NodeHttp2Handler=_h;Ri.NodeHttpHandler=Eh;Ri.streamCollector=TH});var ew=D(Vc=>{"use strict";var J_=_e(),IH=yh(),vH=He();function Z_(e,t){return new Request(e,t)}function AH(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var zc={supported:void 0},Ih=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),zc.supported===void 0&&(zc.supported=typeof Request<"u"&&"keepalive"in Z_("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let C=new Error("Request aborted");return C.name="AbortError",Promise.reject(C)}let a=t.path,c=IH.buildQueryString(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let C=t.username??"",O=t.password??"";l=`${C}:${O}@`}let{port:d,method:m}=t,y=`${t.protocol}//${l}${t.hostname}${d?`:${d}`:""}${a}`,g=m==="GET"||m==="HEAD"?void 0:t.body,S={body:g,headers:new Headers(t.headers),method:m,credentials:i};this.config?.cache&&(S.cache=this.config.cache),g&&(S.duplex="half"),typeof AbortController<"u"&&(S.signal=r),zc.supported&&(S.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(S,this.config.requestInit(t));let T=()=>{},I=Z_(y,S),x=[fetch(I).then(C=>{let O=C.headers,k={};for(let J of O.entries())k[J[0]]=J[1];return C.body!=null?{response:new J_.HttpResponse({headers:k,reason:C.statusText,statusCode:C.status,body:C.body})}:C.blob().then(J=>({response:new J_.HttpResponse({headers:k,reason:C.statusText,statusCode:C.status,body:J})}))}),AH(o)];return r&&x.push(new Promise((C,O)=>{let k=()=>{let H=new Error("Request aborted");H.name="AbortError",O(H)};if(typeof r.addEventListener=="function"){let H=r;H.addEventListener("abort",k,{once:!0}),T=()=>H.removeEventListener("abort",k)}else r.onabort=k})),Promise.race(x).finally(T)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},CH=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):xH(e):RH(e);async function xH(e){let t=await PH(e),r=vH.fromBase64(t);return new Uint8Array(r)}async function RH(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}function PH(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Vc.FetchHttpHandler=Ih;Vc.keepAliveSupport=zc;Vc.streamCollector=CH});var Ch=D(Ah=>{"use strict";var tw={},vh={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),tw[e]=t,vh[t]=e}function DH(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in vh)t[r/2]=vh[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function NH(e){let t="";for(let r=0;r<e.byteLength;r++)t+=tw[e[r]];return t}Ah.fromHex=DH;Ah.toHex=NH});var sw=D(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.sdkStreamMixin=void 0;var OH=ew(),kH=He(),$H=Ch(),LH=Ve(),rw=wn(),nw="The stream has already been transformed.",MH=e=>{if(!ow(e)&&!(0,rw.isReadableStream)(e)){let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(nw);return t=!0,await(0,OH.streamCollector)(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let s=await r();if(o==="base64")return(0,kH.toBase64)(s);if(o==="hex")return(0,$H.toHex)(s);if(o===void 0||o==="utf8"||o==="utf-8")return(0,LH.toUtf8)(s);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(nw);if(t=!0,ow(e))return n(e);if((0,rw.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Wc.sdkStreamMixin=MH;var ow=e=>typeof Blob=="function"&&e instanceof Blob});var aw=D(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.sdkStreamMixin=void 0;var UH=In(),BH=rs(),xh=require("stream"),FH=sw(),iw="The stream has already been transformed.",GH=e=>{if(!(e instanceof xh.Readable))try{return(0,FH.sdkStreamMixin)(e)}catch{let o=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(iw);return t=!0,await(0,UH.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let o=await r();return n===void 0||Buffer.isEncoding(n)?(0,BH.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(n):new TextDecoder(n).decode(o)},transformToWebStream:()=>{if(t)throw new Error(iw);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof xh.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,xh.Readable.toWeb(e)}})};Kc.sdkStreamMixin=GH});var cw=D(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.splitStream=jH;async function jH(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var dw=D(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});Ph.splitStream=qH;var lw=require("stream"),HH=cw(),uw=wn();async function qH(e){if((0,uw.isReadableStream)(e)||(0,uw.isBlob)(e))return(0,HH.splitStream)(e);let t=new lw.PassThrough,r=new lw.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Yc=D(We=>{"use strict";var pw=He(),mw=Ve(),fw=ih(),hw=N_(),gw=U_(),yw=B_(),Sw=G_(),Ew=aw(),bw=dw(),Tw=wn(),Dh=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(pw.fromBase64(t)):e.mutate(mw.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?pw.toBase64(this):mw.toUtf8(this)}};We.Uint8ArrayBlobAdapter=Dh;Object.keys(fw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return fw[e]}})});Object.keys(hw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return hw[e]}})});Object.keys(gw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return gw[e]}})});Object.keys(yw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return yw[e]}})});Object.keys(Sw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return Sw[e]}})});Object.keys(Ew).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return Ew[e]}})});Object.keys(bw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return bw[e]}})});Object.keys(Tw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(We,e)&&Object.defineProperty(We,e,{enumerable:!0,get:function(){return Tw[e]}})})});var Xc,Ut,Qc=_(()=>{Xc=w(Yc()),Ut=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Xc.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Xc.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Xc.Uint8ArrayBlobAdapter.mutate(await r)}});function fr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Jc=_(()=>{});var Qt,Nh=_(()=>{Qt=e=>typeof e=="function"?e():e});var Pi,Zc=_(()=>{Pi=(e,t,r,n,o)=>({name:t,namespace:e,traits:r,input:n,output:o})});var _w,ww,Iw,Oh,vw=_(()=>{_w=w(_e()),ww=w(et());Zc();Iw=e=>(t,r)=>async n=>{let{response:o}=await t(n),{operationSchema:s}=(0,ww.getSmithyContext)(r),[,i,a,c,l,d]=s??[];try{let m=await e.protocol.deserializeResponse(Pi(i,a,c,l,d),{...e,...r},o);return{response:o,output:m}}catch(m){if(Object.defineProperty(m,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in m)){let y="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{m.message+=`
  `+y}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(y):r.logger?.warn?.(y)}typeof m.$responseBodyText<"u"&&m.$response&&(m.$response.body=m.$responseBodyText);try{if(_w.HttpResponse.isInstance(o)){let{headers:g={}}=o,S=Object.entries(g);m.$metadata={httpStatusCode:o.statusCode,requestId:Oh(/^x-[\w-]+-request-?id$/,S),extendedRequestId:Oh(/^x-[\w-]+-id-2$/,S),cfId:Oh(/^x-[\w-]+-cf-id$/,S)}}}catch{}}throw m}},Oh=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var Aw,Cw,xw=_(()=>{Aw=w(et());Zc();Cw=e=>(t,r)=>async n=>{let{operationSchema:o}=(0,Aw.getSmithyContext)(r),[,s,i,a,c,l]=o??[],d=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,m=await e.protocol.serializeRequest(Pi(s,i,a,c,l),n.input,{...e,...r,endpoint:d});return t({...n,request:m})}});function So(e){return{applyToStack:t=>{t.add(Cw(e),Pw),t.add(Iw(e),Rw),e.protocol.setSerdeContext(e)}}}var Rw,Pw,Dw=_(()=>{vw();xw();Rw={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Pw={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Me,vn=_(()=>{Me=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var el,zH,Nw=_(()=>{vn();el=class e extends Me{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},zH=(e,t,r,n)=>Me.assign(new el,{name:t,namespace:e,traits:r,valueSchema:n})});var tl,VH,Ow=_(()=>{vn();tl=class e extends Me{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},VH=(e,t,r,n,o)=>Me.assign(new tl,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:o})});var rl,WH,kw=_(()=>{vn();rl=class e extends Me{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},WH=(e,t,r,n,o)=>Me.assign(new rl,{name:t,namespace:e,traits:r,input:n,output:o})});var ss,KH,kh=_(()=>{vn();ss=class e extends Me{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},KH=(e,t,r,n,o)=>Me.assign(new ss,{name:t,namespace:e,traits:r,memberNames:n,memberList:o})});var nl,YH,$w=_(()=>{vn();kh();nl=class e extends ss{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},YH=(e,t,r,n,o,s)=>Me.assign(new nl,{name:t,namespace:e,traits:r,memberNames:n,memberList:o,ctor:null})});function hr(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var $h=_(()=>{});function Di(e,t){if(e instanceof M)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=M;return new r(e,t)}var M,Lh,Lw,Mw=_(()=>{Nh();$h();M=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Lh(o);)n.push(o[1]),o=o[0],s=Qt(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,hr(a))}}else this.memberTraits=0;if(s instanceof e){let i=this.memberTraits;Object.assign(this,s),this.memberTraits=Object.assign({},i,s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??s.memberName;return}if(this.schema=Qt(s),Lw(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(s),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=Qt(t);if(r instanceof e)return r;if(Lh(r)){let[n,o]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),hr(o)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let r=this.getSchema()[0];return r===3||r===-3||r===4}isUnionSchema(){return this.getSchema()[0]===4}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=s=>(s&4)===4||!!s?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:o}=this;return t(r)||t(n)||t(o)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return hr(this.memberTraits)}getOwnTraits(){return hr(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),o=t?15:n[4]??0;return Di([o,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,o]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],s=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||o)?t[3+t[0]]:r?15:void 0;if(s!=null)return Di([s,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),o=r[5][n];return Di(Lh(o)?o:[o,0],t)}if(this.isDocumentSchema())return Di([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],Di([t[5][r],0],t[4][r])]}};Lh=e=>Array.isArray(e)&&e.length===2,Lw=e=>Array.isArray(e)&&e.length>=5});var Ni,XH,QH,Uw=_(()=>{vn();Ni=class e extends Me{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},XH=(e,t,r,n)=>Me.assign(new Ni,{name:t,namespace:e,traits:n,schemaRef:r}),QH=(e,t,r,n)=>Me.assign(new Ni,{name:t,namespace:e,traits:r,schemaRef:n})});var JH,Bw=_(()=>{JH={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var K,Fw=_(()=>{K=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,o=e.for(n[1]);o.schemas.set(n[1]+"#"+n[2],n),o.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,o=r+"#"+n;if(o.startsWith("smithy.ts.sdk.synthetic.")&&o.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var Oi={};Ze(Oi,{ErrorSchema:()=>nl,ListSchema:()=>el,MapSchema:()=>tl,NormalizedSchema:()=>M,OperationSchema:()=>rl,SCHEMA:()=>JH,Schema:()=>Me,SimpleSchema:()=>Ni,StructureSchema:()=>ss,TypeRegistry:()=>K,deref:()=>Qt,deserializerMiddlewareOption:()=>Rw,error:()=>YH,getSchemaSerdePlugin:()=>So,isStaticSchema:()=>Lw,list:()=>zH,map:()=>VH,op:()=>WH,operation:()=>Pi,serializerMiddlewareOption:()=>Pw,sim:()=>XH,simAdapter:()=>QH,struct:()=>KH,translateTraits:()=>hr});var fe=_(()=>{Nh();Dw();Nw();Ow();kw();Zc();$w();Mw();vn();Uw();kh();Bw();$h();Fw()});var ZH,Gw=_(()=>{ZH=(e,t,r=n=>n)=>e});var eq,tq,ki,rq,ol,$i,nq,Mh,Uh,Bh,Fh,oq,sq,jw,iq,aq,il,cq,Gh,lq,is,jh,uq,dq,pq,Hw,qw,mq,fq,Eo,Hh,sl,Li,qh=_(()=>{eq=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},tq=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Li.warn(sl(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Li.warn(sl(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},ki=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Li.warn(sl(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},rq=Math.ceil(34028234663852886e22),ol=e=>{let t=ki(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>rq)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},$i=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},nq=$i,Mh=e=>Fh(e,32),Uh=e=>Fh(e,16),Bh=e=>Fh(e,8),Fh=(e,t)=>{let r=$i(e);if(r!==void 0&&oq(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},oq=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},sq=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},jw=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},iq=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Li.warn(sl(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},aq=e=>{if(e==null)return;let t=jw(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},il=e=>ki(typeof e=="string"?is(e):e),cq=il,Gh=e=>ol(typeof e=="string"?is(e):e),lq=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,is=e=>{let t=e.match(lq);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},jh=e=>typeof e=="string"?Hw(e):ki(e),uq=jh,dq=jh,pq=e=>typeof e=="string"?Hw(e):ol(e),Hw=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},qw=e=>$i(typeof e=="string"?is(e):e),mq=qw,fq=e=>Mh(typeof e=="string"?is(e):e),Eo=e=>Uh(typeof e=="string"?is(e):e),Hh=e=>Bh(typeof e=="string"?is(e):e),sl=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Li={warn:console.warn}});function Ui(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=s<10?`0${s}`:`${s}`,d=i<10?`0${i}`:`${i}`,m=a<10?`0${a}`:`${a}`;return`${hq[n]}, ${c} ${Vh[r]} ${t} ${l}:${d}:${m} GMT`}var hq,Vh,gq,yq,Sq,Wh,Eq,bq,Tq,Kh,Yh,Mi,_q,wq,Iq,zh,vq,Aq,Cq,gr,xq,Rq,as,zw=_(()=>{qh();hq=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Vh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];gq=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),yq=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=gq.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l]=t,d=Eo(as(n)),m=gr(o,"month",1,12),y=gr(s,"day",1,31);return Mi(d,m,y,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},Sq=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Wh=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Sq.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l,d]=t,m=Eo(as(n)),y=gr(o,"month",1,12),g=gr(s,"day",1,31),S=Mi(m,y,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return d.toUpperCase()!="Z"&&S.setTime(S.getTime()-Rq(d)),S},Eq=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),bq=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Tq=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Kh=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Eq.exec(e);if(t){let[r,n,o,s,i,a,c,l]=t;return Mi(Eo(as(s)),zh(o),gr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=bq.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return Iq(Mi(_q(s),zh(o),gr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=Tq.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return Mi(Eo(as(l)),zh(n),gr(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},Yh=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=il(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Mi=(e,t,r,n)=>{let o=t-1;return Aq(e,o,r),new Date(Date.UTC(e,o,r,gr(n.hours,"hour",0,23),gr(n.minutes,"minute",0,59),gr(n.seconds,"seconds",0,60),xq(n.fractionalMilliseconds)))},_q=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Eo(as(e));return r<t?r+100:r},wq=50*365*24*60*60*1e3,Iq=e=>e.getTime()-new Date().getTime()>wq?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,zh=e=>{let t=Vh.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},vq=[31,28,31,30,31,30,31,31,30,31,30,31],Aq=(e,t,r)=>{let n=vq[t];if(t===1&&Cq(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Vh[t]} in ${e}: ${r}`)},Cq=e=>e%4===0&&(e%100!==0||e%400===0),gr=(e,t,r,n)=>{let o=Hh(as(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},xq=e=>e==null?0:Gh("0."+e)*1e3,Rq=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},as=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var Bi={};Ze(Bi,{__addDisposableResource:()=>gI,__assign:()=>al,__asyncDelegator:()=>cI,__asyncGenerator:()=>aI,__asyncValues:()=>lI,__await:()=>cs,__awaiter:()=>tI,__classPrivateFieldGet:()=>mI,__classPrivateFieldIn:()=>hI,__classPrivateFieldSet:()=>fI,__createBinding:()=>ll,__decorate:()=>Kw,__disposeResources:()=>yI,__esDecorate:()=>Xw,__exportStar:()=>nI,__extends:()=>Vw,__generator:()=>rI,__importDefault:()=>pI,__importStar:()=>dI,__makeTemplateObject:()=>uI,__metadata:()=>eI,__param:()=>Yw,__propKey:()=>Jw,__read:()=>Jh,__rest:()=>Ww,__rewriteRelativeImportExtension:()=>SI,__runInitializers:()=>Qw,__setFunctionName:()=>Zw,__spread:()=>oI,__spreadArray:()=>iI,__spreadArrays:()=>sI,__values:()=>cl,default:()=>Nq});function Vw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Xh(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Ww(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Kw(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function Yw(e,t){return function(r,n){t(r,n,e)}}function Xw(e,t,r,n,o,s){function i(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),m,y=!1,g=r.length-1;g>=0;g--){var S={};for(var T in n)S[T]=T==="access"?{}:n[T];for(var T in n.access)S.access[T]=n.access[T];S.addInitializer=function(x){if(y)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(x||null))};var I=(0,r[g])(a==="accessor"?{get:d.get,set:d.set}:d[c],S);if(a==="accessor"){if(I===void 0)continue;if(I===null||typeof I!="object")throw new TypeError("Object expected");(m=i(I.get))&&(d.get=m),(m=i(I.set))&&(d.set=m),(m=i(I.init))&&o.unshift(m)}else(m=i(I))&&(a==="field"?o.unshift(m):d[c]=m)}l&&Object.defineProperty(l,n.name,d),y=!0}function Qw(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function Jw(e){return typeof e=="symbol"?e:"".concat(e)}function Zw(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function eI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function tI(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(d){try{l(n.next(d))}catch(m){i(m)}}function c(d){try{l(n.throw(d))}catch(m){i(m)}}function l(d){d.done?s(d.value):o(d.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function rI(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(d){return c([l,d])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(s=l[0]&2?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(d){l=[6,d],o=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function nI(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ll(t,e,r)}function cl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jh(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function oI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jh(arguments[t]));return e}function sI(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function iI(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function cs(e){return this instanceof cs?(this.v=e,this):new cs(e)}function aI(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(g){return function(S){return Promise.resolve(S).then(g,m)}}function a(g,S){n[g]&&(o[g]=function(T){return new Promise(function(I,x){s.push([g,T,I,x])>1||c(g,T)})},S&&(o[g]=S(o[g])))}function c(g,S){try{l(n[g](S))}catch(T){y(s[0][3],T)}}function l(g){g.value instanceof cs?Promise.resolve(g.value.v).then(d,m):y(s[0][2],g)}function d(g){c("next",g)}function m(g){c("throw",g)}function y(g,S){g(S),s.shift(),s.length&&c(s[0][0],s[0][1])}}function cI(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:cs(e[o](i)),done:!1}:s?s(i):i}:s}}function lI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof cl=="function"?cl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}}function uI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function dI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Qh(e),n=0;n<r.length;n++)r[n]!=="default"&&ll(t,e,r[n]);return Pq(t,e),t}function pI(e){return e&&e.__esModule?e:{default:e}}function mI(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function fI(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function hI(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function gI(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function yI(e){function t(s){e.error=e.hasError?new Dq(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function SI(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var Xh,al,ll,Pq,Qh,Dq,Nq,Fi=_(()=>{Xh=function(e,t){return Xh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Xh(e,t)};al=function(){return al=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},al.apply(this,arguments)};ll=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};Pq=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Qh=function(e){return Qh=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Qh(e)};Dq=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};Nq={__extends:Vw,__assign:al,__rest:Ww,__decorate:Kw,__param:Yw,__esDecorate:Xw,__runInitializers:Qw,__propKey:Jw,__setFunctionName:Zw,__metadata:eI,__awaiter:tI,__generator:rI,__createBinding:ll,__exportStar:nI,__values:cl,__read:Jh,__spread:oI,__spreadArrays:sI,__spreadArray:iI,__await:cs,__asyncGenerator:aI,__asyncDelegator:cI,__asyncValues:lI,__makeTemplateObject:uI,__importStar:dI,__importDefault:pI,__classPrivateFieldGet:mI,__classPrivateFieldSet:fI,__classPrivateFieldIn:hI,__addDisposableResource:gI,__disposeResources:yI,__rewriteRelativeImportExtension:SI}});var bI=D(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.randomUUID=void 0;var Oq=(Fi(),ee(Bi)),EI=Oq.__importDefault(require("crypto"));ul.randomUUID=EI.default.randomUUID.bind(EI.default)});var Zh=D(_I=>{"use strict";var TI=bI(),tt=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),kq=()=>{if(TI.randomUUID)return TI.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,tt[e[0]]+tt[e[1]]+tt[e[2]]+tt[e[3]]+"-"+tt[e[4]]+tt[e[5]]+"-"+tt[e[6]]+tt[e[7]]+"-"+tt[e[8]]+tt[e[9]]+"-"+tt[e[10]]+tt[e[11]]+tt[e[12]]+tt[e[13]]+tt[e[14]]+tt[e[15]]};_I.v4=kq});var Bt,wI=_(()=>{Bt=w(Zh())});var ht,II=_(()=>{ht=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};ht.from=e=>e&&typeof e=="object"&&(e instanceof ht||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?ht(String(e)):ht(JSON.stringify(e));ht.fromObject=ht.from});function eg(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var vI=_(()=>{});function jr(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var tg,rg,ng,AI,CI,$q,Lq,Mq,Uq,Bq,ls,og,sg,xI=_(()=>{tg="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",rg="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",ng="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",AI="(\\d?\\d)",CI="(\\d{4})",$q=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),Lq=new RegExp(`^${tg}, ${AI} ${rg} ${CI} ${ng} GMT$`),Mq=new RegExp(`^${tg}, ${AI}-${rg}-(\\d\\d) ${ng} GMT$`),Uq=new RegExp(`^${tg} ${rg} ( [1-9]|\\d\\d) ${ng} ${CI}$`),Bq=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ls=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},og=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=$q.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,o,s,i,a,,c,l]=t;jr(n,1,12),jr(o,1,31),jr(s,0,23),jr(i,0,59),jr(a,0,60);let d=new Date(Date.UTC(Number(r),Number(n)-1,Number(o),Number(s),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(d.setUTCFullYear(Number(r)),l.toUpperCase()!="Z"){let[,m,y,g]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],S=m==="-"?1:-1;d.setTime(d.getTime()+S*(Number(y)*60*60*1e3+Number(g)*60*1e3))}return d},sg=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,o,s,i,a,c;if((c=Lq.exec(e))?[,t,r,n,o,s,i,a]=c:(c=Mq.exec(e))?([,t,r,n,o,s,i,a]=c,n=(Number(n)+1900).toString()):(c=Uq.exec(e))&&([,r,t,o,s,i,a,n]=c),n&&i){let l=Date.UTC(Number(n),Bq.indexOf(r),Number(t),Number(o),Number(s),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);jr(t,1,31),jr(o,0,23),jr(s,0,59),jr(i,0,60);let d=new Date(l);return d.setUTCFullYear(Number(n)),d}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function ig(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var RI=_(()=>{});var Gi,PI=_(()=>{Gi=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function ag(e){return new Pe(String(e),"bigDecimal")}var DI,Pe,NI=_(()=>{DI=/^-?\d*(\.\d+)?$/,Pe=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!DI.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&DI.test(r.string)}}});var OI={};Ze(OI,{LazyJsonString:()=>ht,NumericValue:()=>Pe,_parseEpochTimestamp:()=>ls,_parseRfc3339DateTimeWithOffset:()=>og,_parseRfc7231DateTime:()=>sg,copyDocumentWithTransform:()=>ZH,dateToUtcString:()=>Ui,expectBoolean:()=>tq,expectByte:()=>Bh,expectFloat32:()=>ol,expectInt:()=>nq,expectInt32:()=>Mh,expectLong:()=>$i,expectNonNull:()=>sq,expectNumber:()=>ki,expectObject:()=>jw,expectShort:()=>Uh,expectString:()=>iq,expectUnion:()=>aq,generateIdempotencyToken:()=>Bt.v4,handleFloat:()=>uq,limitedParseDouble:()=>jh,limitedParseFloat:()=>dq,limitedParseFloat32:()=>pq,logger:()=>Li,nv:()=>ag,parseBoolean:()=>eq,parseEpochTimestamp:()=>Yh,parseRfc3339DateTime:()=>yq,parseRfc3339DateTimeWithOffset:()=>Wh,parseRfc7231DateTime:()=>Kh,quoteHeader:()=>eg,splitEvery:()=>ig,splitHeader:()=>Gi,strictParseByte:()=>Hh,strictParseDouble:()=>il,strictParseFloat:()=>cq,strictParseFloat32:()=>Gh,strictParseInt:()=>mq,strictParseInt32:()=>fq,strictParseLong:()=>qw,strictParseShort:()=>Eo});var _t=_(()=>{Gw();zw();wI();II();qh();vI();xI();RI();PI();NI()});var gt,us=_(()=>{gt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var dl,cg,kI=_(()=>{dl=w(Ve()),cg=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:o,defaultContentType:s}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=o,this.defaultContentType=s}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let o=this.marshaller,s=r.getEventStreamMember(),i=r.getMemberSchema(s),a=this.serializer,c=this.defaultContentType,l=Symbol("initialRequestMarker"),d={async*[Symbol.asyncIterator](){if(n){let m={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let y=a.flush();yield{[l]:!0,headers:m,body:y}}for await(let m of t)yield m}};return o.serialize(d,m=>{if(m[l])return{headers:m.headers,body:m.body};let y=Object.keys(m).find(C=>C!=="__type")??"",{additionalHeaders:g,body:S,eventType:T,explicitPayloadContentType:I}=this.writeEventBody(y,i,m);return{headers:{":event-type":{type:"string",value:T},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:I??c},...g},body:S}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let o=this.marshaller,s=r.getEventStreamMember(),a=r.getMemberSchema(s).getMemberSchemas(),c=Symbol("initialResponseMarker"),l=o.deserialize(t.body,async y=>{let g=Object.keys(y).find(T=>T!=="__type")??"",S=y[g].body;if(g==="initial-response"){let T=await this.deserializer.read(r,S);return delete T[s],{[c]:!0,...T}}else if(g in a){let T=a[g];if(T.isStructSchema()){let I={},x=!1;for(let[C,O]of T.structIterator()){let{eventHeader:k,eventPayload:H}=O.getMergedTraits();if(x=x||!!(k||H),H)O.isBlobSchema()?I[C]=S:O.isStringSchema()?I[C]=(this.serdeContext?.utf8Encoder??dl.toUtf8)(S):O.isStructSchema()&&(I[C]=await this.deserializer.read(O,S));else if(k){let J=y[g].headers[C]?.value;J!=null&&(O.isNumericSchema()?J&&typeof J=="object"&&"bytes"in J?I[C]=BigInt(J.toString()):I[C]=Number(J):I[C]=J)}}if(x)return{[g]:I}}return{[g]:await this.deserializer.read(T,S)}}else return{$unknown:y}}),d=l[Symbol.asyncIterator](),m=await d.next();if(m.done)return l;if(m.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[y,g]of Object.entries(m.value))n[y]=g}return{async*[Symbol.asyncIterator](){for(m?.value?.[c]||(yield m.value);;){let{done:y,value:g}=await d.next();if(y)break;yield g}}}}writeEventBody(t,r,n){let o=this.serializer,s=t,i=null,a,c=r.getSchema()[4].includes(t),l={};if(c){let y=r.getMemberSchema(t);if(y.isStructSchema()){for(let[g,S]of y.structIterator()){let{eventHeader:T,eventPayload:I}=S.getMergedTraits();if(I)i=g;else if(T){let x=n[t][g],C="binary";S.isNumericSchema()?(-2)**31<=x&&x<=2**31-1?C="integer":C="long":S.isTimestampSchema()?C="timestamp":S.isStringSchema()?C="string":S.isBooleanSchema()&&(C="boolean"),x!=null&&(l[g]={type:C,value:x},delete n[t][g])}}if(i!==null){let g=y.getMemberSchema(i);g.isBlobSchema()?a="application/octet-stream":g.isStringSchema()&&(a="text/plain"),o.write(g,n[t][i])}else o.write(y,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[y,g]=n[t];s=y,o.write(15,g)}let d=o.flush();return{body:typeof d=="string"?(this.serdeContext?.utf8Decoder??dl.fromUtf8)(d):d,eventType:s,explicitPayloadContentType:a,additionalHeaders:l}}}});var $I={};Ze($I,{EventStreamSerde:()=>cg});var LI=_(()=>{kI()});var pl,bo,ml=_(()=>{fe();pl=w(_e());us();bo=class extends gt{options;constructor(t){super(),this.options=t}getRequestType(){return pl.HttpRequest}getResponseType(){return pl.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,o]of r.url.searchParams.entries())t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=M.of(r.input),s=hr(r.traits??{});if(s.endpoint){let i=s.endpoint?.[0];if(typeof i=="string"){let a=[...o.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(LI(),$I));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,o,s){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var MI,UI,To,BI=_(()=>{fe();_t();MI=w(_e()),UI=w(Yc());Qc();Jc();ml();To=class extends bo{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),l=M.of(t?.input),d=l.getSchema(),m=!1,y,g=new MI.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(g,c),this.setHostPrefix(g,t,o);let S=hr(t.traits);if(S.http){g.method=S.http[0];let[T,I]=S.http[1].split("?");g.path=="/"?g.path=T:g.path+=T;let x=new URLSearchParams(I??"");Object.assign(i,Object.fromEntries(x))}}for(let[S,T]of l.structIterator()){let I=T.getMergedTraits()??{},x=o[S];if(!(x==null&&!T.isIdempotencyToken()))if(I.httpPayload)T.isStreaming()?T.isStructSchema()?o[S]&&(y=await this.serializeEventStream({eventStream:o[S],requestSchema:l})):y=x:(s.write(T,x),y=s.flush()),delete o[S];else if(I.httpLabel){s.write(T,x);let C=s.flush();g.path.includes(`{${S}+}`)?g.path=g.path.replace(`{${S}+}`,C.split("/").map(fr).join("/")):g.path.includes(`{${S}}`)&&(g.path=g.path.replace(`{${S}}`,fr(C))),delete o[S]}else if(I.httpHeader)s.write(T,x),a[I.httpHeader.toLowerCase()]=String(s.flush()),delete o[S];else if(typeof I.httpPrefixHeaders=="string"){for(let[C,O]of Object.entries(x)){let k=I.httpPrefixHeaders+C;s.write([T.getValueSchema(),{httpHeader:k}],O),a[k.toLowerCase()]=s.flush()}delete o[S]}else I.httpQuery||I.httpQueryParams?(this.serializeQuery(T,x,i),delete o[S]):m=!0}return m&&o&&(s.write(d,o),y=s.flush()),g.headers=a,g.query=i,g.body=y,g}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let c=t.getValueSchema();Object.assign(c.getMergedTraits(),{...s,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let l=o.flush();(i||l!==void 0)&&a.push(l)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=M.of(t.output),i={};if(n.statusCode>=300){let c=await Ut(n.body,r);throw c.byteLength>0&&Object.assign(i,await o.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let c=await Ut(n.body,r);if(c.byteLength>0){let l=await o.read(s,c);for(let d of a)i[d]=l[d]}}else a.discardResponseBody&&await Ut(n.body,r);return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=!0,c=this.deserializer,l=M.of(t),d=[];for(let[m,y]of l.structIterator()){let g=y.getMemberTraits();if(g.httpPayload){if(a=!1,y.isStreaming())y.isStructSchema()?i[m]=await this.deserializeEventStream({response:n,responseSchema:l}):i[m]=(0,UI.sdkStreamMixin)(n.body);else if(n.body){let T=await Ut(n.body,r);T.byteLength>0&&(i[m]=await c.read(y,T))}}else if(g.httpHeader){let S=String(g.httpHeader).toLowerCase(),T=n.headers[S];if(T!=null)if(y.isListSchema()){let I=y.getValueSchema();I.getMergedTraits().httpHeader=S;let x;I.isTimestampSchema()&&I.getSchema()===4?x=ig(T,",",2):x=Gi(T);let C=[];for(let O of x)C.push(await c.read(I,O.trim()));i[m]=C}else i[m]=await c.read(y,T)}else if(g.httpPrefixHeaders!==void 0){i[m]={};for(let[S,T]of Object.entries(n.headers))if(S.startsWith(g.httpPrefixHeaders)){let I=y.getValueSchema();I.getMergedTraits().httpHeader=S,i[m][S.slice(g.httpPrefixHeaders.length)]=await c.read(I,T)}}else g.httpResponseCode?i[m]=n.statusCode:d.push(m)}return d.discardResponseBody=a,d}}});var FI,Hr,GI=_(()=>{fe();FI=w(_e());Qc();ml();Hr=class extends bo{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),c=M.of(t?.input),l=c.getSchema(),d,m=new FI.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(m,a),this.setHostPrefix(m,t,r));let y={...r};if(r){let g=c.getEventStreamMember();if(g){if(y[g]){let S={};for(let[T,I]of c.structIterator())T!==g&&y[T]&&(o.write(I,y[T]),S[T]=o.flush());d=await this.serializeEventStream({eventStream:y[g],requestSchema:c,initialRequest:S})}}else o.write(l,y),d=o.flush()}return m.headers=i,m.query=s,m.body=d,m.method="POST",m}async deserializeResponse(t,r,n){let o=this.deserializer,s=M.of(t.output),i={};if(n.statusCode>=300){let c=await Ut(n.body,r);throw c.byteLength>0&&Object.assign(i,await o.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=s.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:s,initialResponseContainer:i});else{let c=await Ut(n.body,r);c.byteLength>0&&Object.assign(i,await o.read(s,c))}return i.$metadata=this.deserializeMetadata(n),i}}});var lg,ug=_(()=>{Jc();lg=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>fr(a)).join("/"):fr(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function dg(e,t){return new fl(e,t)}var jI,fl,HI=_(()=>{jI=w(_e());ug();fl=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new jI.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=lg(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Rt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?6:s||r?5:void 0:void 0)??t.timestampFormat.default}var hl=_(()=>{});var pg,qI,_o,mg=_(()=>{fe();_t();pg=w(He()),qI=w(Ve());us();hl();_o=class extends gt{settings;constructor(t){super(),this.settings=t}read(t,r){let n=M.of(t);if(n.isListSchema())return Gi(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??pg.fromBase64)(r);if(n.isTimestampSchema())switch(Rt(n,this.settings)){case 5:return og(r);case 6:return sg(r);case 7:return ls(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=ht.from(s)),s}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new Pe(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??qI.toUtf8)((this.serdeContext?.base64Decoder??pg.fromBase64)(t))}}});var gl,wo,zI=_(()=>{fe();gl=w(Ve());us();mg();wo=class extends gt{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new _o(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=M.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??gl.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??gl.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var fg,ji,hg=_(()=>{fe();_t();fg=w(He());us();hl();ji=class extends gt{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=M.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Rt(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Ui(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??fg.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:eg(c);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=ht.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??fg.toBase64)(s.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,Bt.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Io,VI=_(()=>{fe();hg();Io=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new ji(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=M.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var WI={};Ze(WI,{FromStringShapeDeserializer:()=>_o,HttpBindingProtocol:()=>To,HttpInterceptingShapeDeserializer:()=>wo,HttpInterceptingShapeSerializer:()=>Io,HttpProtocol:()=>bo,RequestBuilder:()=>fl,RpcProtocol:()=>Hr,SerdeContext:()=>gt,ToStringShapeSerializer:()=>ji,collectBody:()=>Ut,determineTimestampFormat:()=>Rt,extendedEncodeURIComponent:()=>fr,requestBuilder:()=>dg,resolvedPath:()=>lg});var wt=_(()=>{Qc();Jc();BI();ml();GI();HI();ug();mg();zI();VI();hg();hl();us()});var KI=_(()=>{wt()});function Fq(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var YI=_(()=>{});var qr,XI=_(()=>{qr=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var QI,gg,yg,JI=_(()=>{QI=w(_e()),gg=w(bn()),yg=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=QI.HttpRequest.clone(t);if(n.in===gg.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===gg.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var ZI,Sg,ev=_(()=>{ZI=w(_e()),Sg=class{async sign(t,r,n){let o=ZI.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Jt,tv=_(()=>{Jt=class{async sign(t,r,n){return t}}});var rv=_(()=>{JI();ev();tv()});var nv,Gq,Eg,yl,bg,ov=_(()=>{nv=e=>function(r){return yl(r)&&r.expiration.getTime()-Date.now()<e},Gq=3e5,Eg=nv(3e5),yl=e=>e.expiration!==void 0,bg=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async l=>{s||(s=n(l));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async l=>((!i||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!i||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))}});var sv=_(()=>{XI();rv();ov()});var vo={};Ze(vo,{DefaultIdentityProviderConfig:()=>qr,EXPIRATION_MS:()=>Gq,HttpApiKeyAuthSigner:()=>yg,HttpBearerAuthSigner:()=>Sg,NoAuthSigner:()=>Jt,createIsIdentityExpiredFunction:()=>nv,createPaginator:()=>T_,doesIdentityRequireRefresh:()=>yl,getHttpAuthSchemeEndpointRuleSetPlugin:()=>go,getHttpAuthSchemePlugin:()=>w2,getHttpSigningPlugin:()=>yo,getSmithyContext:()=>E2,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>s_,httpAuthSchemeMiddleware:()=>Ci,httpAuthSchemeMiddlewareOptions:()=>p_,httpSigningMiddleware:()=>eh,httpSigningMiddlewareOptions:()=>y_,isIdentityExpired:()=>Eg,memoizeIdentityProvider:()=>bg,normalizeProvider:()=>_n,requestBuilder:()=>dg,setFeature:()=>Fq});var rt=_(()=>{t_();f_();E_();b_();__();KI();YI();sv()});var Cn=D(Ao=>{"use strict";var _g=bn(),wg=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let o=this.data.keys(),s=0;for(;;){let{value:i,done:a}=o.next();if(this.data.delete(i),a||++s>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let o of n){let s=String(t[o]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}},jq=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),iv=e=>jq.test(e)||e.startsWith("[")&&e.endsWith("]"),Hq=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),vg=(e,t=!1)=>{if(!t)return Hq.test(e);let r=e.split(".");for(let n of r)if(!vg(n))return!1;return!0},Ig={},Hi="endpoints";function An(e){return typeof e!="object"||e==null?e:"ref"in e?`$${An(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(An).join(", ")})`:JSON.stringify(e,null,2)}var nt=class extends Error{constructor(t){super(t),this.name="EndpointError"}},qq=(e,t)=>e===t,zq=e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new nt(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new nt(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},av=(e,t)=>zq(t).reduce((r,n)=>{if(typeof r!="object")throw new nt(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),Vq=e=>e!=null,Wq=e=>!e,Tg={[_g.EndpointURLScheme.HTTP]:80,[_g.EndpointURLScheme.HTTPS]:443},Kq=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:y,port:g,protocol:S="",path:T="",query:I={}}=e,x=new URL(`${S}//${y}${g?`:${g}`:""}${T}`);return x.search=Object.entries(I).map(([C,O])=>`${C}=${O}`).join("&"),x}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(_g.EndpointURLScheme).includes(c))return null;let l=iv(o),d=r.includes(`${n}:${Tg[c]}`)||typeof e=="string"&&e.includes(`${n}:${Tg[c]}`),m=`${n}${d?`:${Tg[c]}`:""}`;return{scheme:c,authority:m,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},Yq=(e,t)=>e===t,Xq=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),Qq=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Jq={booleanEquals:qq,getAttr:av,isSet:Vq,isValidHostLabel:vg,not:Wq,parseURL:Kq,stringEquals:Yq,substring:Xq,uriEncode:Qq},cv=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,l]=a.split("#");r.push(av(n[c],l))}else r.push(n[a]);o=i+1}return r.join("")},Zq=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Sl=(e,t,r)=>{if(typeof e=="string")return cv(e,r);if(e.fn)return uv.callFunction(e,r);if(e.ref)return Zq(e,r);throw new nt(`'${t}': ${String(e)} is not a string, function or reference.`)},lv=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:uv.evaluateExpression(s,"arg",r)),o=e.split(".");return o[0]in Ig&&o[1]!=null?Ig[o[0]][o[1]](...n):Jq[e](...n)},uv={evaluateExpression:Sl,callFunction:lv},ez=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new nt(`'${e}' is already defined in Reference Record.`);let n=lv(t,r);return r.logger?.debug?.(`${Hi} evaluateCondition: ${An(t)} = ${An(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},Ag=(e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=ez(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${Hi} assign: ${s.name} := ${An(s.value)}`))}return{result:!0,referenceRecord:r}},tz=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Sl(s,"Header value entry",t);if(typeof i!="string")throw new nt(`Header '${n}' value '${i}' is not a string`);return i})}),{}),dv=(e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:mv.getEndpointProperty(o,t)}),{}),pv=(e,t)=>{if(Array.isArray(e))return e.map(r=>pv(r,t));switch(typeof e){case"string":return cv(e,t);case"object":if(e===null)throw new nt(`Unexpected endpoint property: ${e}`);return mv.getEndpointProperties(e,t);case"boolean":return e;default:throw new nt(`Unexpected endpoint property type: ${typeof e}`)}},mv={getEndpointProperty:pv,getEndpointProperties:dv},rz=(e,t)=>{let r=Sl(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new nt(`Endpoint URL must be a string, got ${typeof r}`)},nz=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=Ag(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${Hi} Resolving endpoint from template: ${An(n)}`),{...l!=null&&{headers:tz(l,i)},...c!=null&&{properties:dv(c,i)},url:rz(a,i)}},oz=(e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=Ag(r,t);if(o)throw new nt(Sl(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},fv=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=nz(r,t);if(n)return n}else if(r.type==="error")oz(r,t);else if(r.type==="tree"){let n=hv.evaluateTreeRule(r,t);if(n)return n}else throw new nt(`Unknown endpoint rule: ${r}`);throw new nt("Rules evaluation failed")},sz=(e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=Ag(r,t);if(o)return hv.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},hv={evaluateRules:fv,evaluateTreeRule:sz},iz=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${Hi} Initial EndpointParams: ${An(r)}`);let i=Object.entries(o).filter(([,l])=>l.default!=null).map(([l,d])=>[l,d.default]);if(i.length>0)for(let[l,d]of i)r[l]=r[l]??d;let a=Object.entries(o).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new nt(`Missing required parameter: '${l}'`);let c=fv(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${Hi} Resolved endpoint: ${An(c)}`),c};Ao.EndpointCache=wg;Ao.EndpointError=nt;Ao.customEndpointFunctions=Ig;Ao.isIpAddress=iv;Ao.isValidHostLabel=vg;Ao.resolveEndpoint=iz});var yv=D(gv=>{"use strict";function az(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}gv.parseQueryString=az});var zr=D(Ev=>{"use strict";var cz=yv(),Sv=e=>{if(typeof e=="string")return Sv(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=cz.parseQueryString(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}};Ev.parseUrl=Sv});var Co=D(Zt=>{"use strict";var ds=Cn(),lz=zr(),Tv=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!Tv(r))return!1;return!0}return!(!ds.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||ds.isIpAddress(e))},bv=":",uz="/",dz=e=>{let t=e.split(bv);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(bv)==="")return null;let c=a.map(l=>l.split(uz)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},pz=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],mz="1.1",_v={partitions:pz,version:mz},wv=_v,Iv="",vv=e=>{let{partitions:t}=wv;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Av=(e,t="")=>{wv=e,Iv=t},fz=()=>{Av(_v,"")},hz=()=>Iv,Cv={isVirtualHostableS3Bucket:Tv,parseArn:dz,partition:vv};ds.customEndpointFunctions.aws=Cv;var gz=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>xv(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},xv=e=>lz.parseUrl(e.url);Object.defineProperty(Zt,"EndpointError",{enumerable:!0,get:function(){return ds.EndpointError}});Object.defineProperty(Zt,"isIpAddress",{enumerable:!0,get:function(){return ds.isIpAddress}});Object.defineProperty(Zt,"resolveEndpoint",{enumerable:!0,get:function(){return ds.resolveEndpoint}});Zt.awsEndpointFunctions=Cv;Zt.getUserAgentPrefix=hz;Zt.partition=vv;Zt.resolveDefaultAwsRegionalEndpointsConfig=gz;Zt.setPartitionInfo=Av;Zt.toEndpointV1=xv;Zt.useDefaultPartitionInfo=fz});var El,xn,Rv=_(()=>{El={warningEmitted:!1},xn=e=>{e&&!El.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(El.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function Rn(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Pv=_(()=>{});function Dv(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var Nv=_(()=>{});function Ov(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var kv=_(()=>{});var Vr={};Ze(Vr,{emitWarningIfUnsupportedVersion:()=>xn,setCredentialFeature:()=>Rn,setFeature:()=>Dv,setTokenFeature:()=>Ov,state:()=>El});var Ft=_(()=>{Rv();Pv();Nv();kv()});var $v,Cg,Lv=_(()=>{$v=w(_e()),Cg=e=>$v.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var ps,xg=_(()=>{ps=e=>new Date(Date.now()+e)});var Mv,Uv=_(()=>{xg();Mv=(e,t)=>Math.abs(ps(t).getTime()-e)>=3e5});var Rg,Bv=_(()=>{Uv();Rg=(e,t)=>{let r=Date.parse(e);return Mv(r,t)?r-Date.now():t}});var Pg=_(()=>{Lv();xg();Bv()});var Fv,qi,ms,ot,Dg,Ng=_(()=>{Fv=w(_e());Pg();qi=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},ms=async e=>{let t=qi("context",e.context),r=qi("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await qi("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},ot=class{async sign(t,r,n){if(!Fv.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await ms(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,l=n.context;if(l?.authSchemes?.length??0>1){let[m,y]=l.authSchemes;m?.name==="sigv4a"&&y?.name==="sigv4"&&(a=y?.signingRegion??a,c=y?.signingName??c)}return await i.sign(t,{signingDate:ps(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??Cg(r.$response);if(n){let o=qi("config",t.config),s=o.systemClockOffset;o.systemClockOffset=Rg(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Cg(t);if(n){let o=qi("config",r.config);o.systemClockOffset=Rg(n,o.systemClockOffset)}}},Dg=ot});var Gv,zi,jv=_(()=>{Gv=w(_e());Pg();Ng();zi=class extends ot{async sign(t,r,n){if(!Gv.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await ms(n),d=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:ps(o.systemClockOffset),signingRegion:d,signingService:c})}}});var Og,Hv=_(()=>{Og=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var bl,kg=_(()=>{bl=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var qv,zv,Pn,Vv=_(()=>{Hv();kg();qv="AWS_AUTH_SCHEME_PREFERENCE",zv="auth_scheme_preference",Pn={environmentVariableSelector:(e,t)=>{if(t?.signingName&&bl(t.signingName)in e)return["httpBearerAuth"];if(qv in e)return Og(e[qv])},configFileSelector:e=>{if(zv in e)return Og(e[zv])},default:[]}});var st=D(xo=>{"use strict";var fs=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.tryNextLink=o,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},$g=class e extends fs{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},Lg=class e extends fs{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},yz=(...e)=>async()=>{if(e.length===0)throw new fs("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},Sz=e=>()=>Promise.resolve(e),Ez=(e,t,r)=>{let n,o,s,i=!1,a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};xo.CredentialsProviderError=$g;xo.ProviderError=fs;xo.TokenProviderError=Lg;xo.chain=yz;xo.fromStatic=Sz;xo.memoize=Ez});var Mg,Wv,Kv,Yv=_(()=>{rt();Mg=w(st()),Wv=e=>(e.sigv4aSigningRegionSet=_n(e.sigv4aSigningRegionSet),e),Kv={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Mg.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Mg.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var EA=D(re=>{"use strict";var Dn=Ch(),Ro=Ve(),bz=rh(),Zv=_e(),Xv=et(),Tl=hh(),eA="X-Amz-Algorithm",tA="X-Amz-Credential",Hg="X-Amz-Date",rA="X-Amz-SignedHeaders",nA="X-Amz-Expires",qg="X-Amz-Signature",zg="X-Amz-Security-Token",Tz="X-Amz-Region-Set",Vg="authorization",Wg=Hg.toLowerCase(),oA="date",sA=[Vg,Wg,oA],iA=qg.toLowerCase(),Al="x-amz-content-sha256",aA=zg.toLowerCase(),_z="host",cA={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},lA=/^proxy-/,uA=/^sec-/,wz=[/^proxy-/i,/^sec-/i],_l="AWS4-HMAC-SHA256",Iz="AWS4-ECDSA-P256-SHA256",dA="AWS4-HMAC-SHA256-PAYLOAD",pA="UNSIGNED-PAYLOAD",mA=50,Kg="aws4_request",fA=60*60*24*7,hs={},wl=[],Il=(e,t,r)=>`${e}/${t}/${r}/${Kg}`,hA=async(e,t,r,n,o)=>{let s=await Qv(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${Dn.toHex(s)}:${t.sessionToken}`;if(i in hs)return hs[i];for(wl.push(i);wl.length>mA;)delete hs[wl.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,Kg])a=await Qv(e,a,c);return hs[i]=a},vz=()=>{wl.length=0,Object.keys(hs).forEach(e=>{delete hs[e]})},Qv=(e,t,r)=>{let n=new e(t);return n.update(Ro.toUint8Array(r)),n.digest()},Ug=({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in cA||t?.has(s)||lA.test(s)||uA.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},vl=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Al)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||bz.isArrayBuffer(t)){let n=new r;return n.update(Ro.toUint8Array(t)),Dn.toHex(await n.digest())}return pA},Bg=class{format(t){let r=[];for(let s of Object.keys(t)){let i=Ro.fromUtf8(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=Ro.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(Fg.fromNumber(t.value.valueOf()).bytes,1),d;case"uuid":if(!Az.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let m=new Uint8Array(17);return m[0]=9,m.set(Dn.fromHex(t.value.replace(/\-/g,"")),1),m}}},Az=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Fg=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Jv(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Jv(t),parseInt(Dn.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Jv(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var gA=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},yA=(e,t={})=>{let{headers:r,query:n={}}=Zv.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},Gg=e=>{e=Zv.HttpRequest.clone(e);for(let t of Object.keys(e.headers))sA.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},SA=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===iA)continue;let o=Tl.escapeUri(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${Tl.escapeUri(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${Tl.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},Cz=e=>xz(e).toISOString().replace(/\.\d{3}Z$/,"Z"),xz=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Cl=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=Xv.normalizeProvider(n),this.credentialProvider=Xv.normalizeProvider(r)}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${SA(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n,o){let s=new this.sha256;s.update(Ro.toUint8Array(n));let i=await s.digest();return`${o}
${t}
${r}
${Dn.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return Tl.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=Cz(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},jg=class extends Cl{headerFormatter=new Bg;constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:c,signingRegion:l,signingService:d}=r,m=await this.credentialProvider();this.validateResolvedCredentials(m);let y=l??await this.regionProvider(),{longDate:g,shortDate:S}=this.formatDate(n);if(o>fA)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let T=Il(S,y,d??this.service),I=yA(Gg(t),{unhoistableHeaders:i,hoistableHeaders:c});m.sessionToken&&(I.query[zg]=m.sessionToken),I.query[eA]=_l,I.query[tA]=`${m.accessKeyId}/${T}`,I.query[Hg]=g,I.query[nA]=o.toString(10);let x=Ug(I,s,a);return I.query[rA]=this.getCanonicalHeaderList(x),I.query[qg]=await this.getSignature(g,T,this.getSigningKey(m,y,S,d),this.createCanonicalRequest(I,x,await vl(t,this.sha256))),I}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:l}=this.formatDate(n),d=Il(c,a,i??this.service),m=await vl({headers:{},body:r},this.sha256),y=new this.sha256;y.update(t);let g=Dn.toHex(await y.digest()),S=[dA,l,d,o,g,m].join(`
`);return this.signString(S,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(s,i,a,o));return c.update(Ro.toUint8Array(t)),Dn.toHex(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),l=Gg(t),{longDate:d,shortDate:m}=this.formatDate(r),y=Il(m,c,i??this.service);l.headers[Wg]=d,a.sessionToken&&(l.headers[aA]=a.sessionToken);let g=await vl(l,this.sha256);!gA(Al,l.headers)&&this.applyChecksum&&(l.headers[Al]=g);let S=Ug(l,o,n),T=await this.getSignature(d,y,this.getSigningKey(a,c,m,i),this.createCanonicalRequest(l,S,g));return l.headers[Vg]=`${_l} Credential=${a.accessKeyId}/${y}, SignedHeaders=${this.getCanonicalHeaderList(S)}, Signature=${T}`,l}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o,_l),i=new this.sha256(await n);return i.update(Ro.toUint8Array(s)),Dn.toHex(await i.digest())}getSigningKey(t,r,n,o){return hA(this.sha256,t,n,r,o||this.service)}},Rz={SignatureV4a:null};re.ALGORITHM_IDENTIFIER=_l;re.ALGORITHM_IDENTIFIER_V4A=Iz;re.ALGORITHM_QUERY_PARAM=eA;re.ALWAYS_UNSIGNABLE_HEADERS=cA;re.AMZ_DATE_HEADER=Wg;re.AMZ_DATE_QUERY_PARAM=Hg;re.AUTH_HEADER=Vg;re.CREDENTIAL_QUERY_PARAM=tA;re.DATE_HEADER=oA;re.EVENT_ALGORITHM_IDENTIFIER=dA;re.EXPIRES_QUERY_PARAM=nA;re.GENERATED_HEADERS=sA;re.HOST_HEADER=_z;re.KEY_TYPE_IDENTIFIER=Kg;re.MAX_CACHE_SIZE=mA;re.MAX_PRESIGNED_TTL=fA;re.PROXY_HEADER_PATTERN=lA;re.REGION_SET_PARAM=Tz;re.SEC_HEADER_PATTERN=uA;re.SHA256_HEADER=Al;re.SIGNATURE_HEADER=iA;re.SIGNATURE_QUERY_PARAM=qg;re.SIGNED_HEADERS_QUERY_PARAM=rA;re.SignatureV4=jg;re.SignatureV4Base=Cl;re.TOKEN_HEADER=aA;re.TOKEN_QUERY_PARAM=zg;re.UNSIGNABLE_PATTERNS=wz;re.UNSIGNED_PAYLOAD=pA;re.clearCredentialCache=vz;re.createScope=Il;re.getCanonicalHeaders=Ug;re.getCanonicalQuery=SA;re.getPayloadHash=vl;re.getSigningKey=hA;re.hasHeader=gA;re.moveHeadersToQuery=yA;re.prepareRequest=Gg;re.signatureV4aContainer=Rz});function Pz(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=bg(t,Eg,yl):r?n=_n(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Dz(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Yg,Wr,bA,TA=_(()=>{Ft();rt();Yg=w(EA()),Wr=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let d=Pz(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),m=Dz(e,d);r&&!m.attributed?(n=async y=>m(y).then(g=>Rn(g,"CREDENTIALS_CODE","e")),n.memoized=m.memoized,n.configBound=m.configBound,n.attributed=!0):n=m},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=_n(e.signer):e.regionInfoProvider?a=()=>_n(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:m,signingService:y}=l;e.signingRegion=e.signingRegion||m||d,e.signingName=e.signingName||y||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},S=e.signerConstructor||Yg.SignatureV4;return new S(g)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await _n(e.region)(),properties:{}},l);let d=l.signingRegion,m=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||m||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||Yg.SignatureV4;return new g(y)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},bA=Wr});var _A=_(()=>{Ng();jv();Vv();Yv();TA()});var wA={};Ze(wA,{AWSSDKSigV4Signer:()=>Dg,AwsSdkSigV4ASigner:()=>zi,AwsSdkSigV4Signer:()=>ot,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Pn,NODE_SIGV4A_CONFIG_OPTIONS:()=>Kv,getBearerTokenEnvKey:()=>bl,resolveAWSSDKSigV4Config:()=>bA,resolveAwsSdkSigV4AConfig:()=>Wv,resolveAwsSdkSigV4Config:()=>Wr,validateSigningProperties:()=>ms});var Xg=_(()=>{_A();kg()});function Nn(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function xl(e){return e[Qg]=!0,e}var Qg,Rl=_(()=>{Qg=Symbol("@smithy/core/cbor::tagSymbol")});function AA(e){Ae=e,Yr=new DataView(Ae.buffer,Ae.byteOffset,Ae.byteLength)}function yr(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(Ae[e]&224)>>5,n=Ae[e]&31;switch(r){case 0:case 1:case 6:let o,s;if(n<24)o=n,s=1;else switch(n){case 24:case 25:case 26:case 27:let i=xA[n],a=i+1;if(s=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let c=e+1;i===1?o=Ae[c]:i===2?o=Yr.getUint16(c):i===4?o=Yr.getUint32(c):o=Yr.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return ie=s,Jg(o);if(r===1){let i;return typeof o=="bigint"?i=BigInt(-1)-o:i=-1-o,ie=s,Jg(i)}else if(n===2||n===3){let i=Yi(e+s,t),a=BigInt(0),c=e+s+ie;for(let l=c;l<c+i;++l)a=a<<BigInt(8)|BigInt(Ae[l]);return ie=s+ie+i,n===3?-a-BigInt(1):a}else if(n===4){let i=yr(e+s,t),[a,c]=i,l=c<0?-1:1,d="0".repeat(Math.abs(a)+1)+String(BigInt(l)*BigInt(c)),m,y=c<0?"-":"";return m=a===0?d:d.slice(0,d.length+a)+"."+d.slice(a),m=m.replace(/^0+/g,""),m===""&&(m="0"),m[0]==="."&&(m="0"+m),m=y+m,ie=s+ie,ag(m)}else{let i=yr(e+s,t);return ie=s+ie,xl({tag:Jg(o),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return Uz(e,t);case 5:return Hz(e,t);case 4:return Gz(e,t);case 2:return Bz(e,t)}else switch(r){case 3:return Mz(e,t);case 5:return jz(e,t);case 4:return Fz(e,t);case 2:return oy(e,t)}default:return qz(e,t)}}function CA(e,t,r){return kz&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):IA?IA.decode(e.subarray(t,r)):(0,vA.toUtf8)(e.subarray(t,r))}function $z(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function Lz(e,t){let r=e>>7,n=(e&124)>>2,o=(e&3)<<8|t,s=r===0?1:-1,i,a;if(n===0){if(o===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return o===0?s*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=o/1024,s*(i*a)}function Yi(e,t){let r=Ae[e]&31;if(r<24)return ie=1,r;if(r===24||r===25||r===26||r===27){let n=xA[r];if(ie=n+1,t-e<ie)throw new Error(`countLength ${n} greater than remaining buf len.`);let o=e+1;return n===1?Ae[o]:n===2?Yr.getUint16(o):n===4?Yr.getUint32(o):$z(Yr.getBigUint64(o))}throw new Error(`unexpected minor value ${r}.`)}function Mz(e,t){let r=Yi(e,t),n=ie;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let o=CA(Ae,e,e+r);return ie=n+r,o}function Uz(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Ae[e]===255){let c=Nn(r.length);return c.set(r,0),ie=e-n+2,CA(c,0,c.length)}let o=(Ae[e]&224)>>5,s=Ae[e]&31;if(o!==3)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=oy(e,t);e+=ie;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function oy(e,t){let r=Yi(e,t),n=ie;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let o=Ae.subarray(e,e+r);return ie=n+r,o}function Bz(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Ae[e]===255){let c=Nn(r.length);return c.set(r,0),ie=e-n+2,c}let o=(Ae[e]&224)>>5,s=Ae[e]&31;if(o!==2)throw new Error(`unexpected major type ${o} in indefinite string.`);if(s===31)throw new Error("nested indefinite string.");let i=oy(e,t);e+=ie;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function Fz(e,t){let r=Yi(e,t),n=ie;e+=n;let o=e,s=Array(r);for(let i=0;i<r;++i){let a=yr(e,t),c=ie;s[i]=a,e+=c}return ie=n+(e-o),s}function Gz(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Ae[e]===255)return ie=e-n+2,r;let o=yr(e,t);e+=ie,r.push(o)}throw new Error("expected break marker.")}function jz(e,t){let r=Yi(e,t),n=ie;e+=n;let o=e,s={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(Ae[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let c=yr(e,t);e+=ie;let l=yr(e,t);e+=ie,s[c]=l}return ie=n+(e-o),s}function Hz(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(Ae[e]===255)return ie=e-r+2,n;let o=(Ae[e]&224)>>5;if(o!==3)throw new Error(`unexpected major type ${o} for map key.`);let s=yr(e,t);e+=ie;let i=yr(e,t);e+=ie,n[s]=i}throw new Error("expected break marker.")}function qz(e,t){let r=Ae[e]&31;switch(r){case 21:case 20:return ie=1,r===21;case 22:return ie=1,null;case 23:return ie=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return ie=3,Lz(Ae[e+1],Ae[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return ie=5,Yr.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return ie=9,Yr.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function Jg(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var vA,Oz,kz,Ae,Yr,IA,ie,xA,RA=_(()=>{_t();vA=w(Ve());Rl();Oz=typeof TextDecoder<"u",kz=typeof Buffer<"u",Ae=Nn(0),Yr=new DataView(Ae.buffer,Ae.byteOffset,Ae.byteLength),IA=Oz?new TextDecoder:null,ie=0;xA={[24]:1,[25]:2,[26]:4,[27]:8}});function iy(e){Y.byteLength-j<e&&(j<16e6?Dl(Math.max(Y.byteLength*4,Y.byteLength+e)):Dl(Y.byteLength+e+16e6))}function ay(){let e=Nn(j);return e.set(Y.subarray(0,j),0),j=0,e}function Dl(e){let t=Y;Y=Nn(e),t&&(t.copy?t.copy(Y,0,0,t.byteLength):Y.set(t,0)),Jr=new DataView(Y.buffer,Y.byteOffset,Y.byteLength)}function Qr(e,t){t<24?Y[j++]=e<<5|t:t<256?(Y[j++]=e<<5|24,Y[j++]=t):t<65536?(Y[j++]=e<<5|25,Jr.setUint16(j,t),j+=2):t<2**32?(Y[j++]=e<<5|26,Jr.setUint32(j,t),j+=4):(Y[j++]=e<<5|27,Jr.setBigUint64(j,typeof t=="bigint"?t:BigInt(t)),j+=8)}function NA(e){let t=[e];for(;t.length;){let r=t.pop();if(iy(typeof r=="string"?r.length*4:64),typeof r=="string"){if(PA)Qr(3,Buffer.byteLength(r)),j+=Y.write(r,j);else{let n=(0,DA.fromUtf8)(r);Qr(3,n.byteLength),Y.set(n,j),j+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,o=n?0:1,s=n?r:-r-1;s<24?Y[j++]=o<<5|s:s<256?(Y[j++]=o<<5|24,Y[j++]=s):s<65536?(Y[j++]=o<<5|25,Y[j++]=s>>8,Y[j++]=s):s<4294967296?(Y[j++]=o<<5|26,Jr.setUint32(j,s),j+=4):(Y[j++]=o<<5|27,Jr.setBigUint64(j,BigInt(s)),j+=8);continue}Y[j++]=251,Jr.setFloat64(j,r),j+=8;continue}else if(typeof r=="bigint"){let n=r>=0,o=n?0:1,s=n?r:-r-BigInt(1),i=Number(s);if(i<24)Y[j++]=o<<5|i;else if(i<256)Y[j++]=o<<5|24,Y[j++]=i;else if(i<65536)Y[j++]=o<<5|25,Y[j++]=i>>8,Y[j++]=i&255;else if(i<4294967296)Y[j++]=o<<5|26,Jr.setUint32(j,i),j+=4;else if(s<BigInt("18446744073709551616"))Y[j++]=o<<5|27,Jr.setBigUint64(j,s),j+=8;else{let a=s.toString(2),c=new Uint8Array(Math.ceil(a.length/8)),l=s,d=0;for(;c.byteLength-++d>=0;)c[c.byteLength-d]=Number(l&BigInt(255)),l>>=BigInt(8);iy(c.byteLength*2),Y[j++]=n?194:195,PA?Qr(2,Buffer.byteLength(c)):Qr(2,c.byteLength),Y.set(c,j),j+=c.byteLength}continue}else if(r===null){Y[j++]=246;continue}else if(typeof r=="boolean"){Y[j++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);Qr(4,r.length);continue}else if(typeof r.byteLength=="number"){iy(r.length*2),Qr(2,r.length),Y.set(r,j),j+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof Pe){let o=r.string.indexOf("."),s=o===-1?0:o-r.string.length+1,i=BigInt(r.string.replace(".",""));Y[j++]=196,t.push(i),t.push(s),Qr(4,2);continue}if(r[Qg])if("tag"in r&&"value"in r){t.push(r.value),Qr(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let o=n.length-1;o>=0;--o){let s=n[o];t.push(r[s]),t.push(s)}Qr(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var DA,PA,zz,Y,Jr,j,OA=_(()=>{_t();DA=w(Ve());Rl();PA=typeof Buffer<"u",zz=2048,Y=Nn(zz),Jr=new DataView(Y.buffer,Y.byteOffset,Y.byteLength),j=0});var cy,kA=_(()=>{RA();OA();cy={deserialize(e){return AA(e),yr(0,e.length)},serialize(e){try{return NA(e),ay()}catch(t){throw ay(),t}},resizeEncodingBuffer(e){Dl(e)}}});var Nl,Ol,kl=_(()=>{Rl();Nl=e=>xl({tag:1,value:e.getTime()/1e3}),Ol=(e,t)=>{let r=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(o=>o.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var dy,$l,ly,uy,py=_(()=>{wt();fe();_t();dy=w(He());kA();kl();$l=class extends gt{createSerializer(){let t=new ly;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new uy;return t.setSerdeContext(this.serdeContext),t}},ly=class extends gt{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=M.of(t);if(r==null)return n.isIdempotencyToken()?(0,Bt.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??dy.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?Nl(new Date(Number(r)/1e3|0)):Nl(r);if(typeof r=="function"||typeof r=="object"){let o=r;if(n.isListSchema()&&Array.isArray(o)){let i=!!n.getMergedTraits().sparse,a=[],c=0;for(let l of o){let d=this.serialize(n.getValueSchema(),l);(d!=null||i)&&(a[c++]=d)}return a}if(o instanceof Date)return Nl(o);let s={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let a of Object.keys(o)){let c=this.serialize(n.getValueSchema(),o[a]);(c!=null||i)&&(s[a]=c)}}else if(n.isStructSchema()){for(let[a,c]of n.structIterator()){let l=this.serialize(c,o[a]);l!=null&&(s[a]=l)}if(n.isUnionSchema()&&Array.isArray(o.$unknown)){let[a,c]=o.$unknown;s[a]=c}}else if(n.isDocumentSchema())for(let i of Object.keys(o))s[i]=this.serialize(n.getValueSchema(),o[i]);return s}return r}flush(){let t=cy.serialize(this.value);return this.value=void 0,t}},uy=class extends gt{read(t,r){let n=cy.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=M.of(t);if(n.isTimestampSchema()){if(typeof r=="number")return ls(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return ls(r.value)}if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??dy.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let s=[],i=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let c of r){let l=this.readValue(i,c);(l!=null||a)&&s.push(l)}return s}let o={};if(n.isMapSchema()){let s=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let a of Object.keys(r)){let c=this.readValue(i,r[a]);(c!=null||s)&&(o[a]=c)}}else if(n.isStructSchema()){let s=n.isUnionSchema(),i;s&&(i=new Set(Object.keys(r).filter(a=>a!=="__type")));for(let[a,c]of n.structIterator())s&&i.delete(a),r[a]!=null&&(o[a]=this.readValue(c,r[a]));if(s&&i?.size===1&&Object.keys(o).length===0){let a=i.values().next().value;o.$unknown=[a,r[a]]}}return o}else return r}}});var $A,Ll,LA=_(()=>{wt();fe();$A=w(et());py();kl();Ll=class extends Hr{codec=new $l;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);if(Object.assign(o.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),Qt(t.input)==="unit")delete o.body,delete o.headers["content-type"];else{o.body||(this.serializer.write(15,{}),o.body=this.serializer.flush());try{o.headers["content-length"]=String(o.body.byteLength)}catch{}}let{service:s,operation:i}=(0,$A.getSmithyContext)(n),a=`/service/${s}/operation/${i}`;return o.path.endsWith("/")?o.path+=a.slice(1):o.path+=a,o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=Ol(n,o)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let c={$metadata:s,$fault:n.statusCode<=500?"client":"server"},l=K.for(a),d;try{d=l.getSchema(i)}catch{o.Message&&(o.message=o.Message);let x=K.for("smithy.ts.sdk.synthetic."+a),C=x.getBaseException();if(C){let O=x.getErrorCtor(C);throw Object.assign(new O({name:i}),c,o)}throw Object.assign(new Error(i),c,o)}let m=M.of(d),y=l.getErrorCtor(d),g=o.message??o.Message??"Unknown",S=new y(g),T={};for(let[I,x]of m.structIterator())T[I]=this.deserializer.readValue(x,o[I]);throw Object.assign(S,c,{$fault:m.getMergedTraits().error,message:g},T)}getDefaultContentType(){return"application/cbor"}}});var MA=_(()=>{kl();LA();py()});var GA=D(FA=>{"use strict";var Po=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},Ln=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,my=()=>{let e=[],t=[],r=!1,n=new Set,o=m=>m.sort((y,g)=>UA[g.step]-UA[y.step]||BA[g.priority||"normal"]-BA[y.priority||"normal"]),s=m=>{let y=!1,g=S=>{let T=Po(S.name,S.aliases);if(T.includes(m)){y=!0;for(let I of T)n.delete(I);return!1}return!0};return e=e.filter(g),t=t.filter(g),y},i=m=>{let y=!1,g=S=>{if(S.middleware===m){y=!0;for(let T of Po(S.name,S.aliases))n.delete(T);return!1}return!0};return e=e.filter(g),t=t.filter(g),y},a=m=>(e.forEach(y=>{m.add(y.middleware,{...y})}),t.forEach(y=>{m.addRelativeTo(y.middleware,{...y})}),m.identifyOnResolve?.(d.identifyOnResolve()),m),c=m=>{let y=[];return m.before.forEach(g=>{g.before.length===0&&g.after.length===0?y.push(g):y.push(...c(g))}),y.push(m),m.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?y.push(g):y.push(...c(g))}),y},l=(m=!1)=>{let y=[],g=[],S={};return e.forEach(I=>{let x={...I,before:[],after:[]};for(let C of Po(x.name,x.aliases))S[C]=x;y.push(x)}),t.forEach(I=>{let x={...I,before:[],after:[]};for(let C of Po(x.name,x.aliases))S[C]=x;g.push(x)}),g.forEach(I=>{if(I.toMiddleware){let x=S[I.toMiddleware];if(x===void 0){if(m)return;throw new Error(`${I.toMiddleware} is not found when adding ${Ln(I.name,I.aliases)} middleware ${I.relation} ${I.toMiddleware}`)}I.relation==="after"&&x.after.push(I),I.relation==="before"&&x.before.push(I)}}),o(y).map(c).reduce((I,x)=>(I.push(...x),I),[])},d={add:(m,y={})=>{let{name:g,override:S,aliases:T}=y,I={step:"initialize",priority:"normal",middleware:m,...y},x=Po(g,T);if(x.length>0){if(x.some(C=>n.has(C))){if(!S)throw new Error(`Duplicate middleware name '${Ln(g,T)}'`);for(let C of x){let O=e.findIndex(H=>H.name===C||H.aliases?.some(J=>J===C));if(O===-1)continue;let k=e[O];if(k.step!==I.step||I.priority!==k.priority)throw new Error(`"${Ln(k.name,k.aliases)}" middleware with ${k.priority} priority in ${k.step} step cannot be overridden by "${Ln(g,T)}" middleware with ${I.priority} priority in ${I.step} step.`);e.splice(O,1)}}for(let C of x)n.add(C)}e.push(I)},addRelativeTo:(m,y)=>{let{name:g,override:S,aliases:T}=y,I={middleware:m,...y},x=Po(g,T);if(x.length>0){if(x.some(C=>n.has(C))){if(!S)throw new Error(`Duplicate middleware name '${Ln(g,T)}'`);for(let C of x){let O=t.findIndex(H=>H.name===C||H.aliases?.some(J=>J===C));if(O===-1)continue;let k=t[O];if(k.toMiddleware!==I.toMiddleware||k.relation!==I.relation)throw new Error(`"${Ln(k.name,k.aliases)}" middleware ${k.relation} "${k.toMiddleware}" middleware cannot be overridden by "${Ln(g,T)}" middleware ${I.relation} "${I.toMiddleware}" middleware.`);t.splice(O,1)}}for(let C of x)n.add(C)}t.push(I)},clone:()=>a(my()),use:m=>{m.applyToStack(d)},remove:m=>typeof m=="string"?s(m):i(m),removeByTag:m=>{let y=!1,g=S=>{let{tags:T,name:I,aliases:x}=S;if(T&&T.includes(m)){let C=Po(I,x);for(let O of C)n.delete(O);return y=!0,!1}return!0};return e=e.filter(g),t=t.filter(g),y},concat:m=>{let y=a(my());return y.use(m),y.identifyOnResolve(r||y.identifyOnResolve()||(m.identifyOnResolve?.()??!1)),y},applyToStack:a,identify:()=>l(!0).map(m=>{let y=m.step??m.relation+" "+m.toMiddleware;return Ln(m.name,m.aliases)+" - "+y}),identifyOnResolve(m){return typeof m=="boolean"&&(r=m),r},resolve:(m,y)=>{for(let g of l().map(S=>S.middleware).reverse())m=g(m,y);return r&&console.log(d.identify()),m}};return d},UA={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},BA={high:3,normal:2,low:1};FA.constructStack=my});var ne=D(we=>{"use strict";var qA=GA(),_y=(wt(),ee(WI)),hy=bn(),Vz=(fe(),ee(Oi)),jA=(_t(),ee(OI)),gy=class{config;middlewareStack=qA.constructStack();initConfig;handlers;constructor(t){this.config=t;let{protocol:r,protocolSettings:n}=t;n&&typeof r=="function"&&(t.protocol=new r(n))}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=o===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(t.constructor)?a=c.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,o),c.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)a(t).then(c=>s(null,c.output),c=>s(c)).catch(()=>{});else return a(t).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},fy="***SensitiveInformation***";function yy(e,t){if(t==null)return t;let r=Vz.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return fy;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return fy}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return fy}else if(r.isStructSchema()&&typeof t=="object"){let n=t,o={};for(let[s,i]of r.structIterator())n[s]!=null&&(o[s]=yy(i,n[s]));return o}return t}var Ml=class{middlewareStack=qA.constructStack();schema;static classBuilder(){return new Sy}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:d,CommandCtor:m}){for(let I of o.bind(this)(m,t,r,n))this.middlewareStack.use(I);let y=t.concat(this.middlewareStack),{logger:g}=r,S={logger:g,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[hy.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...d},{requestHandler:T}=r;return y.resolve(I=>T.handle(I.request,n||{}),S)}},Sy=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends Ml{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,o,s){let i=t._operationSchema,a=i?.[4]??i?.input,c=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,o,s,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?yy.bind(null,a):l=>l),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?yy.bind(null,c):l=>l),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},Wz="***SensitiveInformation***",Kz=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=async function(i,a,c){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},Ey=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},zA=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},VA=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=Xz(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw zA(i,t)},Yz=e=>({output:t,parsedBody:r,errorCode:n})=>{VA({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},Xz=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Qz=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},HA=!1,Jz=e=>{e&&!HA&&parseInt(e.substring(1,e.indexOf(".")))<16&&(HA=!0)},Zz=e=>{let t=[];for(let r in hy.AlgorithmId){let n=hy.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},e3=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},t3=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),r3=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},WA=e=>Object.assign(Zz(e),t3(e)),n3=WA,o3=e=>Object.assign(e3(e),r3(e)),s3=e=>Array.isArray(e)?e:[e],KA=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=KA(e[r]));return e},i3=e=>e!=null,by=class{trace(){}debug(){}info(){}warn(){}error(){}};function YA(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,l3(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}XA(n,null,s,i)}return n}var a3=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},c3=(e,t)=>{let r={};for(let n in t)XA(r,e,t,n);return r},l3=(e,t,r)=>YA(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),XA=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=u3,c=d3,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},u3=e=>e!=null,d3=e=>e,p3=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},m3=e=>e.toISOString().replace(".000Z","Z"),Ty=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Ty);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Ty(e[r]));return t}return e};Object.defineProperty(we,"collectBody",{enumerable:!0,get:function(){return _y.collectBody}});Object.defineProperty(we,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return _y.extendedEncodeURIComponent}});Object.defineProperty(we,"resolvedPath",{enumerable:!0,get:function(){return _y.resolvedPath}});we.Client=gy;we.Command=Ml;we.NoOpLogger=by;we.SENSITIVE_STRING=Wz;we.ServiceException=Ey;we._json=Ty;we.convertMap=a3;we.createAggregatedClient=Kz;we.decorateServiceException=zA;we.emitWarningIfUnsupportedVersion=Jz;we.getArrayIfSingleItem=s3;we.getDefaultClientConfiguration=n3;we.getDefaultExtensionConfiguration=WA;we.getValueFromTextNode=KA;we.isSerializableHeaderValue=i3;we.loadConfigsForDefaultMode=Qz;we.map=YA;we.resolveDefaultRuntimeConfig=o3;we.serializeDateTime=m3;we.serializeFloat=p3;we.take=c3;we.throwDefaultError=VA;we.withBaseException=Yz;Object.keys(jA).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(we,e)&&Object.defineProperty(we,e,{enumerable:!0,get:function(){return jA[e]}})})});var wy,Gt,ys=_(()=>{fe();wy=w(ne()),Gt=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let n=r.getMemberSchemas(),o=Object.values(n).find(s=>!!s.getMergedTraits().httpPayload);if(o){let s=o.getMergedTraits().mediaType;return s||(o.isStringSchema()?"text/plain":o.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:d,httpPrefixHeaders:m}=i.getMergedTraits();return!a&&!c&&!l&&!d&&m===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,o,s,i){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let l={$metadata:s,$fault:n.statusCode<500?"client":"server"},d=K.for(a);try{return{errorSchema:i?.(d,c)??d.getSchema(t),errorMetadata:l}}catch{o.message=o.message??o.Message??"UnknownError";let y=K.for("smithy.ts.sdk.synthetic."+a),g=y.getBaseException();if(g){let S=y.getErrorCtor(g)??Error;throw this.decorateServiceException(Object.assign(new S({name:c}),l),o)}throw this.decorateServiceException(Object.assign(new Error(c),l),o)}}decorateServiceException(t,r={}){if(this.queryCompat){let n=t.Message??r.Message,o=(0,wy.decorateServiceException)(t,r);n&&(o.message=n),o.Error={...o.Error,Type:o.Error.Type,Code:o.Error.Code,Message:o.Error.message??o.Error.Message??n};let s=o.$metadata.requestId;return s&&(o.RequestId=s),o}return(0,wy.decorateServiceException)(t,r)}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[o,s]=n.split(";"),i=Object.entries(t),a={Code:o,Type:s};Object.assign(t,a);for(let[c,l]of i)a[c==="message"?"Message":c]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(o=>M.of(o).getMergedTraits().awsQueryError?.[0]===r)}}}});var Ul,QA=_(()=>{MA();fe();ys();Ul=class extends Ll{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new Gt(this.awsQueryCompatible)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),o}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=(()=>{let S=n.headers["x-amzn-query-error"];return S&&this.awsQueryCompatible?S.split(";")[0]:Ol(n,o)??"Unknown"})(),{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=M.of(a),d=o.message??o.Message??"Unknown",m=K.for(a[1]).getErrorCtor(a)??Error,y=new m(d),g={};for(let[S,T]of l.structIterator())o[S]!=null&&(g[S]=this.deserializer.readValue(T,o[S]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,g),this.mixin.decorateServiceException(Object.assign(y,c,{$fault:l.getMergedTraits().error,message:d},g),o)}}});var JA,ZA,e0,t0=_(()=>{JA=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},ZA=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},e0=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var it,Mn=_(()=>{it=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function*Ss(e,t){if(e.isUnitSchema())return;let r=e.getSchema();for(let n=0;n<r[4].length;++n){let o=r[4][n],s=r[5][n],i=new M([s,0],o);!(o in t)&&!i.isIdempotencyToken()||(yield[o,i])}}function*r0(e,t,r){if(e.isUnitSchema())return;let n=e.getSchema(),o=Object.keys(t).filter(s=>s!=="__type").length;for(let s=0;s<n[4].length&&o!==0;++s){let i=n[4][s],a=n[5][s],c=new M([a,0],i),l=i;r&&(l=c.getMergedTraits()[r]??i),l in t&&(yield[i,c],o-=1)}}var Xi=_(()=>{fe()});var Es,Iy=_(()=>{Es=class{from;to;keys;constructor(t,r){this.from=t,this.to=r,this.keys=new Set(Object.keys(this.from).filter(n=>n!=="__type"))}mark(t){this.keys.delete(t)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let t=this.keys.values().next().value,r=this.from[t];this.to.$unknown=[t,r]}}}});function n0(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Pe(n,"bigDecimal"):BigInt(n)}return t}var o0=_(()=>{_t()});var s0,i0,Bl,vy=_(()=>{s0=w(ne()),i0=w(Ve()),Bl=(e,t)=>(0,s0.collectBody)(e,t).then(r=>(t?.utf8Encoder??i0.toUtf8)(r))});var Qi,a0,bs,Ji=_(()=>{vy();Qi=(e,t)=>Bl(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),a0=async(e,t)=>{let r=await Qi(e,t);return r.message=r.message??r.Message,r},bs=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var c0,Ts,Ay=_(()=>{wt();fe();_t();c0=w(He());Mn();Xi();Iy();o0();Ji();Ts=class extends it{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,n0):await Qi(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=M.of(t);if(n){if(o.isStructSchema()){let i=o.isUnionSchema(),a={},c;i&&(c=new Es(r,a));for(let[l,d]of r0(o,r,this.settings.jsonName?"jsonName":!1)){let m=this.settings.jsonName?d.getMergedTraits().jsonName??l:l;i&&c.mark(m),r[m]!=null&&(a[l]=this._read(d,r[m]))}return i&&c.writeUnknown(),a}if(Array.isArray(r)&&o.isListSchema()){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(i,l));return a}if(o.isMapSchema()){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._read(i,d));return a}}if(o.isBlobSchema()&&typeof r=="string")return(0,c0.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s)return s==="application/json"||s.endsWith("+json")?ht.from(r):r;if(o.isTimestampSchema()&&r!=null)switch(Rt(o,this.settings)){case 5:return Wh(r);case 6:return Kh(r);case 7:return Yh(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null){if(r instanceof Pe)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new Pe(i.string,i.type):new Pe(String(r),"bigDecimal")}if(o.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(o.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Pe?i[a]=c:i[a]=this._read(o,c);return i}else return structuredClone(r);return r}}});var l0,Fl,u0=_(()=>{_t();l0="\u039D",Fl=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Pe){let n=`${l0+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${l0+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Cy,_s,xy=_(()=>{wt();fe();_t();Cy=w(He());Mn();Xi();u0();_s=class extends it{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=M.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=M.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t?.isStructSchema()||t?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new Fl;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=M.of(t);if(o){if(s.isStructSchema()){let i={};for(let[a,c]of Ss(s,r)){let l=this._write(c,r[a],s);if(l!==void 0){let d=c.getMergedTraits().jsonName,m=this.settings.jsonName?d??a:a;i[m]=l}}if(s.isUnionSchema()&&Object.keys(i).length===0){let{$unknown:a}=r;if(Array.isArray(a)){let[c,l]=a;i[c]=this._write(15,l)}}return i}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(i,l));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[l,d]of Object.entries(r))(c||d!=null)&&(a[l]=this._write(i,d));return a}if(r instanceof Uint8Array&&(s.isBlobSchema()||s.isDocumentSchema()))return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??Cy.toBase64)(r);if(r instanceof Date&&(s.isTimestampSchema()||s.isDocumentSchema()))switch(Rt(s,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Ui(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof Pe&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(s.isStringSchema()){if(typeof r>"u"&&s.isIdempotencyToken())return(0,Bt.v4)();let i=s.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?ht.from(r):r}if(typeof r=="number"&&s.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&s.isBlobSchema())return s===this.rootSchema?r:(this.serdeContext?.base64Encoder??Cy.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),s.isDocumentSchema())if(o){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Pe?(this.useReplacer=!0,i[a]=c):i[a]=this._write(s,c);return i}else return structuredClone(r);return r}}}});var Un,Gl=_(()=>{Mn();Ay();xy();Un=class extends it{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new _s(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ts(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Bn,jl=_(()=>{wt();fe();ys();Gl();Ji();Bn=class extends Hr{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=o??new Un({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new Gt(this.awsQueryCompatible)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);return o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(o.headers["x-amzn-query-mode"]="true"),(Qt(t.input)==="unit"||!o.body)&&(o.body="{}"),o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){this.awsQueryCompatible&&this.mixin.setQueryCompatError(o,n);let i=bs(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=M.of(a),d=o.message??o.Message??"Unknown",m=K.for(a[1]).getErrorCtor(a)??Error,y=new m(d),g={};for(let[S,T]of l.structIterator())o[S]!=null&&(g[S]=this.codec.createDeserializer().readObject(T,o[S]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(o,g),this.mixin.decorateServiceException(Object.assign(y,c,{$fault:l.getMergedTraits().error,message:d},g),o)}}});var Hl,d0=_(()=>{jl();Hl=class extends Bn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var ql,p0=_(()=>{jl();ql=class extends Bn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Fn,m0=_(()=>{wt();fe();ys();Gl();Ji();Fn=class extends To{serializer;deserializer;codec;mixin=new Gt;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Un(r),this.serializer=new Io(this.codec.createSerializer(),r),this.deserializer=new wo(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=M.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return o.body==null&&o.headers["content-type"]===this.getDefaultContentType()&&(o.body="{}"),o}async deserializeResponse(t,r,n){let o=await super.deserializeResponse(t,r,n),s=M.of(t.output);for(let[i,a]of s.structIterator())a.getMemberTraits().httpPayload&&!(i in o)&&(o[i]=null);return o}async handleError(t,r,n,o,s){let i=bs(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),l=M.of(a),d=o.message??o.Message??"Unknown",m=K.for(a[1]).getErrorCtor(a)??Error,y=new m(d);await this.deserializeHttpMessage(a,r,n,o);let g={};for(let[S,T]of l.structIterator()){let I=T.getMergedTraits().jsonName??S;g[S]=this.codec.createDeserializer().readObject(T,o[I])}throw this.mixin.decorateServiceException(Object.assign(y,c,{$fault:l.getMergedTraits().error,message:d},g),o)}getDefaultContentType(){return"application/json"}}});var f0,h0,g0=_(()=>{f0=w(ne()),h0=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,f0.expectUnion)(e)}});var S0=D((qde,y0)=>{(()=>{"use strict";var e={d:(f,h)=>{for(var E in h)e.o(h,E)&&!e.o(f,E)&&Object.defineProperty(f,E,{enumerable:!0,get:h[E]})},o:(f,h)=>Object.prototype.hasOwnProperty.call(f,h),r:f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>Sn,XMLParser:()=>pj,XMLValidator:()=>bj});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function o(f,h){let E=[],A=h.exec(f);for(;A;){let b=[];b.startIndex=h.lastIndex-A[0].length;let v=A.length;for(let P=0;P<v;P++)b.push(A[P]);E.push(b),A=h.exec(f)}return E}let s=function(f){return n.exec(f)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(f,h){h=Object.assign({},i,h);let E=[],A=!1,b=!1;f[0]==="\uFEFF"&&(f=f.substr(1));for(let v=0;v<f.length;v++)if(f[v]==="<"&&f[v+1]==="?"){if(v+=2,v=l(f,v),v.err)return v}else{if(f[v]!=="<"){if(c(f[v]))continue;return x("InvalidChar","char '"+f[v]+"' is not expected.",O(f,v))}{let P=v;if(v++,f[v]==="!"){v=d(f,v);continue}{let R=!1;f[v]==="/"&&(R=!0,v++);let N="";for(;v<f.length&&f[v]!==">"&&f[v]!==" "&&f[v]!=="	"&&f[v]!==`
`&&f[v]!=="\r";v++)N+=f[v];if(N=N.trim(),N[N.length-1]==="/"&&(N=N.substring(0,N.length-1),v--),!s(N)){let q;return q=N.trim().length===0?"Invalid space after '<'.":"Tag '"+N+"' is an invalid name.",x("InvalidTag",q,O(f,v))}let $=g(f,v);if($===!1)return x("InvalidAttr","Attributes for '"+N+"' have open quote.",O(f,v));let Q=$.value;if(v=$.index,Q[Q.length-1]==="/"){let q=v-Q.length;Q=Q.substring(0,Q.length-1);let de=T(Q,h);if(de!==!0)return x(de.err.code,de.err.msg,O(f,q+de.err.line));A=!0}else if(R){if(!$.tagClosed)return x("InvalidTag","Closing tag '"+N+"' doesn't have proper closing.",O(f,v));if(Q.trim().length>0)return x("InvalidTag","Closing tag '"+N+"' can't have attributes or invalid starting.",O(f,P));if(E.length===0)return x("InvalidTag","Closing tag '"+N+"' has not been opened.",O(f,P));{let q=E.pop();if(N!==q.tagName){let de=O(f,q.tagStartPos);return x("InvalidTag","Expected closing tag '"+q.tagName+"' (opened in line "+de.line+", col "+de.col+") instead of closing tag '"+N+"'.",O(f,P))}E.length==0&&(b=!0)}}else{let q=T(Q,h);if(q!==!0)return x(q.err.code,q.err.msg,O(f,v-Q.length+q.err.line));if(b===!0)return x("InvalidXml","Multiple possible root nodes found.",O(f,v));h.unpairedTags.indexOf(N)!==-1||E.push({tagName:N,tagStartPos:P}),A=!0}for(v++;v<f.length;v++)if(f[v]==="<"){if(f[v+1]==="!"){v++,v=d(f,v);continue}if(f[v+1]!=="?")break;if(v=l(f,++v),v.err)return v}else if(f[v]==="&"){let q=I(f,v);if(q==-1)return x("InvalidChar","char '&' is not expected.",O(f,v));v=q}else if(b===!0&&!c(f[v]))return x("InvalidXml","Extra text at the end",O(f,v));f[v]==="<"&&v--}}}return A?E.length==1?x("InvalidTag","Unclosed tag '"+E[0].tagName+"'.",O(f,E[0].tagStartPos)):!(E.length>0)||x("InvalidXml","Invalid '"+JSON.stringify(E.map(v=>v.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):x("InvalidXml","Start tag expected.",1)}function c(f){return f===" "||f==="	"||f===`
`||f==="\r"}function l(f,h){let E=h;for(;h<f.length;h++)if(!(f[h]!="?"&&f[h]!=" ")){let A=f.substr(E,h-E);if(h>5&&A==="xml")return x("InvalidXml","XML declaration allowed only at the start of the document.",O(f,h));if(f[h]=="?"&&f[h+1]==">"){h++;break}}return h}function d(f,h){if(f.length>h+5&&f[h+1]==="-"&&f[h+2]==="-"){for(h+=3;h<f.length;h++)if(f[h]==="-"&&f[h+1]==="-"&&f[h+2]===">"){h+=2;break}}else if(f.length>h+8&&f[h+1]==="D"&&f[h+2]==="O"&&f[h+3]==="C"&&f[h+4]==="T"&&f[h+5]==="Y"&&f[h+6]==="P"&&f[h+7]==="E"){let E=1;for(h+=8;h<f.length;h++)if(f[h]==="<")E++;else if(f[h]===">"&&(E--,E===0))break}else if(f.length>h+9&&f[h+1]==="["&&f[h+2]==="C"&&f[h+3]==="D"&&f[h+4]==="A"&&f[h+5]==="T"&&f[h+6]==="A"&&f[h+7]==="["){for(h+=8;h<f.length;h++)if(f[h]==="]"&&f[h+1]==="]"&&f[h+2]===">"){h+=2;break}}return h}let m='"',y="'";function g(f,h){let E="",A="",b=!1;for(;h<f.length;h++){if(f[h]===m||f[h]===y)A===""?A=f[h]:A!==f[h]||(A="");else if(f[h]===">"&&A===""){b=!0;break}E+=f[h]}return A===""&&{value:E,index:h,tagClosed:b}}let S=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function T(f,h){let E=o(f,S),A={};for(let b=0;b<E.length;b++){if(E[b][1].length===0)return x("InvalidAttr","Attribute '"+E[b][2]+"' has no space in starting.",k(E[b]));if(E[b][3]!==void 0&&E[b][4]===void 0)return x("InvalidAttr","Attribute '"+E[b][2]+"' is without value.",k(E[b]));if(E[b][3]===void 0&&!h.allowBooleanAttributes)return x("InvalidAttr","boolean attribute '"+E[b][2]+"' is not allowed.",k(E[b]));let v=E[b][2];if(!C(v))return x("InvalidAttr","Attribute '"+v+"' is an invalid name.",k(E[b]));if(A.hasOwnProperty(v))return x("InvalidAttr","Attribute '"+v+"' is repeated.",k(E[b]));A[v]=1}return!0}function I(f,h){if(f[++h]===";")return-1;if(f[h]==="#")return function(A,b){let v=/\d/;for(A[b]==="x"&&(b++,v=/[\da-fA-F]/);b<A.length;b++){if(A[b]===";")return b;if(!A[b].match(v))break}return-1}(f,++h);let E=0;for(;h<f.length;h++,E++)if(!(f[h].match(/\w/)&&E<20)){if(f[h]===";")break;return-1}return h}function x(f,h,E){return{err:{code:f,msg:h,line:E.line||E,col:E.col}}}function C(f){return s(f)}function O(f,h){let E=f.substring(0,h).split(/\r?\n/);return{line:E.length,col:E[E.length-1].length+1}}function k(f){return f.startIndex+f[1].length}let H={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(f,h){return h},attributeValueProcessor:function(f,h){return h},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(f,h,E){return f},captureMetaData:!1},J;J=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class Se{constructor(h){this.tagname=h,this.child=[],this[":@"]={}}add(h,E){h==="__proto__"&&(h="#__proto__"),this.child.push({[h]:E})}addChild(h,E){h.tagname==="__proto__"&&(h.tagname="#__proto__"),h[":@"]&&Object.keys(h[":@"]).length>0?this.child.push({[h.tagname]:h.child,":@":h[":@"]}):this.child.push({[h.tagname]:h.child}),E!==void 0&&(this.child[this.child.length-1][J]={startIndex:E})}static getMetaDataSymbol(){return J}}function W(f,h){let E={};if(f[h+3]!=="O"||f[h+4]!=="C"||f[h+5]!=="T"||f[h+6]!=="Y"||f[h+7]!=="P"||f[h+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{h+=9;let A=1,b=!1,v=!1,P="";for(;h<f.length;h++)if(f[h]!=="<"||v)if(f[h]===">"){if(v?f[h-1]==="-"&&f[h-2]==="-"&&(v=!1,A--):A--,A===0)break}else f[h]==="["?b=!0:P+=f[h];else{if(b&&Mt(f,"!ENTITY",h)){let R,N;h+=7,[R,N,h]=oe(f,h+1),N.indexOf("&")===-1&&(E[R]={regx:RegExp(`&${R};`,"g"),val:N})}else if(b&&Mt(f,"!ELEMENT",h)){h+=8;let{index:R}=Yo(f,h+1);h=R}else if(b&&Mt(f,"!ATTLIST",h))h+=8;else if(b&&Mt(f,"!NOTATION",h)){h+=9;let{index:R}=ve(f,h+1);h=R}else{if(!Mt(f,"!--",h))throw new Error("Invalid DOCTYPE");v=!0}A++,P=""}if(A!==0)throw new Error("Unclosed DOCTYPE")}return{entities:E,i:h}}let z=(f,h)=>{for(;h<f.length&&/\s/.test(f[h]);)h++;return h};function oe(f,h){h=z(f,h);let E="";for(;h<f.length&&!/\s/.test(f[h])&&f[h]!=='"'&&f[h]!=="'";)E+=f[h],h++;if(yi(E),h=z(f,h),f.substring(h,h+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(f[h]==="%")throw new Error("Parameter entities are not supported");let A="";return[h,A]=Re(f,h,"entity"),[E,A,--h]}function ve(f,h){h=z(f,h);let E="";for(;h<f.length&&!/\s/.test(f[h]);)E+=f[h],h++;yi(E),h=z(f,h);let A=f.substring(h,h+6).toUpperCase();if(A!=="SYSTEM"&&A!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${A}"`);h+=A.length,h=z(f,h);let b=null,v=null;if(A==="PUBLIC")[h,b]=Re(f,h,"publicIdentifier"),f[h=z(f,h)]!=='"'&&f[h]!=="'"||([h,v]=Re(f,h,"systemIdentifier"));else if(A==="SYSTEM"&&([h,v]=Re(f,h,"systemIdentifier"),!v))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:E,publicIdentifier:b,systemIdentifier:v,index:--h}}function Re(f,h,E){let A="",b=f[h];if(b!=='"'&&b!=="'")throw new Error(`Expected quoted string, found "${b}"`);for(h++;h<f.length&&f[h]!==b;)A+=f[h],h++;if(f[h]!==b)throw new Error(`Unterminated ${E} value`);return[++h,A]}function Yo(f,h){h=z(f,h);let E="";for(;h<f.length&&!/\s/.test(f[h]);)E+=f[h],h++;if(!yi(E))throw new Error(`Invalid element name: "${E}"`);let A="";if(f[h=z(f,h)]==="E"&&Mt(f,"MPTY",h))h+=4;else if(f[h]==="A"&&Mt(f,"NY",h))h+=2;else{if(f[h]!=="(")throw new Error(`Invalid Element Expression, found "${f[h]}"`);for(h++;h<f.length&&f[h]!==")";)A+=f[h],h++;if(f[h]!==")")throw new Error("Unterminated content model")}return{elementName:E,contentModel:A.trim(),index:h}}function Mt(f,h,E){for(let A=0;A<h.length;A++)if(h[A]!==f[E+A+1])return!1;return!0}function yi(f){if(s(f))return f;throw new Error(`Invalid entity name ${f}`)}let yf=/^[-+]?0x[a-fA-F0-9]+$/,ze=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Sf={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},Ef=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function _c(f){return typeof f=="function"?f:Array.isArray(f)?h=>{for(let E of f)if(typeof E=="string"&&h===E||E instanceof RegExp&&E.test(h))return!0}:()=>!1}class bf{constructor(h){this.options=h,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(E,A)=>String.fromCodePoint(Number.parseInt(A,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(E,A)=>String.fromCodePoint(Number.parseInt(A,16))}},this.addExternalEntities=sT,this.parseXml=rj,this.parseTextData=JG,this.resolveNameSpace=ZG,this.buildAttributesMap=tj,this.isItStopNode=ij,this.replaceEntitiesValue=oj,this.readStopNodeData=aj,this.saveTextToParentTag=sj,this.addChild=nj,this.ignoreAttributesFn=_c(this.options.ignoreAttributes)}}function sT(f){let h=Object.keys(f);for(let E=0;E<h.length;E++){let A=h[E];this.lastEntities[A]={regex:new RegExp("&"+A+";","g"),val:f[A]}}}function JG(f,h,E,A,b,v,P){if(f!==void 0&&(this.options.trimValues&&!A&&(f=f.trim()),f.length>0)){P||(f=this.replaceEntitiesValue(f));let R=this.options.tagValueProcessor(h,f,E,b,v);return R==null?f:typeof R!=typeof f||R!==f?R:this.options.trimValues||f.trim()===f?iT(f,this.options.parseTagValue,this.options.numberParseOptions):f}}function ZG(f){if(this.options.removeNSPrefix){let h=f.split(":"),E=f.charAt(0)==="/"?"/":"";if(h[0]==="xmlns")return"";h.length===2&&(f=E+h[1])}return f}let ej=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function tj(f,h,E){if(this.options.ignoreAttributes!==!0&&typeof f=="string"){let A=o(f,ej),b=A.length,v={};for(let P=0;P<b;P++){let R=this.resolveNameSpace(A[P][1]);if(this.ignoreAttributesFn(R,h))continue;let N=A[P][4],$=this.options.attributeNamePrefix+R;if(R.length)if(this.options.transformAttributeName&&($=this.options.transformAttributeName($)),$==="__proto__"&&($="#__proto__"),N!==void 0){this.options.trimValues&&(N=N.trim()),N=this.replaceEntitiesValue(N);let Q=this.options.attributeValueProcessor(R,N,h);v[$]=Q==null?N:typeof Q!=typeof N||Q!==N?Q:iT(N,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(v[$]=!0)}if(!Object.keys(v).length)return;if(this.options.attributesGroupName){let P={};return P[this.options.attributesGroupName]=v,P}return v}}let rj=function(f){f=f.replace(/\r\n?/g,`
`);let h=new Se("!xml"),E=h,A="",b="";for(let v=0;v<f.length;v++)if(f[v]==="<")if(f[v+1]==="/"){let P=fo(f,">",v,"Closing Tag is not closed."),R=f.substring(v+2,P).trim();if(this.options.removeNSPrefix){let Q=R.indexOf(":");Q!==-1&&(R=R.substr(Q+1))}this.options.transformTagName&&(R=this.options.transformTagName(R)),E&&(A=this.saveTextToParentTag(A,E,b));let N=b.substring(b.lastIndexOf(".")+1);if(R&&this.options.unpairedTags.indexOf(R)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${R}>`);let $=0;N&&this.options.unpairedTags.indexOf(N)!==-1?($=b.lastIndexOf(".",b.lastIndexOf(".")-1),this.tagsNodeStack.pop()):$=b.lastIndexOf("."),b=b.substring(0,$),E=this.tagsNodeStack.pop(),A="",v=P}else if(f[v+1]==="?"){let P=Tf(f,v,!1,"?>");if(!P)throw new Error("Pi Tag is not closed.");if(A=this.saveTextToParentTag(A,E,b),!(this.options.ignoreDeclaration&&P.tagName==="?xml"||this.options.ignorePiTags)){let R=new Se(P.tagName);R.add(this.options.textNodeName,""),P.tagName!==P.tagExp&&P.attrExpPresent&&(R[":@"]=this.buildAttributesMap(P.tagExp,b,P.tagName)),this.addChild(E,R,b,v)}v=P.closeIndex+1}else if(f.substr(v+1,3)==="!--"){let P=fo(f,"-->",v+4,"Comment is not closed.");if(this.options.commentPropName){let R=f.substring(v+4,P-2);A=this.saveTextToParentTag(A,E,b),E.add(this.options.commentPropName,[{[this.options.textNodeName]:R}])}v=P}else if(f.substr(v+1,2)==="!D"){let P=W(f,v);this.docTypeEntities=P.entities,v=P.i}else if(f.substr(v+1,2)==="!["){let P=fo(f,"]]>",v,"CDATA is not closed.")-2,R=f.substring(v+9,P);A=this.saveTextToParentTag(A,E,b);let N=this.parseTextData(R,E.tagname,b,!0,!1,!0,!0);N==null&&(N=""),this.options.cdataPropName?E.add(this.options.cdataPropName,[{[this.options.textNodeName]:R}]):E.add(this.options.textNodeName,N),v=P+2}else{let P=Tf(f,v,this.options.removeNSPrefix),R=P.tagName,N=P.rawTagName,$=P.tagExp,Q=P.attrExpPresent,q=P.closeIndex;this.options.transformTagName&&(R=this.options.transformTagName(R)),E&&A&&E.tagname!=="!xml"&&(A=this.saveTextToParentTag(A,E,b,!1));let de=E;de&&this.options.unpairedTags.indexOf(de.tagname)!==-1&&(E=this.tagsNodeStack.pop(),b=b.substring(0,b.lastIndexOf("."))),R!==h.tagname&&(b+=b?"."+R:R);let Te=v;if(this.isItStopNode(this.options.stopNodes,b,R)){let me="";if($.length>0&&$.lastIndexOf("/")===$.length-1)R[R.length-1]==="/"?(R=R.substr(0,R.length-1),b=b.substr(0,b.length-1),$=R):$=$.substr(0,$.length-1),v=P.closeIndex;else if(this.options.unpairedTags.indexOf(R)!==-1)v=P.closeIndex;else{let pr=this.readStopNodeData(f,N,q+1);if(!pr)throw new Error(`Unexpected end of ${N}`);v=pr.i,me=pr.tagContent}let Fe=new Se(R);R!==$&&Q&&(Fe[":@"]=this.buildAttributesMap($,b,R)),me&&(me=this.parseTextData(me,R,b,!0,Q,!0,!0)),b=b.substr(0,b.lastIndexOf(".")),Fe.add(this.options.textNodeName,me),this.addChild(E,Fe,b,Te)}else{if($.length>0&&$.lastIndexOf("/")===$.length-1){R[R.length-1]==="/"?(R=R.substr(0,R.length-1),b=b.substr(0,b.length-1),$=R):$=$.substr(0,$.length-1),this.options.transformTagName&&(R=this.options.transformTagName(R));let me=new Se(R);R!==$&&Q&&(me[":@"]=this.buildAttributesMap($,b,R)),this.addChild(E,me,b,Te),b=b.substr(0,b.lastIndexOf("."))}else{let me=new Se(R);this.tagsNodeStack.push(E),R!==$&&Q&&(me[":@"]=this.buildAttributesMap($,b,R)),this.addChild(E,me,b,Te),E=me}A="",v=q}}else A+=f[v];return h.child};function nj(f,h,E,A){this.options.captureMetaData||(A=void 0);let b=this.options.updateTag(h.tagname,E,h[":@"]);b===!1||(typeof b=="string"&&(h.tagname=b),f.addChild(h,A))}let oj=function(f){if(this.options.processEntities){for(let h in this.docTypeEntities){let E=this.docTypeEntities[h];f=f.replace(E.regx,E.val)}for(let h in this.lastEntities){let E=this.lastEntities[h];f=f.replace(E.regex,E.val)}if(this.options.htmlEntities)for(let h in this.htmlEntities){let E=this.htmlEntities[h];f=f.replace(E.regex,E.val)}f=f.replace(this.ampEntity.regex,this.ampEntity.val)}return f};function sj(f,h,E,A){return f&&(A===void 0&&(A=h.child.length===0),(f=this.parseTextData(f,h.tagname,E,!1,!!h[":@"]&&Object.keys(h[":@"]).length!==0,A))!==void 0&&f!==""&&h.add(this.options.textNodeName,f),f=""),f}function ij(f,h,E){let A="*."+E;for(let b in f){let v=f[b];if(A===v||h===v)return!0}return!1}function fo(f,h,E,A){let b=f.indexOf(h,E);if(b===-1)throw new Error(A);return b+h.length-1}function Tf(f,h,E,A=">"){let b=function(q,de,Te=">"){let me,Fe="";for(let pr=de;pr<q.length;pr++){let En=q[pr];if(me)En===me&&(me="");else if(En==='"'||En==="'")me=En;else if(En===Te[0]){if(!Te[1])return{data:Fe,index:pr};if(q[pr+1]===Te[1])return{data:Fe,index:pr}}else En==="	"&&(En=" ");Fe+=En}}(f,h+1,A);if(!b)return;let v=b.data,P=b.index,R=v.search(/\s/),N=v,$=!0;R!==-1&&(N=v.substring(0,R),v=v.substring(R+1).trimStart());let Q=N;if(E){let q=N.indexOf(":");q!==-1&&(N=N.substr(q+1),$=N!==b.data.substr(q+1))}return{tagName:N,tagExp:v,closeIndex:P,attrExpPresent:$,rawTagName:Q}}function aj(f,h,E){let A=E,b=1;for(;E<f.length;E++)if(f[E]==="<")if(f[E+1]==="/"){let v=fo(f,">",E,`${h} is not closed`);if(f.substring(E+2,v).trim()===h&&(b--,b===0))return{tagContent:f.substring(A,E),i:v};E=v}else if(f[E+1]==="?")E=fo(f,"?>",E+1,"StopNode is not closed.");else if(f.substr(E+1,3)==="!--")E=fo(f,"-->",E+3,"StopNode is not closed.");else if(f.substr(E+1,2)==="![")E=fo(f,"]]>",E,"StopNode is not closed.")-2;else{let v=Tf(f,E,">");v&&((v&&v.tagName)===h&&v.tagExp[v.tagExp.length-1]!=="/"&&b++,E=v.closeIndex)}}function iT(f,h,E){if(h&&typeof f=="string"){let A=f.trim();return A==="true"||A!=="false"&&function(b,v={}){if(v=Object.assign({},Sf,v),!b||typeof b!="string")return b;let P=b.trim();if(v.skipLike!==void 0&&v.skipLike.test(P))return b;if(b==="0")return 0;if(v.hex&&yf.test(P))return function(N){if(parseInt)return parseInt(N,16);if(Number.parseInt)return Number.parseInt(N,16);if(window&&window.parseInt)return window.parseInt(N,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(P);if(P.search(/.+[eE].+/)!==-1)return function(N,$,Q){if(!Q.eNotation)return N;let q=$.match(Ef);if(q){let de=q[1]||"",Te=q[3].indexOf("e")===-1?"E":"e",me=q[2],Fe=de?N[me.length+1]===Te:N[me.length]===Te;return me.length>1&&Fe?N:me.length!==1||!q[3].startsWith(`.${Te}`)&&q[3][0]!==Te?Q.leadingZeros&&!Fe?($=(q[1]||"")+q[3],Number($)):N:Number($)}return N}(b,P,v);{let N=ze.exec(P);if(N){let $=N[1]||"",Q=N[2],q=((R=N[3])&&R.indexOf(".")!==-1&&((R=R.replace(/0+$/,""))==="."?R="0":R[0]==="."?R="0"+R:R[R.length-1]==="."&&(R=R.substring(0,R.length-1))),R),de=$?b[Q.length+1]===".":b[Q.length]===".";if(!v.leadingZeros&&(Q.length>1||Q.length===1&&!de))return b;{let Te=Number(P),me=String(Te);if(Te===0||Te===-0)return Te;if(me.search(/[eE]/)!==-1)return v.eNotation?Te:b;if(P.indexOf(".")!==-1)return me==="0"||me===q||me===`${$}${q}`?Te:b;let Fe=Q?q:P;return Q?Fe===me||$+Fe===me?Te:b:Fe===me||Fe===$+me?Te:b}}return b}var R}(f,E)}return f!==void 0?f:""}let _f=Se.getMetaDataSymbol();function cj(f,h){return aT(f,h)}function aT(f,h,E){let A,b={};for(let v=0;v<f.length;v++){let P=f[v],R=lj(P),N="";if(N=E===void 0?R:E+"."+R,R===h.textNodeName)A===void 0?A=P[R]:A+=""+P[R];else{if(R===void 0)continue;if(P[R]){let $=aT(P[R],h,N),Q=dj($,h);P[_f]!==void 0&&($[_f]=P[_f]),P[":@"]?uj($,P[":@"],N,h):Object.keys($).length!==1||$[h.textNodeName]===void 0||h.alwaysCreateTextNode?Object.keys($).length===0&&(h.alwaysCreateTextNode?$[h.textNodeName]="":$=""):$=$[h.textNodeName],b[R]!==void 0&&b.hasOwnProperty(R)?(Array.isArray(b[R])||(b[R]=[b[R]]),b[R].push($)):h.isArray(R,N,Q)?b[R]=[$]:b[R]=$}}}return typeof A=="string"?A.length>0&&(b[h.textNodeName]=A):A!==void 0&&(b[h.textNodeName]=A),b}function lj(f){let h=Object.keys(f);for(let E=0;E<h.length;E++){let A=h[E];if(A!==":@")return A}}function uj(f,h,E,A){if(h){let b=Object.keys(h),v=b.length;for(let P=0;P<v;P++){let R=b[P];A.isArray(R,E+"."+R,!0,!0)?f[R]=[h[R]]:f[R]=h[R]}}}function dj(f,h){let{textNodeName:E}=h,A=Object.keys(f).length;return A===0||!(A!==1||!f[E]&&typeof f[E]!="boolean"&&f[E]!==0)}class pj{constructor(h){this.externalEntities={},this.options=function(E){return Object.assign({},H,E)}(h)}parse(h,E){if(typeof h!="string"){if(!h.toString)throw new Error("XML data is accepted in String or Bytes[] form.");h=h.toString()}if(E){E===!0&&(E={});let v=a(h,E);if(v!==!0)throw Error(`${v.err.msg}:${v.err.line}:${v.err.col}`)}let A=new bf(this.options);A.addExternalEntities(this.externalEntities);let b=A.parseXml(h);return this.options.preserveOrder||b===void 0?b:cj(b,this.options)}addEntity(h,E){if(E.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(h.indexOf("&")!==-1||h.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(E==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[h]=E}static getMetaDataSymbol(){return Se.getMetaDataSymbol()}}function mj(f,h){let E="";return h.format&&h.indentBy.length>0&&(E=`
`),cT(f,h,"",E)}function cT(f,h,E,A){let b="",v=!1;for(let P=0;P<f.length;P++){let R=f[P],N=fj(R);if(N===void 0)continue;let $="";if($=E.length===0?N:`${E}.${N}`,N===h.textNodeName){let Te=R[N];hj($,h)||(Te=h.tagValueProcessor(N,Te),Te=uT(Te,h)),v&&(b+=A),b+=Te,v=!1;continue}if(N===h.cdataPropName){v&&(b+=A),b+=`<![CDATA[${R[N][0][h.textNodeName]}]]>`,v=!1;continue}if(N===h.commentPropName){b+=A+`<!--${R[N][0][h.textNodeName]}-->`,v=!0;continue}if(N[0]==="?"){let Te=lT(R[":@"],h),me=N==="?xml"?"":A,Fe=R[N][0][h.textNodeName];Fe=Fe.length!==0?" "+Fe:"",b+=me+`<${N}${Fe}${Te}?>`,v=!0;continue}let Q=A;Q!==""&&(Q+=h.indentBy);let q=A+`<${N}${lT(R[":@"],h)}`,de=cT(R[N],h,$,Q);h.unpairedTags.indexOf(N)!==-1?h.suppressUnpairedNode?b+=q+">":b+=q+"/>":de&&de.length!==0||!h.suppressEmptyNode?de&&de.endsWith(">")?b+=q+`>${de}${A}</${N}>`:(b+=q+">",de&&A!==""&&(de.includes("/>")||de.includes("</"))?b+=A+h.indentBy+de+A:b+=de,b+=`</${N}>`):b+=q+"/>",v=!0}return b}function fj(f){let h=Object.keys(f);for(let E=0;E<h.length;E++){let A=h[E];if(f.hasOwnProperty(A)&&A!==":@")return A}}function lT(f,h){let E="";if(f&&!h.ignoreAttributes)for(let A in f){if(!f.hasOwnProperty(A))continue;let b=h.attributeValueProcessor(A,f[A]);b=uT(b,h),b===!0&&h.suppressBooleanAttributes?E+=` ${A.substr(h.attributeNamePrefix.length)}`:E+=` ${A.substr(h.attributeNamePrefix.length)}="${b}"`}return E}function hj(f,h){let E=(f=f.substr(0,f.length-h.textNodeName.length-1)).substr(f.lastIndexOf(".")+1);for(let A in h.stopNodes)if(h.stopNodes[A]===f||h.stopNodes[A]==="*."+E)return!0;return!1}function uT(f,h){if(f&&f.length>0&&h.processEntities)for(let E=0;E<h.entities.length;E++){let A=h.entities[E];f=f.replace(A.regex,A.val)}return f}let gj={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(f,h){return h},attributeValueProcessor:function(f,h){return h},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Sn(f){this.options=Object.assign({},gj,f),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=_c(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Ej),this.processTextOrObjNode=yj,this.options.format?(this.indentate=Sj,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function yj(f,h,E,A){let b=this.j2x(f,E+1,A.concat(h));return f[this.options.textNodeName]!==void 0&&Object.keys(f).length===1?this.buildTextValNode(f[this.options.textNodeName],h,b.attrStr,E):this.buildObjectNode(b.val,h,b.attrStr,E)}function Sj(f){return this.options.indentBy.repeat(f)}function Ej(f){return!(!f.startsWith(this.options.attributeNamePrefix)||f===this.options.textNodeName)&&f.substr(this.attrPrefixLen)}Sn.prototype.build=function(f){return this.options.preserveOrder?mj(f,this.options):(Array.isArray(f)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(f={[this.options.arrayNodeName]:f}),this.j2x(f,0,[]).val)},Sn.prototype.j2x=function(f,h,E){let A="",b="",v=E.join(".");for(let P in f)if(Object.prototype.hasOwnProperty.call(f,P))if(f[P]===void 0)this.isAttribute(P)&&(b+="");else if(f[P]===null)this.isAttribute(P)||P===this.options.cdataPropName?b+="":P[0]==="?"?b+=this.indentate(h)+"<"+P+"?"+this.tagEndChar:b+=this.indentate(h)+"<"+P+"/"+this.tagEndChar;else if(f[P]instanceof Date)b+=this.buildTextValNode(f[P],P,"",h);else if(typeof f[P]!="object"){let R=this.isAttribute(P);if(R&&!this.ignoreAttributesFn(R,v))A+=this.buildAttrPairStr(R,""+f[P]);else if(!R)if(P===this.options.textNodeName){let N=this.options.tagValueProcessor(P,""+f[P]);b+=this.replaceEntitiesValue(N)}else b+=this.buildTextValNode(f[P],P,"",h)}else if(Array.isArray(f[P])){let R=f[P].length,N="",$="";for(let Q=0;Q<R;Q++){let q=f[P][Q];if(q!==void 0)if(q===null)P[0]==="?"?b+=this.indentate(h)+"<"+P+"?"+this.tagEndChar:b+=this.indentate(h)+"<"+P+"/"+this.tagEndChar;else if(typeof q=="object")if(this.options.oneListGroup){let de=this.j2x(q,h+1,E.concat(P));N+=de.val,this.options.attributesGroupName&&q.hasOwnProperty(this.options.attributesGroupName)&&($+=de.attrStr)}else N+=this.processTextOrObjNode(q,P,h,E);else if(this.options.oneListGroup){let de=this.options.tagValueProcessor(P,q);de=this.replaceEntitiesValue(de),N+=de}else N+=this.buildTextValNode(q,P,"",h)}this.options.oneListGroup&&(N=this.buildObjectNode(N,P,$,h)),b+=N}else if(this.options.attributesGroupName&&P===this.options.attributesGroupName){let R=Object.keys(f[P]),N=R.length;for(let $=0;$<N;$++)A+=this.buildAttrPairStr(R[$],""+f[P][R[$]])}else b+=this.processTextOrObjNode(f[P],P,h,E);return{attrStr:A,val:b}},Sn.prototype.buildAttrPairStr=function(f,h){return h=this.options.attributeValueProcessor(f,""+h),h=this.replaceEntitiesValue(h),this.options.suppressBooleanAttributes&&h==="true"?" "+f:" "+f+'="'+h+'"'},Sn.prototype.buildObjectNode=function(f,h,E,A){if(f==="")return h[0]==="?"?this.indentate(A)+"<"+h+E+"?"+this.tagEndChar:this.indentate(A)+"<"+h+E+this.closeTag(h)+this.tagEndChar;{let b="</"+h+this.tagEndChar,v="";return h[0]==="?"&&(v="?",b=""),!E&&E!==""||f.indexOf("<")!==-1?this.options.commentPropName!==!1&&h===this.options.commentPropName&&v.length===0?this.indentate(A)+`<!--${f}-->`+this.newLine:this.indentate(A)+"<"+h+E+v+this.tagEndChar+f+this.indentate(A)+b:this.indentate(A)+"<"+h+E+v+">"+f+b}},Sn.prototype.closeTag=function(f){let h="";return this.options.unpairedTags.indexOf(f)!==-1?this.options.suppressUnpairedNode||(h="/"):h=this.options.suppressEmptyNode?"/":`></${f}`,h},Sn.prototype.buildTextValNode=function(f,h,E,A){if(this.options.cdataPropName!==!1&&h===this.options.cdataPropName)return this.indentate(A)+`<![CDATA[${f}]]>`+this.newLine;if(this.options.commentPropName!==!1&&h===this.options.commentPropName)return this.indentate(A)+`<!--${f}-->`+this.newLine;if(h[0]==="?")return this.indentate(A)+"<"+h+E+"?"+this.tagEndChar;{let b=this.options.tagValueProcessor(h,f);return b=this.replaceEntitiesValue(b),b===""?this.indentate(A)+"<"+h+E+this.closeTag(h)+this.tagEndChar:this.indentate(A)+"<"+h+E+">"+b+"</"+h+this.tagEndChar}},Sn.prototype.replaceEntitiesValue=function(f){if(f&&f.length>0&&this.options.processEntities)for(let h=0;h<this.options.entities.length;h++){let E=this.options.entities[h];f=f.replace(E.regex,E.val)}return f};let bj={validate:a};y0.exports=t})()});var E0=D(Py=>{"use strict";Object.defineProperty(Py,"__esModule",{value:!0});Py.parseXML=h3;var f3=S0(),Ry=new f3.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});Ry.addEntity("#xD","\r");Ry.addEntity("#10",`
`);function h3(e){return Ry.parse(e,!0)}});var Wl=D(Vl=>{"use strict";var g3=E0();function y3(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function S3(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var zl=class{value;constructor(t){this.value=t}toString(){return S3(""+this.value)}},Dy=class e{name;children;attributes={};static of(t,r,n){let o=new e(t);return r!==void 0&&o.addChildNode(new zl(r)),n!==void 0&&o.withName(n),o}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=e.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new e(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${y3(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(Vl,"parseXML",{enumerable:!0,get:function(){return g3.parseXML}});Vl.XmlNode=Dy;Vl.XmlText=zl});var b0,T0,_0,Gn,Kl=_(()=>{b0=w(Wl());wt();fe();T0=w(ne()),_0=w(Ve());Mn();Iy();Gn=class extends it{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new _o(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=M.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(s)[0];return s[d].isBlobSchema()?l[d]=r:l[d]=this.read(s[d],r),l}let a=(this.serdeContext?.utf8Encoder??_0.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=M.of(t);if(n.isUnitSchema())return;let o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],d=c.getMergedTraits().xmlName??"member",m=i?r:(r[0]??r)[d],y=Array.isArray(m)?m:[m];for(let g of y)(g!=null||s)&&l.push(this.readSchema(c,g));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),d;i?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let m=c.getMergedTraits().xmlName??"key",y=l.getMergedTraits().xmlName??"value";for(let g of d){let S=g[m],T=g[y];(T!=null||s)&&(a[S]=this.readSchema(l,T))}return a}if(n.isStructSchema()){let c=n.isUnionSchema(),l;c&&(l=new Es(r,a));for(let[d,m]of n.structIterator()){let y=m.getMergedTraits(),g=y.httpPayload?y.xmlName??m.getName():m.getMemberTraits().xmlName??d;c&&l.mark(g),r[g]!=null&&(a[d]=this.readSchema(m,r[g]))}return c&&l.writeUnknown(),a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,b0.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",o=Object.keys(r)[0],s=r[o];return s[n]&&(s[o]=s[n],delete s[n]),(0,T0.getValueFromTextNode)(s)}return{}}}});var w0,I0,Yl,v0=_(()=>{wt();fe();_t();w0=w(ne()),I0=w(He());Mn();Xi();Yl=class extends it{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=M.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??I0.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):o.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Bt.v4)()));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Pe?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Rt(o,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,w0.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(o.isDocumentSchema())Array.isArray(r)?this.write(79,r,n):r instanceof Date?this.write(4,r,n):r instanceof Uint8Array?this.write(21,r,n):r&&typeof r=="object"?this.write(143,r,n):(this.writeKey(n),this.writeValue(String(r)));else if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",s.getMergedTraits().xmlName),d=i?`${n}${a}`:`${n}${l}.${a}`;this.write(s,c,d),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let m=this.getKey("key",s.getMergedTraits().xmlName),y=a?`${n}${c}.${m}`:`${n}entry.${c}.${m}`,g=this.getKey("value",i.getMergedTraits().xmlName),S=a?`${n}${c}.${g}`:`${n}entry.${c}.${g}`;this.write(s,l,y),this.write(i,d,S),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object"){let s=!1;for(let[i,a]of Ss(o,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(i,a.getMergedTraits().xmlName),l=`${n}${c}`;this.write(a,r[i],l),s=!0}if(!s&&o.isUnionSchema()){let{$unknown:i}=r;if(Array.isArray(i)){let[a,c]=i,l=`${n}${a}`;this.write(15,c,l)}}}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${fr(t)}=`}writeValue(t){this.buffer+=fr(t)}}});var jn,Ny=_(()=>{wt();fe();ys();Kl();v0();jn=class extends Hr{options;serializer;deserializer;mixin=new Gt;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Yl(r),this.deserializer=new Gn(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Qt(t.input)==="unit"||!o.body)&&(o.body="");let s=t.name.split("#")[1]??t.name;return o.body=`Action=${s}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1)),o}async deserializeResponse(t,r,n){let o=this.deserializer,s=M.of(t.output),i={};if(n.statusCode>=300){let m=await Ut(n.body,r);m.byteLength>0&&Object.assign(i,await o.read(15,m)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let m in n.headers){let y=n.headers[m];delete n.headers[m],n.headers[m.toLowerCase()]=y}let a=t.name.split("#")[1]??t.name,c=s.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Ut(n.body,r);return l.byteLength>0&&Object.assign(i,await o.read(s,l,c)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.loadQueryError(o),c=this.loadQueryErrorMessage(o);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:l,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,s,this.mixin.findQueryCompatibleError),m=M.of(l),y=K.for(l[1]).getErrorCtor(l)??Error,g=new y(c),S={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[T,I]of m.structIterator()){let x=I.getMergedTraits().xmlName??T,C=a[x]??o[x];S[T]=this.deserializer.readSchema(I,C)}throw this.mixin.decorateServiceException(Object.assign(g,d,{$fault:m.getMergedTraits().error,message:c},S),o)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Xl,A0=_(()=>{Ny();Xl=class extends jn{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var C0,x0,Oy,R0,Ql,ky=_(()=>{C0=w(Wl()),x0=w(ne());vy();Oy=(e,t)=>Bl(e,t).then(r=>{if(r.length){let n;try{n=(0,C0.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,x0.getValueFromTextNode)(i)}return{}}),R0=async(e,t)=>{let r=await Oy(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Ql=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var yt,$y,Jl,ws,Ly=_(()=>{yt=w(Wl());wt();fe();_t();$y=w(ne()),Jl=w(He());Mn();Xi();ws=class extends it{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=M.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Jl.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=yt.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);for(let[d,m]of Ss(t,r)){let y=r[d];if(y!=null||m.isIdempotencyToken()){if(m.getMergedTraits().xmlAttribute){i.addAttribute(m.getMergedTraits().xmlName??d,this.writeSimple(m,y));continue}if(m.isListSchema())this.writeList(m,y,i,c);else if(m.isMapSchema())this.writeMap(m,y,i,c);else if(m.isStructSchema())i.addChildNode(this.writeStruct(m,y,c));else{let g=yt.XmlNode.of(m.getMergedTraits().xmlName??m.getMemberName());this.writeSimpleInto(m,y,g,c),i.addChildNode(g)}}}let{$unknown:l}=r;if(l&&t.isUnionSchema()&&Array.isArray(l)&&Object.keys(r).length===1){let[d,m]=l,y=yt.XmlNode.of(d);if(typeof m!="string")if(r instanceof yt.XmlNode||r instanceof yt.XmlText)i.addChildNode(r);else throw new Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,m,y,c),i.addChildNode(y)}return c&&i.addAttribute(a,c),i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,l=!!s.xmlFlattened,[d,m]=this.getXmlnsAttribute(t,o),y=(g,S)=>{if(i.isListSchema())this.writeList(i,Array.isArray(S)?S:[S],g,m);else if(i.isMapSchema())this.writeMap(i,S,g,m);else if(i.isStructSchema()){let T=this.writeStruct(i,S,m);g.addChildNode(T.withName(l?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let T=yt.XmlNode.of(l?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,S,T,m),g.addChildNode(T)}};if(l)for(let g of r)(c||g!=null)&&y(n,g);else{let g=yt.XmlNode.of(s.xmlName??t.getMemberName());m&&g.addAttribute(d,m);for(let S of r)(c||S!=null)&&y(g,S);n.addChildNode(g)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",d=t.getValueSchema(),m=d.getMergedTraits(),y=m.xmlName??"value",g=!!m.sparse,S=!!i.xmlFlattened,[T,I]=this.getXmlnsAttribute(t,o),x=(C,O,k)=>{let H=yt.XmlNode.of(l,O),[J,Se]=this.getXmlnsAttribute(a,I);Se&&H.addAttribute(J,Se),C.addChildNode(H);let W=yt.XmlNode.of(y);d.isListSchema()?this.writeList(d,k,W,I):d.isMapSchema()?this.writeMap(d,k,W,I,!0):d.isStructSchema()?W=this.writeStruct(d,k,I):this.writeSimpleInto(d,k,W,I),C.addChildNode(W)};if(S){for(let[C,O]of Object.entries(r))if(g||O!=null){let k=yt.XmlNode.of(i.xmlName??t.getMemberName());x(k,C,O),n.addChildNode(k)}}else{let C;s||(C=yt.XmlNode.of(i.xmlName??t.getMemberName()),I&&C.addAttribute(T,I),n.addChildNode(C));for(let[O,k]of Object.entries(r))if(g||k!=null){let H=yt.XmlNode.of("entry");x(H,O,k),(s?n:C).addChildNode(H)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=M.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??Jl.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Rt(n,this.settings)){case 5:o=r.toISOString().replace(".000Z","Z");break;case 6:o=(0,$y.dateToUtcString)(r);break;case 7:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,$y.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Pe?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?o=(0,Bt.v4)():o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=M.of(t),a=new yt.XmlText(s),[c,l]=this.getXmlnsAttribute(i,o);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var Is,My=_(()=>{Mn();Kl();Ly();Is=class extends it{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new ws(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Gn(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Zl,P0=_(()=>{wt();fe();ys();ky();My();Zl=class extends To{codec;serializer;deserializer;mixin=new Gt;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Is(r),this.serializer=new Io(this.codec.createSerializer(),r),this.deserializer=new wo(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=M.of(t.input);if(!o.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);i&&(o.headers["content-type"]=i)}return typeof o.body=="string"&&o.headers["content-type"]===this.getDefaultContentType()&&!o.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(s)&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=Ql(n,o)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,o,s),l=M.of(a),d=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",m=K.for(a[1]).getErrorCtor(a)??Error,y=new m(d);await this.deserializeHttpMessage(a,r,n,o);let g={};for(let[S,T]of l.structIterator()){let I=T.getMergedTraits().xmlName??S,x=o.Error?.[I]??o[I];g[S]=this.codec.createDeserializer().readSchema(T,x)}throw this.mixin.decorateServiceException(Object.assign(y,c,{$fault:l.getMergedTraits().error,message:d},g),o)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var eu={};Ze(eu,{AwsEc2QueryProtocol:()=>Xl,AwsJson1_0Protocol:()=>Hl,AwsJson1_1Protocol:()=>ql,AwsJsonRpcProtocol:()=>Bn,AwsQueryProtocol:()=>jn,AwsRestJsonProtocol:()=>Fn,AwsRestXmlProtocol:()=>Zl,AwsSmithyRpcV2CborProtocol:()=>Ul,JsonCodec:()=>Un,JsonShapeDeserializer:()=>Ts,JsonShapeSerializer:()=>_s,XmlCodec:()=>Is,XmlShapeDeserializer:()=>Gn,XmlShapeSerializer:()=>ws,_toBool:()=>ZA,_toNum:()=>e0,_toStr:()=>JA,awsExpectUnion:()=>h0,loadRestJsonErrorCode:()=>bs,loadRestXmlErrorCode:()=>Ql,parseJsonBody:()=>Qi,parseJsonErrorBody:()=>a0,parseXmlBody:()=>Oy,parseXmlErrorBody:()=>R0});var Hn=_(()=>{QA();t0();d0();p0();jl();m0();Gl();Ay();xy();g0();Ji();A0();Ny();P0();My();Kl();Ly();ky()});var Zr={};Ze(Zr,{AWSSDKSigV4Signer:()=>Dg,AwsEc2QueryProtocol:()=>Xl,AwsJson1_0Protocol:()=>Hl,AwsJson1_1Protocol:()=>ql,AwsJsonRpcProtocol:()=>Bn,AwsQueryProtocol:()=>jn,AwsRestJsonProtocol:()=>Fn,AwsRestXmlProtocol:()=>Zl,AwsSdkSigV4ASigner:()=>zi,AwsSdkSigV4Signer:()=>ot,AwsSmithyRpcV2CborProtocol:()=>Ul,JsonCodec:()=>Un,JsonShapeDeserializer:()=>Ts,JsonShapeSerializer:()=>_s,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Pn,NODE_SIGV4A_CONFIG_OPTIONS:()=>Kv,XmlCodec:()=>Is,XmlShapeDeserializer:()=>Gn,XmlShapeSerializer:()=>ws,_toBool:()=>ZA,_toNum:()=>e0,_toStr:()=>JA,awsExpectUnion:()=>h0,emitWarningIfUnsupportedVersion:()=>xn,getBearerTokenEnvKey:()=>bl,loadRestJsonErrorCode:()=>bs,loadRestXmlErrorCode:()=>Ql,parseJsonBody:()=>Qi,parseJsonErrorBody:()=>a0,parseXmlBody:()=>Oy,parseXmlErrorBody:()=>R0,resolveAWSSDKSigV4Config:()=>bA,resolveAwsSdkSigV4AConfig:()=>Wv,resolveAwsSdkSigV4Config:()=>Wr,setCredentialFeature:()=>Rn,setFeature:()=>Dv,setTokenFeature:()=>Ov,state:()=>El,validateSigningProperties:()=>ms});var Ke=_(()=>{Ft();Xg();Hn()});var Do=D(vs=>{"use strict";var E3=(rt(),ee(vo)),b3=Co(),T3=_e(),Sr=(Ke(),ee(Zr)),k0=void 0;function _3(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function w3(e){let t=E3.normalizeProvider(e.userAgentAppId??k0),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!_3(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var I3=/\d{12}\.ddb/;async function v3(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Sr.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?Sr.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):Sr.setFeature(e,"RETRY_MODE_STANDARD","E"):Sr.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(I3)&&Sr.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":Sr.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Sr.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Sr.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&Sr.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))Sr.setFeature(e,i,a)}}var D0="user-agent",Uy="x-amz-user-agent",N0=" ",By="/",A3=/[^!$%&'*+\-.^_`|~\w]/g,C3=/[^!$%&'*+\-.^_`|~\w#]/g,O0="-",x3=1024;function R3(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=x3){t.length?t+=","+n:t+=n;continue}break}return t}var $0=e=>(t,r)=>async n=>{let{request:o}=n;if(!T3.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(tu)||[],a=(await e.defaultUserAgentProvider()).map(tu);await v3(r,e,n);let c=r;a.push(`m/${R3(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(tu)||[],d=await e.userAgentAppId();d&&a.push(tu(["app",`${d}`]));let m=b3.getUserAgentPrefix(),y=(m?[m]:[]).concat([...a,...i,...l]).join(N0),g=[...a.filter(S=>S.startsWith("aws-sdk-")),...l].join(N0);return e.runtime!=="browser"?(g&&(s[Uy]=s[Uy]?`${s[D0]} ${g}`:g),s[D0]=y):s[Uy]=y,t({...n,request:o})},tu=e=>{let t=e[0].split(By).map(i=>i.replace(A3,O0)).join(By),r=e[1]?.replace(C3,O0),n=t.indexOf(By),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},L0={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},P3=e=>({applyToStack:t=>{t.add($0(e),L0)}});vs.DEFAULT_UA_APP_ID=k0;vs.getUserAgentMiddlewareOptions=L0;vs.getUserAgentPlugin=P3;vs.resolveUserAgentConfig=w3;vs.userAgentMiddleware=$0});var M0=D(As=>{"use strict";var D3=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},N3=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};As.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(As.SelectorType||(As.SelectorType={}));As.booleanSelector=D3;As.numberSelector=N3});var It=D(Xe=>{"use strict";var qn=M0(),ru=et(),O3=Cn(),F0="AWS_USE_DUALSTACK_ENDPOINT",G0="use_dualstack_endpoint",k3=!1,$3={environmentVariableSelector:e=>qn.booleanSelector(e,F0,qn.SelectorType.ENV),configFileSelector:e=>qn.booleanSelector(e,G0,qn.SelectorType.CONFIG),default:!1},j0="AWS_USE_FIPS_ENDPOINT",H0="use_fips_endpoint",L3=!1,M3={environmentVariableSelector:e=>qn.booleanSelector(e,j0,qn.SelectorType.ENV),configFileSelector:e=>qn.booleanSelector(e,H0,qn.SelectorType.CONFIG),default:!1},U3=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:ru.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:ru.normalizeProvider(o??!1)})},B3=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},F3=e=>{let t=ru.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?ru.normalizeProvider(typeof r=="string"?o(r):r):()=>B3({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},q0="AWS_REGION",z0="region",G3={environmentVariableSelector:e=>e[q0],configFileSelector:e=>e[z0],default:()=>{throw new Error("Region is missing")}},j3={preferredFile:"credentials"},U0=new Set,H3=(e,t=O3.isValidHostLabel)=>{if(!U0.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else U0.add(e)},V0=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),q3=e=>V0(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,z3=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,o=q3(n);return H3(o),o},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return V0(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},B0=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,V3=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),W3=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",K3=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},Y3=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=W3(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=B0(o[a]?.variants,c),d=B0(s[i]?.variants,c),m=V3(a,{regionHostname:l,partitionHostname:d});if(m===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let y=K3(m,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:m,...y&&{signingRegion:y},...o[a]?.signingService&&{signingService:o[a].signingService}}};Xe.CONFIG_USE_DUALSTACK_ENDPOINT=G0;Xe.CONFIG_USE_FIPS_ENDPOINT=H0;Xe.DEFAULT_USE_DUALSTACK_ENDPOINT=k3;Xe.DEFAULT_USE_FIPS_ENDPOINT=L3;Xe.ENV_USE_DUALSTACK_ENDPOINT=F0;Xe.ENV_USE_FIPS_ENDPOINT=j0;Xe.NODE_REGION_CONFIG_FILE_OPTIONS=j3;Xe.NODE_REGION_CONFIG_OPTIONS=G3;Xe.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=$3;Xe.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=M3;Xe.REGION_ENV_NAME=q0;Xe.REGION_INI_NAME=z0;Xe.getRegionInfo=Y3;Xe.resolveCustomEndpointsConfig=U3;Xe.resolveEndpointsConfig=F3;Xe.resolveRegionConfig=z3});var Cs=D(nu=>{"use strict";var X3=_e(),W0="content-length";function K0(e){return t=>async r=>{let n=r.request;if(X3.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(W0)===-1)try{let i=e(o);n.headers={...n.headers,[W0]:String(i)}}catch{}}return t({...r,request:n})}}var Y0={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Q3=e=>({applyToStack:t=>{t.add(K0(e.bodyLengthChecker),Y0)}});nu.contentLengthMiddleware=K0;nu.contentLengthMiddlewareOptions=Y0;nu.getContentLengthPlugin=Q3});var Gy=D(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.getHomeDir=void 0;var J3=require("os"),Z3=require("path"),Fy={},eV=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",tV=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Z3.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=eV();return Fy[o]||(Fy[o]=(0,J3.homedir)()),Fy[o]};ou.getHomeDir=tV});var jy=D(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.getSSOTokenFilepath=void 0;var rV=require("crypto"),nV=require("path"),oV=Gy(),sV=e=>{let r=(0,rV.createHash)("sha1").update(e).digest("hex");return(0,nV.join)((0,oV.getHomeDir)(),".aws","sso","cache",`${r}.json`)};su.getSSOTokenFilepath=sV});var X0=D(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.getSSOTokenFromFile=zn.tokenIntercept=void 0;var iV=require("fs/promises"),aV=jy();zn.tokenIntercept={};var cV=async e=>{if(zn.tokenIntercept[e])return zn.tokenIntercept[e];let t=(0,aV.getSSOTokenFilepath)(e),r=await(0,iV.readFile)(t,"utf8");return JSON.parse(r)};zn.getSSOTokenFromFile=cV});var Q0=D(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.readFile=Pt.fileIntercept=Pt.filePromises=void 0;var lV=require("node:fs/promises");Pt.filePromises={};Pt.fileIntercept={};var uV=(e,t)=>Pt.fileIntercept[e]!==void 0?Pt.fileIntercept[e]:((!Pt.filePromises[e]||t?.ignoreCache)&&(Pt.filePromises[e]=(0,lV.readFile)(e,"utf8")),Pt.filePromises[e]);Pt.readFile=uV});var Er=D(St=>{"use strict";var Zi=Gy(),J0=jy(),Hy=X0(),iu=require("path"),au=bn(),xs=Q0(),eC="AWS_PROFILE",tC="default",dV=e=>e.profile||process.env[eC]||tC,No=".",pV=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(No);return r===-1?!1:Object.values(au.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(No),s=r.substring(0,o)===au.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),mV="AWS_CONFIG_FILE",rC=()=>process.env[mV]||iu.join(Zi.getHomeDir(),".aws","config"),fV="AWS_SHARED_CREDENTIALS_FILE",hV=()=>process.env[fV]||iu.join(Zi.getHomeDir(),".aws","credentials"),gV=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,yV=["__proto__","profile __proto__"],qy=e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=gV.exec(a);if(c){let[,l,,d]=c;Object.values(au.IniSectionType).includes(l)&&(r=[l,d].join(No))}else r=a;if(yV.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let d=n?[n,c].join(No):c;t[r][d]=l}}}}return t},Z0=()=>({}),nC=async(e={})=>{let{filepath:t=hV(),configFilepath:r=rC()}=e,n=Zi.getHomeDir(),o="~/",s=t;t.startsWith(o)&&(s=iu.join(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=iu.join(n,r.slice(2)));let a=await Promise.all([xs.readFile(i,{ignoreCache:e.ignoreCache}).then(qy).then(pV).catch(Z0),xs.readFile(s,{ignoreCache:e.ignoreCache}).then(qy).catch(Z0)]);return{configFile:a[0],credentialsFile:a[1]}},SV=e=>Object.entries(e).filter(([t])=>t.startsWith(au.IniSectionType.SSO_SESSION+No)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(No)+1)]:n}),{}),EV=()=>({}),bV=async(e={})=>xs.readFile(e.configFilepath??rC()).then(qy).then(SV).catch(EV),TV=(...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},_V=async e=>{let t=await nC(e);return TV(t.configFile,t.credentialsFile)},wV={getFileRecord(){return xs.fileIntercept},interceptFile(e,t){xs.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return Hy.tokenIntercept},interceptToken(e,t){Hy.tokenIntercept[e]=t}};Object.defineProperty(St,"getSSOTokenFromFile",{enumerable:!0,get:function(){return Hy.getSSOTokenFromFile}});Object.defineProperty(St,"readFile",{enumerable:!0,get:function(){return xs.readFile}});St.CONFIG_PREFIX_SEPARATOR=No;St.DEFAULT_PROFILE=tC;St.ENV_PROFILE=eC;St.externalDataInterceptor=wV;St.getProfileName=dV;St.loadSharedConfigFiles=nC;St.loadSsoSessionData=bV;St.parseKnownFiles=_V;Object.keys(Zi).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(St,e)&&Object.defineProperty(St,e,{enumerable:!0,get:function(){return Zi[e]}})});Object.keys(J0).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(St,e)&&Object.defineProperty(St,e,{enumerable:!0,get:function(){return J0[e]}})})});var br=D(iC=>{"use strict";var ea=st(),oC=Er();function sC(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var IV=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new ea.CredentialsProviderError(r.message||`Not found in ENV: ${sC(e.toString())}`,{logger:t?.logger})}},vV=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=oC.getProfileName(r),{configFile:o,credentialsFile:s}=await oC.loadSharedConfigFiles(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let d=e(c,t==="config"?o:s);if(d===void 0)throw new Error;return d}catch(l){throw new ea.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${sC(e.toString())}`,{logger:r.logger})}},AV=e=>typeof e=="function",CV=e=>AV(e)?async()=>await e():ea.fromStatic(e),xV=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return ea.memoize(ea.chain(IV(e,i),vV(t,n),CV(r)))};iC.loadConfig=xV});var uC=D(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.getEndpointUrlConfig=void 0;var aC=Er(),cC="AWS_ENDPOINT_URL",lC="endpoint_url",RV=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[cC,...r].join("_")];if(n)return n;let o=t[cC];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(aC.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),lC].join(aC.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[lC];if(n)return n},default:void 0});cu.getEndpointUrlConfig=RV});var dC=D(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.getEndpointFromConfig=void 0;var PV=br(),DV=uC(),NV=async e=>(0,PV.loadConfig)((0,DV.getEndpointUrlConfig)(e??""))();lu.getEndpointFromConfig=NV});var Tr=D(en=>{"use strict";var mC=dC(),pC=zr(),OV=(rt(),ee(vo)),uu=et(),kV=Zf(),$V=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),FV(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!BV(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},LV=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,MV=/(\d+\.){3}\d+/,UV=/\.\./,BV=e=>LV.test(e)&&!MV.test(e)&&!UV.test(e),FV=e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},GV=(e,t,r,n=!1)=>{let o=async()=>{let s;return n?s=r.clientContextParams?.[e]??r[e]??r[t]:s=r[e]??r[t],typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await o();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:a,port:c,path:l}=s;return`${i}//${a}${c?":"+c:""}${l}`}}return s}:o},zy=e=>typeof e=="object"?"url"in e?pC.parseUrl(e.url):e:pC.parseUrl(e),fC=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await mC.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(zy(i)),r.isCustomEndpoint=!0)}let o=await hC(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},hC=async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await GV(i.name,s,r,i.type!=="builtInParams")();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await $V(n),n},gC=({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&OV.setFeature(n,"ENDPOINT_OVERRIDE","N");let s=await fC(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=uu.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},yC={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:kV.serializerMiddlewareOption.name},jV=(e,t)=>({applyToStack:r=>{r.addRelativeTo(gC({config:e,instructions:t}),yC)}}),HV=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>zy(await uu.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:uu.normalizeProvider(n??!1),useFipsEndpoint:uu.normalizeProvider(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=mC.getEndpointFromConfig(e.serviceId)),c),a},qV=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};en.endpointMiddleware=gC;en.endpointMiddlewareOptions=yC;en.getEndpointFromInstructions=fC;en.getEndpointPlugin=jV;en.resolveEndpointConfig=HV;en.resolveEndpointRequiredConfig=qV;en.resolveParams=hC;en.toEndpointV1=zy});var Wy=D(Vn=>{"use strict";var zV=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],VV=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],WV=["TimeoutError","RequestTimeout","RequestTimeoutException"],KV=[500,502,503,504],YV=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],XV=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],SC=e=>e?.$retryable!==void 0,QV=e=>zV.includes(e.name),EC=e=>e.$metadata?.clockSkewCorrected,bC=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},JV=e=>e.$metadata?.httpStatusCode===429||VV.includes(e.name)||e.$retryable?.throttling==!0,Vy=(e,t=0)=>SC(e)||EC(e)||WV.includes(e.name)||YV.includes(e?.code||"")||XV.includes(e?.code||"")||KV.includes(e.$metadata?.httpStatusCode||0)||bC(e)||e.cause!==void 0&&t<=10&&Vy(e.cause,t+1),ZV=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Vy(e)}return!1};Vn.isBrowserNetworkError=bC;Vn.isClockSkewCorrectedError=EC;Vn.isClockSkewError=QV;Vn.isRetryableByTrait=SC;Vn.isServerError=ZV;Vn.isThrottlingError=JV;Vn.isTransientError=Vy});var Oo=D(ke=>{"use strict";var e4=Wy();ke.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(ke.RETRY_MODES||(ke.RETRY_MODES={}));var Ky=3,t4=ke.RETRY_MODES.STANDARD,du=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),e4.isThrottlingError(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},ta=100,Jy=20*1e3,_C=500,Yy=500,wC=5,IC=10,vC=1,r4="amz-sdk-invocation-id",n4="amz-sdk-request",o4=()=>{let e=ta;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Jy,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},TC=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Jy,e),getRetryCost:()=>r}),ra=class{maxAttempts;mode=ke.RETRY_MODES.STANDARD;capacity=Yy;retryBackoffStrategy=o4();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return TC({retryDelay:ta,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?_C:ta);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,TC({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Yy,this.capacity+(t.getRetryCost()??vC))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ky}`),Ky}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?IC:wC}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},Xy=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=ke.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new du,this.standardRetryStrategy=new ra(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},Qy=class extends ra{computeNextBackoffDelay;constructor(t,r=ta){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};ke.AdaptiveRetryStrategy=Xy;ke.ConfiguredRetryStrategy=Qy;ke.DEFAULT_MAX_ATTEMPTS=Ky;ke.DEFAULT_RETRY_DELAY_BASE=ta;ke.DEFAULT_RETRY_MODE=t4;ke.DefaultRateLimiter=du;ke.INITIAL_RETRY_TOKENS=Yy;ke.INVOCATION_ID_HEADER=r4;ke.MAXIMUM_RETRY_DELAY=Jy;ke.NO_RETRY_INCREMENT=vC;ke.REQUEST_HEADER=n4;ke.RETRY_COST=wC;ke.StandardRetryStrategy=ra;ke.THROTTLING_RETRY_DELAY_BASE=_C;ke.TIMEOUT_RETRY_COST=IC});var AC=D(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.isStreamingPayload=void 0;var s4=require("stream"),i4=e=>e?.body instanceof s4.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;pu.isStreamingPayload=i4});var er=D(qe=>{"use strict";var Oe=Oo(),Rs=_e(),Wn=Wy(),xC=Zh(),CC=et(),a4=ne(),c4=AC(),l4=(e,t)=>{let r=e,n=Oe.NO_RETRY_INCREMENT,o=Oe.RETRY_COST,s=Oe.TIMEOUT_RETRY_COST,i=e,a=m=>m.name==="TimeoutError"?s:o,c=m=>a(m)<=i;return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:m=>{if(!c(m))throw new Error("No retry token available");let y=a(m);return i-=y,y},releaseRetryTokens:m=>{i+=m??n,i=Math.min(i,r)}})},RC=(e,t)=>Math.floor(Math.min(Oe.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),PC=e=>e?Wn.isRetryableByTrait(e)||Wn.isClockSkewError(e)||Wn.isThrottlingError(e)||Wn.isTransientError(e):!1,DC=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),mu=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Oe.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??PC,this.delayDecider=r?.delayDecider??RC,this.retryQuota=r?.retryQuota??l4(Oe.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Oe.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,s=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(Rs.HttpRequest.isInstance(c)&&(c.headers[Oe.INVOCATION_ID_HEADER]=xC.v4());;)try{Rs.HttpRequest.isInstance(c)&&(c.headers[Oe.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:d}=await t(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(o),d.$metadata.attempts=s+1,d.$metadata.totalRetryDelay=i,{response:l,output:d}}catch(l){let d=DC(l);if(s++,this.shouldRetry(d,s,a)){o=this.retryQuota.retrieveRetryTokens(d);let m=this.delayDecider(Wn.isThrottlingError(d)?Oe.THROTTLING_RETRY_DELAY_BASE:Oe.DEFAULT_RETRY_DELAY_BASE,s),y=u4(d.$response),g=Math.max(y||0,m);i+=g,await new Promise(S=>setTimeout(S,g));continue}throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=s,d.$metadata.totalRetryDelay=i,d}}},u4=e=>{if(!Rs.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},Zy=class extends mu{rateLimiter;constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new Oe.DefaultRateLimiter,this.mode=Oe.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},eS="AWS_MAX_ATTEMPTS",tS="max_attempts",d4={environmentVariableSelector:e=>{let t=e[eS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${eS} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[tS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${tS} mast be a number, got "${t}"`);return r},default:Oe.DEFAULT_MAX_ATTEMPTS},p4=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=CC.normalizeProvider(n??Oe.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await CC.normalizeProvider(r)()===Oe.RETRY_MODES.ADAPTIVE?new Oe.AdaptiveRetryStrategy(o):new Oe.StandardRetryStrategy(o))})},NC="AWS_RETRY_MODE",OC="retry_mode",m4={environmentVariableSelector:e=>e[NC],configFileSelector:e=>e[OC],default:Oe.DEFAULT_RETRY_MODE},kC=()=>e=>async t=>{let{request:r}=t;return Rs.HttpRequest.isInstance(r)&&(delete r.headers[Oe.INVOCATION_ID_HEADER],delete r.headers[Oe.REQUEST_HEADER]),e(t)},$C={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},f4=e=>({applyToStack:t=>{t.addRelativeTo(kC(),$C)}}),LC=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(h4(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:d}=n,m=Rs.HttpRequest.isInstance(d);for(m&&(d.headers[Oe.INVOCATION_ID_HEADER]=xC.v4());;)try{m&&(d.headers[Oe.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:y,output:g}=await t(n);return o.recordSuccess(i),g.$metadata.attempts=c+1,g.$metadata.totalRetryDelay=l,{response:y,output:g}}catch(y){let g=g4(y);if(a=DC(y),m&&c4.isStreamingPayload(d))throw(r.logger instanceof a4.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=i.getRetryCount();let S=i.getRetryDelay();l+=S,await new Promise(T=>setTimeout(T,S))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},h4=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",g4=e=>{let t={error:e,errorType:y4(e)},r=UC(e.$response);return r&&(t.retryAfterHint=r),t},y4=e=>Wn.isThrottlingError(e)?"THROTTLING":Wn.isTransientError(e)?"TRANSIENT":Wn.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",MC={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},S4=e=>({applyToStack:t=>{t.add(LC(e),MC)}}),UC=e=>{if(!Rs.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};qe.AdaptiveRetryStrategy=Zy;qe.CONFIG_MAX_ATTEMPTS=tS;qe.CONFIG_RETRY_MODE=OC;qe.ENV_MAX_ATTEMPTS=eS;qe.ENV_RETRY_MODE=NC;qe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=d4;qe.NODE_RETRY_MODE_CONFIG_OPTIONS=m4;qe.StandardRetryStrategy=mu;qe.defaultDelayDecider=RC;qe.defaultRetryDecider=PC;qe.getOmitRetryHeadersPlugin=f4;qe.getRetryAfterHint=UC;qe.getRetryPlugin=S4;qe.omitRetryHeadersMiddleware=kC;qe.omitRetryHeadersMiddlewareOptions=$C;qe.resolveRetryConfig=p4;qe.retryMiddleware=LC;qe.retryMiddlewareOptions=MC});var nS=D(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.resolveHttpAuthSchemeConfig=Kn.defaultDynamoDBHttpAuthSchemeProvider=Kn.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var E4=(Ke(),ee(Zr)),rS=et(),b4=async(e,t,r)=>({operation:(0,rS.getSmithyContext)(t).operation,region:await(0,rS.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Kn.defaultDynamoDBHttpAuthSchemeParametersProvider=b4;function T4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var _4=e=>{let t=[];switch(e.operation){default:t.push(T4(e))}return t};Kn.defaultDynamoDBHttpAuthSchemeProvider=_4;var w4=e=>{let t=(0,E4.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,rS.normalizeProvider)(e.authSchemePreference??[])})};Kn.resolveHttpAuthSchemeConfig=w4});var BC=D((hme,I4)=>{I4.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/credential-provider-node":"3.958.0","@aws-sdk/dynamodb-codec":"3.957.0","@aws-sdk/middleware-endpoint-discovery":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.7",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var oS=D(Yn=>{"use strict";var v4=(Ft(),ee(Vr)),A4=st(),FC="AWS_ACCESS_KEY_ID",GC="AWS_SECRET_ACCESS_KEY",jC="AWS_SESSION_TOKEN",HC="AWS_CREDENTIAL_EXPIRATION",qC="AWS_CREDENTIAL_SCOPE",zC="AWS_ACCOUNT_ID",C4=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[FC],r=process.env[GC],n=process.env[jC],o=process.env[HC],s=process.env[qC],i=process.env[zC];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return v4.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new A4.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};Yn.ENV_ACCOUNT_ID=zC;Yn.ENV_CREDENTIAL_SCOPE=qC;Yn.ENV_EXPIRATION=HC;Yn.ENV_KEY=FC;Yn.ENV_SECRET=GC;Yn.ENV_SESSION=jC;Yn.fromEnv=C4});var oa=D(at=>{"use strict";var _r=st(),x4=require("url"),R4=require("buffer"),P4=require("http"),lS=br(),D4=zr();function na(e){return new Promise((t,r)=>{let n=P4.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new _r.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new _r.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new _r.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(R4.Buffer.concat(i)),n.destroy()})}),n.end()})}var YC=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",XC=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),QC=1e3,JC=0,uS=({maxRetries:e=JC,timeout:t=QC})=>({maxRetries:e,timeout:t}),iS=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},fu="AWS_CONTAINER_CREDENTIALS_FULL_URI",hu="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",aS="AWS_CONTAINER_AUTHORIZATION_TOKEN",N4=(e={})=>{let{timeout:t,maxRetries:r}=uS(e);return()=>iS(async()=>{let n=await M4({logger:e.logger}),o=JSON.parse(await O4(t,n));if(!YC(o))throw new _r.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return XC(o)},r)},O4=async(e,t)=>(process.env[aS]&&(t.headers={...t.headers,Authorization:process.env[aS]}),(await na({...t,timeout:e})).toString()),k4="169.254.170.2",$4={localhost:!0,"127.0.0.1":!0},L4={"http:":!0,"https:":!0},M4=async({logger:e})=>{if(process.env[hu])return{hostname:k4,path:process.env[hu]};if(process.env[fu]){let t=x4.parse(process.env[fu]);if(!t.hostname||!(t.hostname in $4))throw new _r.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in L4))throw new _r.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new _r.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${hu} or ${fu} environment variable is set`,{tryNextLink:!1,logger:e})},cS=class e extends _r.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};at.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(at.Endpoint||(at.Endpoint={}));var U4="AWS_EC2_METADATA_SERVICE_ENDPOINT",B4="ec2_metadata_service_endpoint",F4={environmentVariableSelector:e=>e[U4],configFileSelector:e=>e[B4],default:void 0},Ps;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Ps||(Ps={}));var G4="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",j4="ec2_metadata_service_endpoint_mode",H4={environmentVariableSelector:e=>e[G4],configFileSelector:e=>e[j4],default:Ps.IPv4},ZC=async()=>D4.parseUrl(await q4()||await z4()),q4=async()=>lS.loadConfig(F4)(),z4=async()=>{let e=await lS.loadConfig(H4)();switch(e){case Ps.IPv4:return at.Endpoint.IPv4;case Ps.IPv6:return at.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Ps)}`)}},V4=5*60,W4=5*60,K4="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",VC=(e,t)=>{let r=V4+Math.floor(Math.random()*W4),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+K4);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},Y4=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=VC(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=VC(n,r);else throw s}return n=o,o}},ex="/latest/meta-data/iam/security-credentials/",X4="/latest/api/token",sS="AWS_EC2_METADATA_V1_DISABLED",WC="ec2_metadata_v1_disabled",KC="x-aws-ec2-metadata-token",Q4=(e={})=>Y4(J4(e),{logger:e.logger}),J4=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=uS(e),i=async(a,c)=>{if(t||c.headers?.[KC]==null){let m=!1,y=!1,g=await lS.loadConfig({environmentVariableSelector:S=>{let T=S[sS];if(y=!!T&&T!=="false",T===void 0)throw new _r.CredentialsProviderError(`${sS} not set in env, checking config file next.`,{logger:e.logger});return y},configFileSelector:S=>{let T=S[WC];return m=!!T&&T!=="false",m},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&S.push(`config file profile (${WC})`),y&&S.push(`process environment variable (${sS})`),new cS(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let d=(await iS(async()=>{let m;try{m=await eW(c)}catch(y){throw y.statusCode===401&&(t=!1),y}return m},a)).trim();return iS(async()=>{let m;try{m=await tW(d,c,e)}catch(y){throw y.statusCode===401&&(t=!1),y}return m},a)};return async()=>{let a=await ZC();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await Z4({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[KC]:c},timeout:o})}}},Z4=async e=>na({...e,path:X4,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),eW=async e=>(await na({...e,path:ex})).toString(),tW=async(e,t,r)=>{let n=JSON.parse((await na({...t,path:ex+e})).toString());if(!YC(n))throw new _r.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return XC(n)};at.DEFAULT_MAX_RETRIES=JC;at.DEFAULT_TIMEOUT=QC;at.ENV_CMDS_AUTH_TOKEN=aS;at.ENV_CMDS_FULL_URI=fu;at.ENV_CMDS_RELATIVE_URI=hu;at.fromContainerMetadata=N4;at.fromInstanceMetadata=Q4;at.getInstanceMetadataEndpoint=ZC;at.httpRequest=na;at.providerConfigFromInit=uS});var tx=D(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.checkUrl=void 0;var rW=st(),nW="169.254.170.2",oW="169.254.170.23",sW="[fd00:ec2::23]",iW=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===nW||e.hostname===oW||e.hostname===sW)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new rW.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};gu.checkUrl=iW});var rx=D(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.createGetRequest=uW;yu.getCredentials=dW;var dS=st(),aW=_e(),cW=ne(),lW=Yc();function uW(e){return new aW.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function dW(e,t){let n=await(0,lW.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new dS.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,cW.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new dS.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new dS.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var nx=D(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.retryWrapper=void 0;var pW=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};Su.retryWrapper=pW});var ix=D(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.fromHttp=void 0;var mW=(Fi(),ee(Bi)),fW=(Ft(),ee(Vr)),hW=In(),ox=st(),gW=mW.__importDefault(require("fs/promises")),yW=tx(),sx=rx(),SW=nx(),EW="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",bW="http://169.254.170.2",TW="AWS_CONTAINER_CREDENTIALS_FULL_URI",_W="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",wW="AWS_CONTAINER_AUTHORIZATION_TOKEN",IW=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[EW],n=e.awsContainerCredentialsFullUri??process.env[TW],o=e.awsContainerAuthorizationToken??process.env[wW],s=e.awsContainerAuthorizationTokenFile??process.env[_W],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${bW}${r}`;else throw new ox.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,yW.checkUrl)(a,e.logger);let c=hW.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,SW.retryWrapper)(async()=>{let l=(0,sx.createGetRequest)(a);o?l.headers.Authorization=o:s&&(l.headers.Authorization=(await gW.default.readFile(s)).toString());try{let d=await c.handle(l);return(0,sx.getCredentials)(d.response).then(m=>(0,fW.setCredentialFeature)(m,"CREDENTIALS_HTTP","z"))}catch(d){throw new ox.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Eu.fromHttp=IW});var pS=D(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.fromHttp=void 0;var vW=ix();Object.defineProperty(bu,"fromHttp",{enumerable:!0,get:function(){return vW.fromHttp}})});function AW(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function CW(e){return{schemeId:"smithy.api#noAuth"}}var sa,ax,cx,lx,mS=_(()=>{Ke();sa=w(et()),ax=async(e,t,r)=>({operation:(0,sa.getSmithyContext)(t).operation,region:await(0,sa.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});cx=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(CW(e));break}default:t.push(AW(e))}return t},lx=e=>{let t=Wr(e);return Object.assign(t,{authSchemePreference:(0,sa.normalizeProvider)(e.authSchemePreference??[])})}});var ux,dx,fS=_(()=>{ux=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),dx={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Ds,Tu=_(()=>{Ds={name:"@aws-sdk/nested-clients",version:"3.958.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var Ns=D(ko=>{"use strict";var px=require("os"),hS=require("process"),RW=Do(),mx={isCrtAvailable:!1},PW=()=>mx.isCrtAvailable?["md/crt-avail"]:null,fx=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${px.platform()}`,px.release()],["lang/js"],["md/nodejs",`${hS.versions.node}`]],o=PW();o&&n.push(o),e&&n.push([`api/${e}`,t]),hS.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${hS.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},DW=fx,hx="AWS_SDK_UA_APP_ID",gx="sdk_ua_app_id",NW="sdk-ua-app-id",OW={environmentVariableSelector:e=>e[hx],configFileSelector:e=>e[gx]??e[NW],default:RW.DEFAULT_UA_APP_ID};ko.NODE_APP_ID_CONFIG_OPTIONS=OW;ko.UA_APP_ID_ENV_NAME=hx;ko.UA_APP_ID_INI_NAME=gx;ko.createDefaultUserAgentProvider=fx;ko.crtAvailability=mx;ko.defaultUserAgent=DW});var Os=D(Ex=>{"use strict";var gS=rs(),kW=Ve(),$W=require("buffer"),yx=require("crypto"),yS=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(kW.toUint8Array(Sx(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?yx.createHmac(this.algorithmIdentifier,Sx(this.secret)):yx.createHash(this.algorithmIdentifier)}};function Sx(e,t){return $W.Buffer.isBuffer(e)?e:typeof e=="string"?gS.fromString(e,t):ArrayBuffer.isView(e)?gS.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):gS.fromArrayBuffer(e)}Ex.Hash=yS});var ks=D(bx=>{"use strict";var SS=require("node:fs"),LW=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof SS.ReadStream){if(e.path!=null)return SS.lstatSync(e.path).size;if(typeof e.fd=="number")return SS.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};bx.calculateBodyLength=LW});var $s=D(Ix=>{"use strict";var MW=It(),Tx=br(),UW=st(),BW="AWS_EXECUTION_ENV",_x="AWS_REGION",wx="AWS_DEFAULT_REGION",FW="AWS_EC2_METADATA_DISABLED",GW=["in-region","cross-region","mobile","standard","legacy"],jW="/latest/meta-data/placement/region",HW="AWS_DEFAULTS_MODE",qW="defaults_mode",zW={environmentVariableSelector:e=>e[HW],configFileSelector:e=>e[qW],default:"legacy"},VW=({region:e=Tx.loadConfig(MW.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=Tx.loadConfig(zW)}={})=>UW.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return WW(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${GW.join(", ")}, got ${r}`)}}),WW=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await KW();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},KW=async()=>{if(process.env[BW]&&(process.env[_x]||process.env[wx]))return process.env[_x]??process.env[wx];if(!process.env[FW])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>w(oa())),r=await e();return(await t({...r,path:jW})).toString()}catch{}};Ix.resolveDefaultsModeConfig=VW});var kx,Ht,qt,Us,vx,ia,Ls,Ms,tn,ES,bS,Ax,Cx,xx,$x,Lx,jt,Rx,Mx,Px,Dx,Nx,Ox,YW,Ux,Bx=_(()=>{kx="required",Ht="fn",qt="argv",Us="ref",vx="isSet",ia="booleanEquals",Ls="error",Ms="endpoint",tn="tree",ES="PartitionResult",bS="getAttr",Ax={[kx]:!1,type:"string"},Cx={[kx]:!0,default:!1,type:"boolean"},xx={[Us]:"Endpoint"},$x={[Ht]:ia,[qt]:[{[Us]:"UseFIPS"},!0]},Lx={[Ht]:ia,[qt]:[{[Us]:"UseDualStack"},!0]},jt={},Rx={[Ht]:bS,[qt]:[{[Us]:ES},"supportsFIPS"]},Mx={[Us]:ES},Px={[Ht]:ia,[qt]:[!0,{[Ht]:bS,[qt]:[Mx,"supportsDualStack"]}]},Dx=[$x],Nx=[Lx],Ox=[{[Us]:"Region"}],YW={version:"1.0",parameters:{Region:Ax,UseDualStack:Cx,UseFIPS:Cx,Endpoint:Ax},rules:[{conditions:[{[Ht]:vx,[qt]:[xx]}],rules:[{conditions:Dx,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ls},{conditions:Nx,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ls},{endpoint:{url:xx,properties:jt,headers:jt},type:Ms}],type:tn},{conditions:[{[Ht]:vx,[qt]:Ox}],rules:[{conditions:[{[Ht]:"aws.partition",[qt]:Ox,assign:ES}],rules:[{conditions:[$x,Lx],rules:[{conditions:[{[Ht]:ia,[qt]:[!0,Rx]},Px],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:jt,headers:jt},type:Ms}],type:tn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ls}],type:tn},{conditions:Dx,rules:[{conditions:[{[Ht]:ia,[qt]:[Rx,!0]}],rules:[{conditions:[{[Ht]:"stringEquals",[qt]:[{[Ht]:bS,[qt]:[Mx,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:jt,headers:jt},type:Ms},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:jt,headers:jt},type:Ms}],type:tn},{error:"FIPS is enabled but this partition does not support FIPS",type:Ls}],type:tn},{conditions:Nx,rules:[{conditions:[Px],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:jt,headers:jt},type:Ms}],type:tn},{error:"DualStack is enabled but this partition does not support DualStack",type:Ls}],type:tn},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:jt,headers:jt},type:Ms}],type:tn}],type:tn},{error:"Invalid Configuration: Missing Region",type:Ls}]},Ux=YW});var Fx,Bs,XW,Gx,jx=_(()=>{Fx=w(Co()),Bs=w(Cn());Bx();XW=new Bs.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Gx=(e,t={})=>XW.get(e,()=>(0,Bs.resolveEndpoint)(Ux,{endpointParams:e,logger:t.logger}));Bs.customEndpointFunctions.aws=Fx.awsEndpointFunctions});var Hx,qx,_u,wu,zx,Vx=_(()=>{Ke();Hn();rt();Hx=w(ne()),qx=w(zr()),_u=w(He()),wu=w(Ve());mS();jx();zx=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??_u.fromBase64,base64Encoder:e?.base64Encoder??_u.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Gx,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??cx,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ot},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Jt}],logger:e?.logger??new Hx.NoOpLogger,protocol:e?.protocol??Fn,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??qx.parseUrl,utf8Decoder:e?.utf8Decoder??wu.fromUtf8,utf8Encoder:e?.utf8Encoder??wu.toUtf8})});var Iu,Qn,Wx,vu,Xn,Au,Cu,Kx,Yx,Xx,Qx,Jx=_(()=>{Tu();Ke();Iu=w(Ns()),Qn=w(It()),Wx=w(Os()),vu=w(er()),Xn=w(br()),Au=w(In()),Cu=w(ne()),Kx=w(ks()),Yx=w($s()),Xx=w(Oo());Vx();Qx=e=>{(0,Cu.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Yx.resolveDefaultsModeConfig)(e),r=()=>t().then(Cu.loadConfigsForDefaultMode),n=zx(e);xn(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Xn.loadConfig)(Pn,o),bodyLengthChecker:e?.bodyLengthChecker??Kx.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Iu.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Ds.version}),maxAttempts:e?.maxAttempts??(0,Xn.loadConfig)(vu.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Xn.loadConfig)(Qn.NODE_REGION_CONFIG_OPTIONS,{...Qn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Au.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Xn.loadConfig)({...vu.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Xx.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Wx.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Au.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Xn.loadConfig)(Qn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Xn.loadConfig)(Qn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Xn.loadConfig)(Iu.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var eR=D(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.warning=void 0;Fs.stsRegionDefaultResolver=JW;var Zx=It(),QW=br();function JW(e={}){return(0,QW.loadConfig)({...Zx.NODE_REGION_CONFIG_OPTIONS,async default(){return Fs.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...Zx.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}Fs.warning={silence:!1}});var $o=D(wr=>{"use strict";var tR=eR(),aa=It(),ZW=e=>({setRegion(t){e.region=t},region(){return e.region}}),eK=e=>({region:e.region()});Object.defineProperty(wr,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return aa.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(wr,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return aa.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(wr,"REGION_ENV_NAME",{enumerable:!0,get:function(){return aa.REGION_ENV_NAME}});Object.defineProperty(wr,"REGION_INI_NAME",{enumerable:!0,get:function(){return aa.REGION_INI_NAME}});Object.defineProperty(wr,"resolveRegionConfig",{enumerable:!0,get:function(){return aa.resolveRegionConfig}});wr.getAwsRegionExtensionConfiguration=ZW;wr.resolveAwsRegionExtensionConfiguration=eK;Object.keys(tR).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(wr,e)&&Object.defineProperty(wr,e,{enumerable:!0,get:function(){return tR[e]}})})});var rR,nR,oR=_(()=>{rR=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},nR=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var xu,Ru,Pu,sR,iR=_(()=>{xu=w($o()),Ru=w(_e()),Pu=w(ne());oR();sR=(e,t)=>{let r=Object.assign((0,xu.getAwsRegionExtensionConfiguration)(e),(0,Pu.getDefaultExtensionConfiguration)(e),(0,Ru.getHttpHandlerExtensionConfiguration)(e),rR(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,xu.resolveAwsRegionExtensionConfiguration)(r),(0,Pu.resolveDefaultRuntimeConfig)(r),(0,Ru.resolveHttpHandlerRuntimeConfig)(r),nR(r))}});var Du,aR,cR,Nu,lR,uR,dR,Ou,TS,ca,_S=_(()=>{Du=w(Jo()),aR=w(Zo()),cR=w(es()),Nu=w(Do()),lR=w(It());rt();fe();uR=w(Cs()),dR=w(Tr()),Ou=w(er()),TS=w(ne());mS();fS();Jx();iR();ca=class extends TS.Client{config;constructor(...[t]){let r=Qx(t||{});super(r),this.initConfig=r;let n=ux(r),o=(0,Nu.resolveUserAgentConfig)(n),s=(0,Ou.resolveRetryConfig)(o),i=(0,lR.resolveRegionConfig)(s),a=(0,Du.resolveHostHeaderConfig)(i),c=(0,dR.resolveEndpointConfig)(a),l=lx(c),d=sR(l,t?.extensions||[]);this.config=d,this.middlewareStack.use(So(this.config)),this.middlewareStack.use((0,Nu.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Ou.getRetryPlugin)(this.config)),this.middlewareStack.use((0,uR.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Du.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,aR.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,cR.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(go(this.config,{httpAuthSchemeParametersProvider:ax,identityProviderConfigProvider:async m=>new qr({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(yo(this.config))}destroy(){super.destroy()}}});var pR,Ye,ku=_(()=>{pR=w(ne()),Ye=class e extends pR.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var la,ua,da,pa,ma,fa,ha,ga,ya,Sa,Ea,wS=_(()=>{ku();la=class e extends Ye{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},ua=class e extends Ye{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},da=class e extends Ye{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},pa=class e extends Ye{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ma=class e extends Ye{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},fa=class e extends Ye{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ha=class e extends Ye{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},ga=class e extends Ye{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ya=class e extends Ye{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Sa=class e extends Ye{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ea=class e extends Ye{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var tK,rK,nK,oK,sK,iK,aK,cK,lK,uK,dK,pK,mK,fK,hK,gK,yK,SK,EK,bK,Ir,TK,_K,wK,IK,vK,$e,AK,tr,CK,xK,rr,RK,mR,fR,PK,DK,NK,hR,OK,Ee,kK,$K,LK,MK,gR,yR,SR,ER,bR,TR,_R,wR,IR,vR,AR,CR,xR,RR,PR,IS,vS=_(()=>{fe();wS();ku();tK="AccessDeniedException",rK="AuthorizationPendingException",nK="AccessToken",oK="ClientSecret",sK="CreateToken",iK="CreateTokenRequest",aK="CreateTokenResponse",cK="CodeVerifier",lK="ExpiredTokenException",uK="InvalidClientException",dK="InvalidGrantException",pK="InvalidRequestException",mK="InternalServerException",fK="InvalidScopeException",hK="IdToken",gK="RefreshToken",yK="SlowDownException",SK="UnauthorizedClientException",EK="UnsupportedGrantTypeException",bK="accessToken",Ir="client",TK="clientId",_K="clientSecret",wK="codeVerifier",IK="code",vK="deviceCode",$e="error",AK="expiresIn",tr="error_description",CK="grantType",xK="http",rr="httpError",RK="idToken",mR="reason",fR="refreshToken",PK="redirectUri",DK="scope",NK="server",hR="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",OK="tokenType",Ee="com.amazonaws.ssooidc",kK=[0,Ee,nK,8,0],$K=[0,Ee,oK,8,0],LK=[0,Ee,cK,8,0],MK=[0,Ee,hK,8,0],gR=[0,Ee,gK,8,0],yR=[-3,Ee,tK,{[$e]:Ir,[rr]:400},[$e,mR,tr],[0,0,0]];K.for(Ee).registerError(yR,la);SR=[-3,Ee,rK,{[$e]:Ir,[rr]:400},[$e,tr],[0,0]];K.for(Ee).registerError(SR,ua);ER=[3,Ee,iK,0,[TK,_K,CK,vK,IK,fR,DK,PK,wK],[0,[()=>$K,0],0,0,0,[()=>gR,0],64,0,[()=>LK,0]]],bR=[3,Ee,aK,0,[bK,OK,AK,fR,RK],[[()=>kK,0],0,1,[()=>gR,0],[()=>MK,0]]],TR=[-3,Ee,lK,{[$e]:Ir,[rr]:400},[$e,tr],[0,0]];K.for(Ee).registerError(TR,da);_R=[-3,Ee,mK,{[$e]:NK,[rr]:500},[$e,tr],[0,0]];K.for(Ee).registerError(_R,pa);wR=[-3,Ee,uK,{[$e]:Ir,[rr]:401},[$e,tr],[0,0]];K.for(Ee).registerError(wR,ma);IR=[-3,Ee,dK,{[$e]:Ir,[rr]:400},[$e,tr],[0,0]];K.for(Ee).registerError(IR,fa);vR=[-3,Ee,pK,{[$e]:Ir,[rr]:400},[$e,mR,tr],[0,0,0]];K.for(Ee).registerError(vR,ha);AR=[-3,Ee,fK,{[$e]:Ir,[rr]:400},[$e,tr],[0,0]];K.for(Ee).registerError(AR,ga);CR=[-3,Ee,yK,{[$e]:Ir,[rr]:400},[$e,tr],[0,0]];K.for(Ee).registerError(CR,ya);xR=[-3,Ee,SK,{[$e]:Ir,[rr]:400},[$e,tr],[0,0]];K.for(Ee).registerError(xR,Sa);RR=[-3,Ee,EK,{[$e]:Ir,[rr]:400},[$e,tr],[0,0]];K.for(Ee).registerError(RR,Ea);PR=[-3,hR,"SSOOIDCServiceException",0,[],[]];K.for(hR).registerError(PR,Ye);IS=[9,Ee,sK,{[xK]:["POST","/token",200]},()=>ER,()=>bR]});var DR,AS,ba,CS=_(()=>{DR=w(Tr()),AS=w(ne());fS();vS();ba=class extends AS.Command.classBuilder().ep(dx).m(function(t,r,n,o){return[(0,DR.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(IS).build(){}});var NR,UK,$u,OR=_(()=>{NR=w(ne());CS();_S();UK={CreateTokenCommand:ba},$u=class extends ca{};(0,NR.createAggregatedClient)(UK,$u)});var kR=_(()=>{CS()});var BK,FK,$R=_(()=>{BK={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},FK={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var LR=_(()=>{});var xS={};Ze(xS,{$Command:()=>AS.Command,AccessDeniedException:()=>la,AccessDeniedException$:()=>yR,AccessDeniedExceptionReason:()=>BK,AuthorizationPendingException:()=>ua,AuthorizationPendingException$:()=>SR,CreateToken$:()=>IS,CreateTokenCommand:()=>ba,CreateTokenRequest$:()=>ER,CreateTokenResponse$:()=>bR,ExpiredTokenException:()=>da,ExpiredTokenException$:()=>TR,InternalServerException:()=>pa,InternalServerException$:()=>_R,InvalidClientException:()=>ma,InvalidClientException$:()=>wR,InvalidGrantException:()=>fa,InvalidGrantException$:()=>IR,InvalidRequestException:()=>ha,InvalidRequestException$:()=>vR,InvalidRequestExceptionReason:()=>FK,InvalidScopeException:()=>ga,InvalidScopeException$:()=>AR,SSOOIDC:()=>$u,SSOOIDCClient:()=>ca,SSOOIDCServiceException:()=>Ye,SSOOIDCServiceException$:()=>PR,SlowDownException:()=>ya,SlowDownException$:()=>CR,UnauthorizedClientException:()=>Sa,UnauthorizedClientException$:()=>xR,UnsupportedGrantTypeException:()=>Ea,UnsupportedGrantTypeException$:()=>RR,__Client:()=>TS.Client});var RS=_(()=>{_S();OR();kR();vS();$R();wS();LR();ku()});var FR=D(_a=>{"use strict";var GK=(Ft(),ee(Vr)),jK=(Xg(),ee(wA)),Dt=st(),Ta=Er(),HK=require("fs"),qK=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Dt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=jK.getBearerTokenEnvKey(t);if(!(r in process.env))throw new Dt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return GK.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},zK=5*60*1e3,PS="To refresh this SSO session run 'aws sso login' with the corresponding profile.",VK=async(e,t={},r)=>{let{SSOOIDCClient:n}=await Promise.resolve().then(()=>(RS(),xS)),o=i=>t.clientConfig?.[i]??t.parentClientConfig?.[i]??r?.[i];return new n(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:o("logger"),userAgentAppId:o("userAgentAppId")}))},WK=async(e,t,r={},n)=>{let{CreateTokenCommand:o}=await Promise.resolve().then(()=>(RS(),xS));return(await VK(t,r,n)).send(new o({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},MR=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Dt.TokenProviderError(`Token is expired. ${PS}`,!1)},Lo=(e,t,r=!1)=>{if(typeof t>"u")throw new Dt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${PS}`,!1)},{writeFile:KK}=HK.promises,YK=(e,t)=>{let r=Ta.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return KK(r,n)},UR=new Date(0),BR=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await Ta.parseKnownFiles(e),n=Ta.getProfileName({profile:e.profile??t?.profile}),o=r[n];if(o){if(!o.sso_session)throw new Dt.TokenProviderError(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Dt.TokenProviderError(`Profile '${n}' could not be found in shared credentials file.`,!1);let s=o.sso_session,a=(await Ta.loadSsoSessionData(e))[s];if(!a)throw new Dt.TokenProviderError(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let g of["sso_start_url","sso_region"])if(!a[g])throw new Dt.TokenProviderError(`Sso session '${s}' is missing required property '${g}'.`,!1);a.sso_start_url;let c=a.sso_region,l;try{l=await Ta.getSSOTokenFromFile(s)}catch{throw new Dt.TokenProviderError(`The SSO session token associated with profile=${n} was not found or is invalid. ${PS}`,!1)}Lo("accessToken",l.accessToken),Lo("expiresAt",l.expiresAt);let{accessToken:d,expiresAt:m}=l,y={token:d,expiration:new Date(m)};if(y.expiration.getTime()-Date.now()>zK)return y;if(Date.now()-UR.getTime()<30*1e3)return MR(y),y;Lo("clientId",l.clientId,!0),Lo("clientSecret",l.clientSecret,!0),Lo("refreshToken",l.refreshToken,!0);try{UR.setTime(Date.now());let g=await WK(l,c,e,t);Lo("accessToken",g.accessToken),Lo("expiresIn",g.expiresIn);let S=new Date(Date.now()+g.expiresIn*1e3);try{await YK(s,{...l,accessToken:g.accessToken,expiresAt:S.toISOString(),refreshToken:g.refreshToken})}catch{}return{token:g.accessToken,expiration:S}}catch{return MR(y),y}},XK=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Dt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},QK=(e={})=>Dt.memoize(Dt.chain(BR(e),async()=>{throw new Dt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);_a.fromEnvSigningName=qK;_a.fromSso=BR;_a.fromStatic=XK;_a.nodeProvider=QK});var NS=D(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.resolveHttpAuthSchemeConfig=Jn.defaultSSOHttpAuthSchemeProvider=Jn.defaultSSOHttpAuthSchemeParametersProvider=void 0;var JK=(Ke(),ee(Zr)),DS=et(),ZK=async(e,t,r)=>({operation:(0,DS.getSmithyContext)(t).operation,region:await(0,DS.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Jn.defaultSSOHttpAuthSchemeParametersProvider=ZK;function e6(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Lu(e){return{schemeId:"smithy.api#noAuth"}}var t6=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Lu(e));break}case"ListAccountRoles":{t.push(Lu(e));break}case"ListAccounts":{t.push(Lu(e));break}case"Logout":{t.push(Lu(e));break}default:t.push(e6(e))}return t};Jn.defaultSSOHttpAuthSchemeProvider=t6;var r6=e=>{let t=(0,JK.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,DS.normalizeProvider)(e.authSchemePreference??[])})};Jn.resolveHttpAuthSchemeConfig=r6});var GR=D((xfe,n6)=>{n6.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.958.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.957.0","@aws-sdk/middleware-host-header":"3.957.0","@aws-sdk/middleware-logger":"3.957.0","@aws-sdk/middleware-recursion-detection":"3.957.0","@aws-sdk/middleware-user-agent":"3.957.0","@aws-sdk/region-config-resolver":"3.957.0","@aws-sdk/types":"3.957.0","@aws-sdk/util-endpoints":"3.957.0","@aws-sdk/util-user-agent-browser":"3.957.0","@aws-sdk/util-user-agent-node":"3.957.0","@smithy/config-resolver":"^4.4.5","@smithy/core":"^3.20.0","@smithy/fetch-http-handler":"^5.3.8","@smithy/hash-node":"^4.2.7","@smithy/invalid-dependency":"^4.2.7","@smithy/middleware-content-length":"^4.2.7","@smithy/middleware-endpoint":"^4.4.1","@smithy/middleware-retry":"^4.4.17","@smithy/middleware-serde":"^4.2.8","@smithy/middleware-stack":"^4.2.7","@smithy/node-config-provider":"^4.3.7","@smithy/node-http-handler":"^4.4.7","@smithy/protocol-http":"^5.3.7","@smithy/smithy-client":"^4.10.2","@smithy/types":"^4.11.0","@smithy/url-parser":"^4.2.7","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.16","@smithy/util-defaults-mode-node":"^4.2.19","@smithy/util-endpoints":"^3.2.7","@smithy/util-middleware":"^4.2.7","@smithy/util-retry":"^4.2.7","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var rP=D(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.ruleSet=void 0;var JR="required",Vt="fn",Wt="argv",Hs="ref",jR=!0,HR="isSet",wa="booleanEquals",Gs="error",js="endpoint",rn="tree",OS="PartitionResult",kS="getAttr",qR={[JR]:!1,type:"string"},zR={[JR]:!0,default:!1,type:"boolean"},VR={[Hs]:"Endpoint"},ZR={[Vt]:wa,[Wt]:[{[Hs]:"UseFIPS"},!0]},eP={[Vt]:wa,[Wt]:[{[Hs]:"UseDualStack"},!0]},zt={},WR={[Vt]:kS,[Wt]:[{[Hs]:OS},"supportsFIPS"]},tP={[Hs]:OS},KR={[Vt]:wa,[Wt]:[!0,{[Vt]:kS,[Wt]:[tP,"supportsDualStack"]}]},YR=[ZR],XR=[eP],QR=[{[Hs]:"Region"}],o6={version:"1.0",parameters:{Region:qR,UseDualStack:zR,UseFIPS:zR,Endpoint:qR},rules:[{conditions:[{[Vt]:HR,[Wt]:[VR]}],rules:[{conditions:YR,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Gs},{conditions:XR,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Gs},{endpoint:{url:VR,properties:zt,headers:zt},type:js}],type:rn},{conditions:[{[Vt]:HR,[Wt]:QR}],rules:[{conditions:[{[Vt]:"aws.partition",[Wt]:QR,assign:OS}],rules:[{conditions:[ZR,eP],rules:[{conditions:[{[Vt]:wa,[Wt]:[jR,WR]},KR],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zt,headers:zt},type:js}],type:rn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Gs}],type:rn},{conditions:YR,rules:[{conditions:[{[Vt]:wa,[Wt]:[WR,jR]}],rules:[{conditions:[{[Vt]:"stringEquals",[Wt]:[{[Vt]:kS,[Wt]:[tP,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:zt,headers:zt},type:js},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:zt,headers:zt},type:js}],type:rn},{error:"FIPS is enabled but this partition does not support FIPS",type:Gs}],type:rn},{conditions:XR,rules:[{conditions:[KR],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zt,headers:zt},type:js}],type:rn},{error:"DualStack is enabled but this partition does not support DualStack",type:Gs}],type:rn},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:zt,headers:zt},type:js}],type:rn}],type:rn},{error:"Invalid Configuration: Missing Region",type:Gs}]};Mu.ruleSet=o6});var nP=D(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.defaultEndpointResolver=void 0;var s6=Co(),$S=Cn(),i6=rP(),a6=new $S.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),c6=(e,t={})=>a6.get(e,()=>(0,$S.resolveEndpoint)(i6.ruleSet,{endpointParams:e,logger:t.logger}));Uu.defaultEndpointResolver=c6;$S.customEndpointFunctions.aws=s6.awsEndpointFunctions});var iP=D(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.getRuntimeConfig=void 0;var l6=(Ke(),ee(Zr)),u6=(Hn(),ee(eu)),d6=(rt(),ee(vo)),p6=ne(),m6=zr(),oP=He(),sP=Ve(),f6=NS(),h6=nP(),g6=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??oP.fromBase64,base64Encoder:e?.base64Encoder??oP.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??h6.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??f6.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new l6.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new d6.NoAuthSigner}],logger:e?.logger??new p6.NoOpLogger,protocol:e?.protocol??u6.AwsRestJsonProtocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??m6.parseUrl,utf8Decoder:e?.utf8Decoder??sP.fromUtf8,utf8Encoder:e?.utf8Encoder??sP.toUtf8});Bu.getRuntimeConfig=g6});var pP=D(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.getRuntimeConfig=void 0;var y6=(Fi(),ee(Bi)),S6=y6.__importDefault(GR()),aP=(Ke(),ee(Zr)),cP=Ns(),Fu=It(),E6=Os(),lP=er(),Mo=br(),uP=In(),dP=ne(),b6=ks(),T6=$s(),_6=Oo(),w6=iP(),I6=e=>{(0,dP.emitWarningIfUnsupportedVersion)(process.version);let t=(0,T6.resolveDefaultsModeConfig)(e),r=()=>t().then(dP.loadConfigsForDefaultMode),n=(0,w6.getRuntimeConfig)(e);(0,aP.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Mo.loadConfig)(aP.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??b6.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,cP.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:S6.default.version}),maxAttempts:e?.maxAttempts??(0,Mo.loadConfig)(lP.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Mo.loadConfig)(Fu.NODE_REGION_CONFIG_OPTIONS,{...Fu.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:uP.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Mo.loadConfig)({...lP.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||_6.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??E6.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??uP.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Mo.loadConfig)(Fu.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Mo.loadConfig)(Fu.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Mo.loadConfig)(cP.NODE_APP_ID_CONFIG_OPTIONS,o)}};Gu.getRuntimeConfig=I6});var qP=D(le=>{"use strict";var mP=Jo(),v6=Zo(),A6=es(),fP=Do(),C6=It(),Ia=(rt(),ee(vo)),zs=(fe(),ee(Oi)),x6=Cs(),Ca=Tr(),hP=er(),nr=ne(),gP=NS(),R6=pP(),yP=$o(),SP=_e(),P6=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Yu={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},D6=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},N6=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),O6=(e,t)=>{let r=Object.assign(yP.getAwsRegionExtensionConfiguration(e),nr.getDefaultExtensionConfiguration(e),SP.getHttpHandlerExtensionConfiguration(e),D6(e));return t.forEach(n=>n.configure(r)),Object.assign(e,yP.resolveAwsRegionExtensionConfiguration(r),nr.resolveDefaultRuntimeConfig(r),SP.resolveHttpHandlerRuntimeConfig(r),N6(r))},qs=class extends nr.Client{config;constructor(...[t]){let r=R6.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=P6(r),o=fP.resolveUserAgentConfig(n),s=hP.resolveRetryConfig(o),i=C6.resolveRegionConfig(s),a=mP.resolveHostHeaderConfig(i),c=Ca.resolveEndpointConfig(a),l=gP.resolveHttpAuthSchemeConfig(c),d=O6(l,t?.extensions||[]);this.config=d,this.middlewareStack.use(zs.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(fP.getUserAgentPlugin(this.config)),this.middlewareStack.use(hP.getRetryPlugin(this.config)),this.middlewareStack.use(x6.getContentLengthPlugin(this.config)),this.middlewareStack.use(mP.getHostHeaderPlugin(this.config)),this.middlewareStack.use(v6.getLoggerPlugin(this.config)),this.middlewareStack.use(A6.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Ia.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:gP.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async m=>new Ia.DefaultIdentityProviderConfig({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Ia.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Zn=class e extends nr.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},ju=class e extends Zn{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Hu=class e extends Zn{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},qu=class e extends Zn{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},zu=class e extends Zn{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},k6="AccountInfo",$6="AccountListType",L6="AccessTokenType",M6="GetRoleCredentials",U6="GetRoleCredentialsRequest",B6="GetRoleCredentialsResponse",F6="InvalidRequestException",G6="Logout",j6="ListAccounts",H6="ListAccountsRequest",q6="ListAccountRolesRequest",z6="ListAccountRolesResponse",V6="ListAccountsResponse",W6="ListAccountRoles",K6="LogoutRequest",Y6="RoleCredentials",X6="RoleInfo",Q6="RoleListType",J6="ResourceNotFoundException",Z6="SecretAccessKeyType",e8="SessionTokenType",t8="TooManyRequestsException",r8="UnauthorizedException",Xu="accountId",n8="accessKeyId",o8="accountList",s8="accountName",Qu="accessToken",EP="account_id",Ju="client",Zu="error",i8="emailAddress",a8="expiration",ed="http",td="httpError",rd="httpHeader",Uo="httpQuery",nd="message",bP="maxResults",TP="max_result",od="nextToken",_P="next_token",c8="roleCredentials",l8="roleList",wP="roleName",u8="role_name",IP="smithy.ts.sdk.synthetic.com.amazonaws.sso",d8="secretAccessKey",p8="sessionToken",sd="x-amz-sso_bearer_token",xe="com.amazonaws.sso",id=[0,xe,L6,8,0],m8=[0,xe,Z6,8,0],f8=[0,xe,e8,8,0],vP=[3,xe,k6,0,[Xu,s8,i8],[0,0,0]],AP=[3,xe,U6,0,[wP,Xu,Qu],[[0,{[Uo]:u8}],[0,{[Uo]:EP}],[()=>id,{[rd]:sd}]]],CP=[3,xe,B6,0,[c8],[[()=>$P,0]]],xP=[-3,xe,F6,{[Zu]:Ju,[td]:400},[nd],[0]];zs.TypeRegistry.for(xe).registerError(xP,ju);var RP=[3,xe,q6,0,[od,bP,Qu,Xu],[[0,{[Uo]:_P}],[1,{[Uo]:TP}],[()=>id,{[rd]:sd}],[0,{[Uo]:EP}]]],PP=[3,xe,z6,0,[od,l8],[0,()=>y8]],DP=[3,xe,H6,0,[od,bP,Qu],[[0,{[Uo]:_P}],[1,{[Uo]:TP}],[()=>id,{[rd]:sd}]]],NP=[3,xe,V6,0,[od,o8],[0,()=>g8]],OP=[3,xe,K6,0,[Qu],[[()=>id,{[rd]:sd}]]],kP=[-3,xe,J6,{[Zu]:Ju,[td]:404},[nd],[0]];zs.TypeRegistry.for(xe).registerError(kP,Hu);var $P=[3,xe,Y6,0,[n8,d8,p8,a8],[0,[()=>m8,0],[()=>f8,0],1]],LP=[3,xe,X6,0,[wP,Xu],[0,0]],MP=[-3,xe,t8,{[Zu]:Ju,[td]:429},[nd],[0]];zs.TypeRegistry.for(xe).registerError(MP,qu);var UP=[-3,xe,r8,{[Zu]:Ju,[td]:401},[nd],[0]];zs.TypeRegistry.for(xe).registerError(UP,zu);var h8="unit",BP=[-3,IP,"SSOServiceException",0,[],[]];zs.TypeRegistry.for(IP).registerError(BP,Zn);var g8=[1,xe,$6,0,()=>vP],y8=[1,xe,Q6,0,()=>LP],FP=[9,xe,M6,{[ed]:["GET","/federation/credentials",200]},()=>AP,()=>CP],GP=[9,xe,W6,{[ed]:["GET","/assignment/roles",200]},()=>RP,()=>PP],jP=[9,xe,j6,{[ed]:["GET","/assignment/accounts",200]},()=>DP,()=>NP],HP=[9,xe,G6,{[ed]:["POST","/logout",200]},()=>OP,()=>h8],Vu=class extends nr.Command.classBuilder().ep(Yu).m(function(t,r,n,o){return[Ca.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(FP).build(){},va=class extends nr.Command.classBuilder().ep(Yu).m(function(t,r,n,o){return[Ca.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(GP).build(){},Aa=class extends nr.Command.classBuilder().ep(Yu).m(function(t,r,n,o){return[Ca.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(jP).build(){},Wu=class extends nr.Command.classBuilder().ep(Yu).m(function(t,r,n,o){return[Ca.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(HP).build(){},S8={GetRoleCredentialsCommand:Vu,ListAccountRolesCommand:va,ListAccountsCommand:Aa,LogoutCommand:Wu},Ku=class extends qs{};nr.createAggregatedClient(S8,Ku);var E8=Ia.createPaginator(qs,va,"nextToken","nextToken","maxResults"),b8=Ia.createPaginator(qs,Aa,"nextToken","nextToken","maxResults");Object.defineProperty(le,"$Command",{enumerable:!0,get:function(){return nr.Command}});Object.defineProperty(le,"__Client",{enumerable:!0,get:function(){return nr.Client}});le.AccountInfo$=vP;le.GetRoleCredentials$=FP;le.GetRoleCredentialsCommand=Vu;le.GetRoleCredentialsRequest$=AP;le.GetRoleCredentialsResponse$=CP;le.InvalidRequestException=ju;le.InvalidRequestException$=xP;le.ListAccountRoles$=GP;le.ListAccountRolesCommand=va;le.ListAccountRolesRequest$=RP;le.ListAccountRolesResponse$=PP;le.ListAccounts$=jP;le.ListAccountsCommand=Aa;le.ListAccountsRequest$=DP;le.ListAccountsResponse$=NP;le.Logout$=HP;le.LogoutCommand=Wu;le.LogoutRequest$=OP;le.ResourceNotFoundException=Hu;le.ResourceNotFoundException$=kP;le.RoleCredentials$=$P;le.RoleInfo$=LP;le.SSO=Ku;le.SSOClient=qs;le.SSOServiceException=Zn;le.SSOServiceException$=BP;le.TooManyRequestsException=qu;le.TooManyRequestsException$=MP;le.UnauthorizedException=zu;le.UnauthorizedException$=UP;le.paginateListAccountRoles=E8;le.paginateListAccounts=b8});var VP=D(LS=>{"use strict";var zP=qP();Object.defineProperty(LS,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return zP.GetRoleCredentialsCommand}});Object.defineProperty(LS,"SSOClient",{enumerable:!0,get:function(){return zP.SSOClient}})});var MS=D(cd=>{"use strict";var or=st(),ad=Er(),WP=(Ft(),ee(Vr)),T8=FR(),YP=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),xa=!1,KP=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,callerClientConfig:c,profile:l,filepath:d,configFilepath:m,ignoreCache:y,logger:g})=>{let S,T="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Re=await T8.fromSso({profile:l,filepath:d,configFilepath:m,ignoreCache:y})();S={accessToken:Re.token,expiresAt:new Date(Re.expiration).toISOString()}}catch(Re){throw new or.CredentialsProviderError(Re.message,{tryNextLink:xa,logger:g})}else try{S=await ad.getSSOTokenFromFile(e)}catch{throw new or.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${T}`,{tryNextLink:xa,logger:g})}if(new Date(S.expiresAt).getTime()-Date.now()<=0)throw new or.CredentialsProviderError(`The SSO session associated with this profile has expired. ${T}`,{tryNextLink:xa,logger:g});let{accessToken:I}=S,{SSOClient:x,GetRoleCredentialsCommand:C}=await Promise.resolve().then(function(){return VP()}),O=s||new x(Object.assign({},i??{},{logger:i?.logger??c?.logger??a?.logger,region:i?.region??n,userAgentAppId:i?.userAgentAppId??c?.userAgentAppId??a?.userAgentAppId})),k;try{k=await O.send(new C({accountId:r,roleName:o,accessToken:I}))}catch(Re){throw new or.CredentialsProviderError(Re,{tryNextLink:xa,logger:g})}let{roleCredentials:{accessKeyId:H,secretAccessKey:J,sessionToken:Se,expiration:W,credentialScope:z,accountId:oe}={}}=k;if(!H||!J||!Se||!W)throw new or.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:xa,logger:g});let ve={accessKeyId:H,secretAccessKey:J,sessionToken:Se,expiration:new Date(W),...z&&{credentialScope:z},...oe&&{accountId:oe}};return t?WP.setCredentialFeature(ve,"CREDENTIALS_SSO","s"):WP.setCredentialFeature(ve,"CREDENTIALS_SSO_LEGACY","u"),ve},XP=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new or.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},_8=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,c=ad.getProfileName({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let d=(await ad.parseKnownFiles(e))[c];if(!d)throw new or.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!YP(d))throw new or.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let x=(await ad.loadSsoSessionData(e))[d.sso_session],C=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(o&&o!==x.sso_region)throw new or.CredentialsProviderError("Conflicting SSO region"+C,{tryNextLink:!1,logger:e.logger});if(r&&r!==x.sso_start_url)throw new or.CredentialsProviderError("Conflicting SSO start_url"+C,{tryNextLink:!1,logger:e.logger});d.sso_region=x.sso_region,d.sso_start_url=x.sso_start_url}let{sso_start_url:m,sso_account_id:y,sso_region:g,sso_role_name:S,sso_session:T}=XP(d,e.logger);return KP({ssoStartUrl:m,ssoSession:T,ssoAccountId:y,ssoRegion:g,ssoRoleName:S,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!o||!s)throw new or.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return KP({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,callerClientConfig:e.callerClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};cd.fromSSO=_8;cd.isSsoProfile=YP;cd.validateSsoProfile=XP});function w8(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function I8(e){return{schemeId:"smithy.api#noAuth"}}var Ra,QP,JP,ZP,US=_(()=>{Ke();Ra=w(et()),QP=async(e,t,r)=>({operation:(0,Ra.getSmithyContext)(t).operation,region:await(0,Ra.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});JP=e=>{let t=[];switch(e.operation){case"CreateOAuth2Token":{t.push(I8(e));break}default:t.push(w8(e))}return t},ZP=e=>{let t=Wr(e);return Object.assign(t,{authSchemePreference:(0,Ra.normalizeProvider)(e.authSchemePreference??[])})}});var eD,tD,BS=_(()=>{eD=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"signin"}),tD={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var lD,lt,ut,nn,rD,Bo,Vs,eo,sr,dd,FS,nD,oD,sD,GS,jS,ct,HS,ld,ud,iD,aD,cD,v8,uD,dD=_(()=>{lD="required",lt="fn",ut="argv",nn="ref",rD="isSet",Bo="booleanEquals",Vs="error",eo="endpoint",sr="tree",dd="PartitionResult",FS="stringEquals",nD={[lD]:!0,default:!1,type:"boolean"},oD={[lD]:!1,type:"string"},sD={[nn]:"Endpoint"},GS={[lt]:Bo,[ut]:[{[nn]:"UseFIPS"},!0]},jS={[lt]:Bo,[ut]:[{[nn]:"UseDualStack"},!0]},ct={},HS={[lt]:"getAttr",[ut]:[{[nn]:dd},"name"]},ld={[lt]:Bo,[ut]:[{[nn]:"UseFIPS"},!1]},ud={[lt]:Bo,[ut]:[{[nn]:"UseDualStack"},!1]},iD={[lt]:"getAttr",[ut]:[{[nn]:dd},"supportsFIPS"]},aD={[lt]:Bo,[ut]:[!0,{[lt]:"getAttr",[ut]:[{[nn]:dd},"supportsDualStack"]}]},cD=[{[nn]:"Region"}],v8={version:"1.0",parameters:{UseDualStack:nD,UseFIPS:nD,Endpoint:oD,Region:oD},rules:[{conditions:[{[lt]:rD,[ut]:[sD]}],rules:[{conditions:[GS],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Vs},{rules:[{conditions:[jS],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Vs},{endpoint:{url:sD,properties:ct,headers:ct},type:eo}],type:sr}],type:sr},{rules:[{conditions:[{[lt]:rD,[ut]:cD}],rules:[{conditions:[{[lt]:"aws.partition",[ut]:cD,assign:dd}],rules:[{conditions:[{[lt]:FS,[ut]:[HS,"aws"]},ld,ud],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:ct,headers:ct},type:eo},{conditions:[{[lt]:FS,[ut]:[HS,"aws-cn"]},ld,ud],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:ct,headers:ct},type:eo},{conditions:[{[lt]:FS,[ut]:[HS,"aws-us-gov"]},ld,ud],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:ct,headers:ct},type:eo},{conditions:[GS,jS],rules:[{conditions:[{[lt]:Bo,[ut]:[!0,iD]},aD],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ct,headers:ct},type:eo}],type:sr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Vs}],type:sr},{conditions:[GS,ud],rules:[{conditions:[{[lt]:Bo,[ut]:[iD,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ct,headers:ct},type:eo}],type:sr},{error:"FIPS is enabled but this partition does not support FIPS",type:Vs}],type:sr},{conditions:[ld,jS],rules:[{conditions:[aD],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ct,headers:ct},type:eo}],type:sr},{error:"DualStack is enabled but this partition does not support DualStack",type:Vs}],type:sr},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:ct,headers:ct},type:eo}],type:sr}],type:sr},{error:"Invalid Configuration: Missing Region",type:Vs}],type:sr}]},uD=v8});var pD,Ws,A8,mD,fD=_(()=>{pD=w(Co()),Ws=w(Cn());dD();A8=new Ws.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),mD=(e,t={})=>A8.get(e,()=>(0,Ws.resolveEndpoint)(uD,{endpointParams:e,logger:t.logger}));Ws.customEndpointFunctions.aws=pD.awsEndpointFunctions});var hD,gD,pd,md,yD,SD=_(()=>{Ke();Hn();rt();hD=w(ne()),gD=w(zr()),pd=w(He()),md=w(Ve());US();fD();yD=e=>({apiVersion:"2023-01-01",base64Decoder:e?.base64Decoder??pd.fromBase64,base64Encoder:e?.base64Encoder??pd.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??mD,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??JP,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ot},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Jt}],logger:e?.logger??new hD.NoOpLogger,protocol:e?.protocol??Fn,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:e?.serviceId??"Signin",urlParser:e?.urlParser??gD.parseUrl,utf8Decoder:e?.utf8Decoder??md.fromUtf8,utf8Encoder:e?.utf8Encoder??md.toUtf8})});var fd,ro,ED,hd,to,gd,yd,bD,TD,_D,wD,ID=_(()=>{Tu();Ke();fd=w(Ns()),ro=w(It()),ED=w(Os()),hd=w(er()),to=w(br()),gd=w(In()),yd=w(ne()),bD=w(ks()),TD=w($s()),_D=w(Oo());SD();wD=e=>{(0,yd.emitWarningIfUnsupportedVersion)(process.version);let t=(0,TD.resolveDefaultsModeConfig)(e),r=()=>t().then(yd.loadConfigsForDefaultMode),n=yD(e);xn(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,to.loadConfig)(Pn,o),bodyLengthChecker:e?.bodyLengthChecker??bD.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,fd.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Ds.version}),maxAttempts:e?.maxAttempts??(0,to.loadConfig)(hd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,to.loadConfig)(ro.NODE_REGION_CONFIG_OPTIONS,{...ro.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:gd.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,to.loadConfig)({...hd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||_D.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??ED.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??gd.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,to.loadConfig)(ro.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,to.loadConfig)(ro.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,to.loadConfig)(fd.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var vD,AD,CD=_(()=>{vD=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},AD=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Sd,Ed,bd,xD,RD=_(()=>{Sd=w($o()),Ed=w(_e()),bd=w(ne());CD();xD=(e,t)=>{let r=Object.assign((0,Sd.getAwsRegionExtensionConfiguration)(e),(0,bd.getDefaultExtensionConfiguration)(e),(0,Ed.getHttpHandlerExtensionConfiguration)(e),vD(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Sd.resolveAwsRegionExtensionConfiguration)(r),(0,bd.resolveDefaultRuntimeConfig)(r),(0,Ed.resolveHttpHandlerRuntimeConfig)(r),AD(r))}});var Td,PD,DD,_d,ND,OD,kD,wd,qS,Pa,zS=_(()=>{Td=w(Jo()),PD=w(Zo()),DD=w(es()),_d=w(Do()),ND=w(It());rt();fe();OD=w(Cs()),kD=w(Tr()),wd=w(er()),qS=w(ne());US();BS();ID();RD();Pa=class extends qS.Client{config;constructor(...[t]){let r=wD(t||{});super(r),this.initConfig=r;let n=eD(r),o=(0,_d.resolveUserAgentConfig)(n),s=(0,wd.resolveRetryConfig)(o),i=(0,ND.resolveRegionConfig)(s),a=(0,Td.resolveHostHeaderConfig)(i),c=(0,kD.resolveEndpointConfig)(a),l=ZP(c),d=xD(l,t?.extensions||[]);this.config=d,this.middlewareStack.use(So(this.config)),this.middlewareStack.use((0,_d.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,wd.getRetryPlugin)(this.config)),this.middlewareStack.use((0,OD.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Td.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,PD.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,DD.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(go(this.config,{httpAuthSchemeParametersProvider:QP,identityProviderConfigProvider:async m=>new qr({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(yo(this.config))}destroy(){super.destroy()}}});var $D,ir,Id=_(()=>{$D=w(ne()),ir=class e extends $D.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Da,Na,Oa,ka,VS=_(()=>{Id();Da=class e extends ir{name="AccessDeniedException";$fault="client";error;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},Na=class e extends ir{name="InternalServerException";$fault="server";error;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},Oa=class e extends ir{name="TooManyRequestsError";$fault="client";error;constructor(t){super({name:"TooManyRequestsError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},ka=class e extends ir{name="ValidationException";$fault="client";error;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}}});var C8,x8,R8,P8,D8,N8,O8,k8,$8,L8,M8,LD,MD,WS,UD,BD,U8,no,FD,GD,B8,KS,jD,Nt,Ad,vd,HD,F8,qD,zD,WD,G8,j8,VD,Et,KD,YD,XD,QD,JD,ZD,eN,tN,rN,nN,oN,YS,XS=_(()=>{fe();VS();Id();C8="AccessDeniedException",x8="AccessToken",R8="CreateOAuth2Token",P8="CreateOAuth2TokenRequest",D8="CreateOAuth2TokenRequestBody",N8="CreateOAuth2TokenResponseBody",O8="CreateOAuth2TokenResponse",k8="InternalServerException",$8="RefreshToken",L8="TooManyRequestsError",M8="ValidationException",LD="accessKeyId",MD="accessToken",WS="client",UD="clientId",BD="codeVerifier",U8="code",no="error",FD="expiresIn",GD="grantType",B8="http",KS="httpError",jD="idToken",Nt="jsonName",Ad="message",vd="refreshToken",HD="redirectUri",F8="server",qD="secretAccessKey",zD="sessionToken",WD="smithy.ts.sdk.synthetic.com.amazonaws.signin",G8="tokenInput",j8="tokenOutput",VD="tokenType",Et="com.amazonaws.signin",KD=[0,Et,$8,8,0],YD=[-3,Et,C8,{[no]:WS},[no,Ad],[0,0]];K.for(Et).registerError(YD,Da);XD=[3,Et,x8,8,[LD,qD,zD],[[0,{[Nt]:LD}],[0,{[Nt]:qD}],[0,{[Nt]:zD}]]],QD=[3,Et,P8,0,[G8],[[()=>JD,16]]],JD=[3,Et,D8,0,[UD,GD,U8,HD,BD,vd],[[0,{[Nt]:UD}],[0,{[Nt]:GD}],0,[0,{[Nt]:HD}],[0,{[Nt]:BD}],[()=>KD,{[Nt]:vd}]]],ZD=[3,Et,O8,0,[j8],[[()=>eN,16]]],eN=[3,Et,N8,0,[MD,VD,FD,vd,jD],[[()=>XD,{[Nt]:MD}],[0,{[Nt]:VD}],[1,{[Nt]:FD}],[()=>KD,{[Nt]:vd}],[0,{[Nt]:jD}]]],tN=[-3,Et,k8,{[no]:F8,[KS]:500},[no,Ad],[0,0]];K.for(Et).registerError(tN,Na);rN=[-3,Et,L8,{[no]:WS,[KS]:429},[no,Ad],[0,0]];K.for(Et).registerError(rN,Oa);nN=[-3,Et,M8,{[no]:WS,[KS]:400},[no,Ad],[0,0]];K.for(Et).registerError(nN,ka);oN=[-3,WD,"SigninServiceException",0,[],[]];K.for(WD).registerError(oN,ir);YS=[9,Et,R8,{[B8]:["POST","/v1/token",200]},()=>QD,()=>ZD]});var sN,QS,$a,JS=_(()=>{sN=w(Tr()),QS=w(ne());BS();XS();$a=class extends QS.Command.classBuilder().ep(tD).m(function(t,r,n,o){return[(0,sN.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(YS).build(){}});var iN,H8,Cd,aN=_(()=>{iN=w(ne());JS();zS();H8={CreateOAuth2TokenCommand:$a},Cd=class extends Pa{};(0,iN.createAggregatedClient)(H8,Cd)});var cN=_(()=>{JS()});var q8,lN=_(()=>{q8={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var uN=_(()=>{});var dN={};Ze(dN,{$Command:()=>QS.Command,AccessDeniedException:()=>Da,AccessDeniedException$:()=>YD,AccessToken$:()=>XD,CreateOAuth2Token$:()=>YS,CreateOAuth2TokenCommand:()=>$a,CreateOAuth2TokenRequest$:()=>QD,CreateOAuth2TokenRequestBody$:()=>JD,CreateOAuth2TokenResponse$:()=>ZD,CreateOAuth2TokenResponseBody$:()=>eN,InternalServerException:()=>Na,InternalServerException$:()=>tN,OAuth2ErrorCode:()=>q8,Signin:()=>Cd,SigninClient:()=>Pa,SigninServiceException:()=>ir,SigninServiceException$:()=>oN,TooManyRequestsError:()=>Oa,TooManyRequestsError$:()=>rN,ValidationException:()=>ka,ValidationException$:()=>nN,__Client:()=>qS.Client});var pN=_(()=>{zS();aN();cN();XS();lN();VS();uN();Id()});var fN=D(mN=>{"use strict";var z8=(Ft(),ee(Vr)),oo=st(),tE=Er(),V8=_e(),xd=require("node:crypto"),ZS=require("node:fs"),W8=require("node:os"),eE=require("node:path"),rE=class e{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=5*60*1e3;constructor(t,r,n){this.profileData=t,this.init=r,this.callerClientConfig=n}async loadCredentials(){let t=await this.loadToken();if(!t)throw new oo.CredentialsProviderError(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=t.accessToken,n=Date.now();return new Date(r.expiresAt).getTime()-n<=e.REFRESH_THRESHOLD?this.refresh(t):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(t){let{SigninClient:r,CreateOAuth2TokenCommand:n}=await Promise.resolve().then(()=>(pN(),dN)),{logger:o,userAgentAppId:s}=this.callerClientConfig??{},a=(m=>m?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,c=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,l=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:c,requestHandler:a,logger:o,userAgentAppId:s,...this.init?.clientConfig});this.createDPoPInterceptor(l.middlewareStack);let d={tokenInput:{clientId:t.clientId,refreshToken:t.refreshToken,grantType:"refresh_token"}};try{let m=await l.send(new n(d)),{accessKeyId:y,secretAccessKey:g,sessionToken:S}=m.tokenOutput?.accessToken??{},{refreshToken:T,expiresIn:I}=m.tokenOutput??{};if(!y||!g||!S||!T)throw new oo.CredentialsProviderError("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let x=(I??900)*1e3,C=new Date(Date.now()+x),O={...t,accessToken:{...t.accessToken,accessKeyId:y,secretAccessKey:g,sessionToken:S,expiresAt:C.toISOString()},refreshToken:T};await this.saveToken(O);let k=O.accessToken;return{accessKeyId:k.accessKeyId,secretAccessKey:k.secretAccessKey,sessionToken:k.sessionToken,accountId:k.accountId,expiration:C}}catch(m){if(m.name==="AccessDeniedException"){let y=m.error,g;switch(y){case"TOKEN_EXPIRED":g="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":g="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":g="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:g=`Failed to refresh token: ${String(m)}. Please re-authenticate using \`aws login\``}throw new oo.CredentialsProviderError(g,{logger:this.logger,tryNextLink:!1})}throw new oo.CredentialsProviderError(`Failed to refresh token: ${String(m)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let t=this.getTokenFilePath();try{let r;try{r=await tE.readFile(t,{ignoreCache:this.init?.ignoreCache})}catch{r=await ZS.promises.readFile(t,"utf8")}let n=JSON.parse(r),o=["accessToken","clientId","refreshToken","dpopKey"].filter(s=>!n[s]);if(n.accessToken?.accountId||o.push("accountId"),o.length>0)throw new oo.CredentialsProviderError(`Token validation failed, missing fields: ${o.join(", ")}`,{logger:this.logger,tryNextLink:!1});return n}catch(r){throw new oo.CredentialsProviderError(`Failed to load token from ${t}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(t){let r=this.getTokenFilePath(),n=eE.dirname(r);try{await ZS.promises.mkdir(n,{recursive:!0})}catch{}await ZS.promises.writeFile(r,JSON.stringify(t,null,2),"utf8")}getTokenFilePath(){let t=process.env.AWS_LOGIN_CACHE_DIRECTORY??eE.join(W8.homedir(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),n=xd.createHash("sha256").update(r).digest("hex");return eE.join(t,`${n}.json`)}derToRawSignature(t){let r=2;if(t[r]!==2)throw new Error("Invalid DER signature");r++;let n=t[r++],o=t.subarray(r,r+n);if(r+=n,t[r]!==2)throw new Error("Invalid DER signature");r++;let s=t[r++],i=t.subarray(r,r+s);o=o[0]===0?o.subarray(1):o,i=i[0]===0?i.subarray(1):i;let a=Buffer.concat([Buffer.alloc(32-o.length),o]),c=Buffer.concat([Buffer.alloc(32-i.length),i]);return Buffer.concat([a,c])}createDPoPInterceptor(t){t.add(r=>async n=>{if(V8.HttpRequest.isInstance(n.request)){let o=n.request,s=`${o.protocol}//${o.hostname}${o.port?`:${o.port}`:""}${o.path}`,i=await this.generateDpop(o.method,s);o.headers={...o.headers,DPoP:i}}return r(n)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(t="POST",r){let n=await this.loadToken();try{let o=xd.createPrivateKey({key:n.dpopKey,format:"pem",type:"sec1"}),i=xd.createPublicKey(o).export({format:"der",type:"spki"}),a=-1;for(let C=0;C<i.length;C++)if(i[C]===4){a=C;break}let c=i.slice(a+1,a+33),l=i.slice(a+33,a+65),d={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:c.toString("base64url"),y:l.toString("base64url")}},m={jti:crypto.randomUUID(),htm:t,htu:r,iat:Math.floor(Date.now()/1e3)},y=Buffer.from(JSON.stringify(d)).toString("base64url"),g=Buffer.from(JSON.stringify(m)).toString("base64url"),S=`${y}.${g}`,T=xd.sign("sha256",Buffer.from(S),o),x=this.derToRawSignature(T).toString("base64url");return`${S}.${x}`}catch(o){throw new oo.CredentialsProviderError(`Failed to generate Dpop proof: ${o instanceof Error?o.message:String(o)}`,{logger:this.logger,tryNextLink:!1})}}},K8=e=>async({callerClientConfig:t}={})=>{e?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await tE.parseKnownFiles(e||{}),n=tE.getProfileName({profile:e?.profile??t?.profile}),o=r[n];if(!o?.login_session)throw new oo.CredentialsProviderError(`Profile ${n} does not contain login_session.`,{tryNextLink:!0,logger:e?.logger});let i=await new rE(o,e,t).loadCredentials();return z8.setCredentialFeature(i,"CREDENTIALS_LOGIN","AD")};mN.fromLoginCredentials=K8});function Y8(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function X8(e){return{schemeId:"smithy.api#noAuth"}}var La,hN,gN,Q8,yN,nE=_(()=>{Ke();La=w(et());Ma();hN=async(e,t,r)=>({operation:(0,La.getSmithyContext)(t).operation,region:await(0,La.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});gN=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(X8(e));break}default:t.push(Y8(e))}return t},Q8=e=>Object.assign(e,{stsClientCtor:vr}),yN=e=>{let t=Q8(e),r=Wr(t);return Object.assign(r,{authSchemePreference:(0,La.normalizeProvider)(e.authSchemePreference??[])})}});var SN,Rd,Pd=_(()=>{SN=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Rd={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var RN,te,he,ge,io,so,Qe,PN,DN,NN,De,EN,Ar,Ks,sE,bN,oE,ON,TN,Je,_N,kN,$N,dt,Ot,wN,LN,MN,IN,UN,vN,AN,CN,xN,J8,BN,FN=_(()=>{RN="required",te="type",he="fn",ge="argv",io="ref",so="booleanEquals",Qe="stringEquals",PN="sigv4",DN="sts",NN="us-east-1",De="endpoint",EN="https://sts.{Region}.{PartitionResult#dnsSuffix}",Ar="tree",Ks="error",sE="getAttr",bN={[RN]:!1,[te]:"string"},oE={[RN]:!0,default:!1,[te]:"boolean"},ON={[io]:"Endpoint"},TN={[he]:"isSet",[ge]:[{[io]:"Region"}]},Je={[io]:"Region"},_N={[he]:"aws.partition",[ge]:[Je],assign:"PartitionResult"},kN={[io]:"UseFIPS"},$N={[io]:"UseDualStack"},dt={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:PN,signingName:DN,signingRegion:NN}]},headers:{}},Ot={},wN={conditions:[{[he]:Qe,[ge]:[Je,"aws-global"]}],[De]:dt,[te]:De},LN={[he]:so,[ge]:[kN,!0]},MN={[he]:so,[ge]:[$N,!0]},IN={[he]:sE,[ge]:[{[io]:"PartitionResult"},"supportsFIPS"]},UN={[io]:"PartitionResult"},vN={[he]:so,[ge]:[!0,{[he]:sE,[ge]:[UN,"supportsDualStack"]}]},AN=[{[he]:"isSet",[ge]:[ON]}],CN=[LN],xN=[MN],J8={version:"1.0",parameters:{Region:bN,UseDualStack:oE,UseFIPS:oE,Endpoint:bN,UseGlobalEndpoint:oE},rules:[{conditions:[{[he]:so,[ge]:[{[io]:"UseGlobalEndpoint"},!0]},{[he]:"not",[ge]:AN},TN,_N,{[he]:so,[ge]:[kN,!1]},{[he]:so,[ge]:[$N,!1]}],rules:[{conditions:[{[he]:Qe,[ge]:[Je,"ap-northeast-1"]}],endpoint:dt,[te]:De},{conditions:[{[he]:Qe,[ge]:[Je,"ap-south-1"]}],endpoint:dt,[te]:De},{conditions:[{[he]:Qe,[ge]:[Je,"ap-southeast-1"]}],endpoint:dt,[te]:De},{conditions:[{[he]:Qe,[ge]:[Je,"ap-southeast-2"]}],endpoint:dt,[te]:De},wN,{conditions:[{[he]:Qe,[ge]:[Je,"ca-central-1"]}],endpoint:dt,[te]:De},{conditions:[{[he]:Qe,[ge]:[Je,"eu-central-1"]}],endpoint:dt,[te]:De},{conditions:[{[he]:Qe,[ge]:[Je,"eu-north-1"]}],endpoint:dt,[te]:De},{conditions:[{[he]:Qe,[ge]:[Je,"eu-west-1"]}],endpoint:dt,[te]:De},{conditions:[{[he]:Qe,[ge]:[Je,"eu-west-2"]}],endpoint:dt,[te]:De},{conditions:[{[he]:Qe,[ge]:[Je,"eu-west-3"]}],endpoint:dt,[te]:De},{conditions:[{[he]:Qe,[ge]:[Je,"sa-east-1"]}],endpoint:dt,[te]:De},{conditions:[{[he]:Qe,[ge]:[Je,NN]}],endpoint:dt,[te]:De},{conditions:[{[he]:Qe,[ge]:[Je,"us-east-2"]}],endpoint:dt,[te]:De},{conditions:[{[he]:Qe,[ge]:[Je,"us-west-1"]}],endpoint:dt,[te]:De},{conditions:[{[he]:Qe,[ge]:[Je,"us-west-2"]}],endpoint:dt,[te]:De},{endpoint:{url:EN,properties:{authSchemes:[{name:PN,signingName:DN,signingRegion:"{Region}"}]},headers:Ot},[te]:De}],[te]:Ar},{conditions:AN,rules:[{conditions:CN,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[te]:Ks},{conditions:xN,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[te]:Ks},{endpoint:{url:ON,properties:Ot,headers:Ot},[te]:De}],[te]:Ar},{conditions:[TN],rules:[{conditions:[_N],rules:[{conditions:[LN,MN],rules:[{conditions:[{[he]:so,[ge]:[!0,IN]},vN],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ot,headers:Ot},[te]:De}],[te]:Ar},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[te]:Ks}],[te]:Ar},{conditions:CN,rules:[{conditions:[{[he]:so,[ge]:[IN,!0]}],rules:[{conditions:[{[he]:Qe,[ge]:[{[he]:sE,[ge]:[UN,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Ot,headers:Ot},[te]:De},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ot,headers:Ot},[te]:De}],[te]:Ar},{error:"FIPS is enabled but this partition does not support FIPS",[te]:Ks}],[te]:Ar},{conditions:xN,rules:[{conditions:[vN],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ot,headers:Ot},[te]:De}],[te]:Ar},{error:"DualStack is enabled but this partition does not support DualStack",[te]:Ks}],[te]:Ar},wN,{endpoint:{url:EN,properties:Ot,headers:Ot},[te]:De}],[te]:Ar}],[te]:Ar},{error:"Invalid Configuration: Missing Region",[te]:Ks}]},BN=J8});var GN,Ys,Z8,jN,HN=_(()=>{GN=w(Co()),Ys=w(Cn());FN();Z8=new Ys.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),jN=(e,t={})=>Z8.get(e,()=>(0,Ys.resolveEndpoint)(BN,{endpointParams:e,logger:t.logger}));Ys.customEndpointFunctions.aws=GN.awsEndpointFunctions});var qN,zN,Dd,Nd,VN,WN=_(()=>{Ke();Hn();rt();qN=w(ne()),zN=w(zr()),Dd=w(He()),Nd=w(Ve());nE();HN();VN=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Dd.fromBase64,base64Encoder:e?.base64Encoder??Dd.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??jN,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??gN,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ot},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Jt}],logger:e?.logger??new qN.NoOpLogger,protocol:e?.protocol??jn,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??zN.parseUrl,utf8Decoder:e?.utf8Decoder??Nd.fromUtf8,utf8Encoder:e?.utf8Encoder??Nd.toUtf8})});var Od,co,KN,kd,ao,$d,Ld,YN,XN,QN,JN,ZN=_(()=>{Tu();Ke();Od=w(Ns()),co=w(It());rt();KN=w(Os()),kd=w(er()),ao=w(br()),$d=w(In()),Ld=w(ne()),YN=w(ks()),XN=w($s()),QN=w(Oo());WN();JN=e=>{(0,Ld.emitWarningIfUnsupportedVersion)(process.version);let t=(0,XN.resolveDefaultsModeConfig)(e),r=()=>t().then(Ld.loadConfigsForDefaultMode),n=VN(e);xn(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,ao.loadConfig)(Pn,o),bodyLengthChecker:e?.bodyLengthChecker??YN.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Od.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Ds.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new ot},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Jt}],maxAttempts:e?.maxAttempts??(0,ao.loadConfig)(kd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,ao.loadConfig)(co.NODE_REGION_CONFIG_OPTIONS,{...co.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:$d.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ao.loadConfig)({...kd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||QN.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??KN.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??$d.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ao.loadConfig)(co.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,ao.loadConfig)(co.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,ao.loadConfig)(Od.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var eO,tO,rO=_(()=>{eO=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},tO=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Md,Ud,Bd,nO,oO=_(()=>{Md=w($o()),Ud=w(_e()),Bd=w(ne());rO();nO=(e,t)=>{let r=Object.assign((0,Md.getAwsRegionExtensionConfiguration)(e),(0,Bd.getDefaultExtensionConfiguration)(e),(0,Ud.getHttpHandlerExtensionConfiguration)(e),eO(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Md.resolveAwsRegionExtensionConfiguration)(r),(0,Bd.resolveDefaultRuntimeConfig)(r),(0,Ud.resolveHttpHandlerRuntimeConfig)(r),tO(r))}});var Fd,sO,iO,Gd,aO,cO,lO,jd,iE,vr,Ma=_(()=>{Fd=w(Jo()),sO=w(Zo()),iO=w(es()),Gd=w(Do()),aO=w(It());rt();fe();cO=w(Cs()),lO=w(Tr()),jd=w(er()),iE=w(ne());nE();Pd();ZN();oO();vr=class extends iE.Client{config;constructor(...[t]){let r=JN(t||{});super(r),this.initConfig=r;let n=SN(r),o=(0,Gd.resolveUserAgentConfig)(n),s=(0,jd.resolveRetryConfig)(o),i=(0,aO.resolveRegionConfig)(s),a=(0,Fd.resolveHostHeaderConfig)(i),c=(0,lO.resolveEndpointConfig)(a),l=yN(c),d=nO(l,t?.extensions||[]);this.config=d,this.middlewareStack.use(So(this.config)),this.middlewareStack.use((0,Gd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,jd.getRetryPlugin)(this.config)),this.middlewareStack.use((0,cO.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Fd.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,sO.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,iO.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(go(this.config,{httpAuthSchemeParametersProvider:hN,identityProviderConfigProvider:async m=>new qr({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(yo(this.config))}destroy(){super.destroy()}}});var uO,vt,Hd=_(()=>{uO=w(ne()),vt=class e extends uO.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Ua,Ba,Fa,Ga,ja,Ha,qa,aE=_(()=>{Hd();Ua=class e extends vt{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ba=class e extends vt{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Fa=class e extends vt{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ga=class e extends vt{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ja=class e extends vt{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ha=class e extends vt{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},qa=class e extends vt{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var e5,t5,r5,n5,o5,s5,cE,i5,a5,c5,l5,lE,u5,dO,d5,p5,m5,f5,h5,g5,y5,S5,pO,mO,E5,b5,T5,_5,w5,I5,fO,v5,A5,hO,C5,gO,x5,R5,uE,P5,D5,N5,O5,k5,$5,L5,M5,U5,B5,Fo,Go,F5,jo,Ho,qo,G5,yO,j5,be,H5,q5,dE,SO,EO,bO,TO,pE,_O,wO,IO,vO,AO,CO,xO,RO,PO,DO,NO,OO,z5,V5,mE,fE,qd=_(()=>{fe();aE();Hd();e5="Arn",t5="AccessKeyId",r5="AssumeRole",n5="AssumedRoleId",o5="AssumeRoleRequest",s5="AssumeRoleResponse",cE="AssumedRoleUser",i5="AssumeRoleWithWebIdentity",a5="AssumeRoleWithWebIdentityRequest",c5="AssumeRoleWithWebIdentityResponse",l5="Audience",lE="Credentials",u5="ContextAssertion",dO="DurationSeconds",d5="Expiration",p5="ExternalId",m5="ExpiredTokenException",f5="IDPCommunicationErrorException",h5="IDPRejectedClaimException",g5="InvalidIdentityTokenException",y5="Key",S5="MalformedPolicyDocumentException",pO="Policy",mO="PolicyArns",E5="ProviderArn",b5="ProvidedContexts",T5="ProvidedContextsListType",_5="ProvidedContext",w5="PolicyDescriptorType",I5="ProviderId",fO="PackedPolicySize",v5="PackedPolicyTooLargeException",A5="Provider",hO="RoleArn",C5="RegionDisabledException",gO="RoleSessionName",x5="SecretAccessKey",R5="SubjectFromWebIdentityToken",uE="SourceIdentity",P5="SerialNumber",D5="SessionToken",N5="Tags",O5="TokenCode",k5="TransitiveTagKeys",$5="Tag",L5="Value",M5="WebIdentityToken",U5="arn",B5="accessKeySecretType",Fo="awsQueryError",Go="client",F5="clientTokenType",jo="error",Ho="httpError",qo="message",G5="policyDescriptorListType",yO="smithy.ts.sdk.synthetic.com.amazonaws.sts",j5="tagListType",be="com.amazonaws.sts",H5=[0,be,B5,8,0],q5=[0,be,F5,8,0],dE=[3,be,cE,0,[n5,e5],[0,0]],SO=[3,be,o5,0,[hO,gO,mO,pO,dO,N5,k5,p5,P5,O5,uE,b5],[0,0,()=>OO,0,1,()=>V5,64,0,0,0,0,()=>z5]],EO=[3,be,s5,0,[lE,cE,fO,uE],[[()=>pE,0],()=>dE,1,0]],bO=[3,be,a5,0,[hO,gO,M5,I5,mO,pO,dO],[0,0,[()=>q5,0],0,()=>OO,0,1]],TO=[3,be,c5,0,[lE,R5,cE,fO,A5,l5,uE],[[()=>pE,0],0,()=>dE,1,0,0,0]],pE=[3,be,lE,0,[t5,x5,D5,d5],[0,[()=>H5,0],0,4]],_O=[-3,be,m5,{[Fo]:["ExpiredTokenException",400],[jo]:Go,[Ho]:400},[qo],[0]];K.for(be).registerError(_O,Ua);wO=[-3,be,f5,{[Fo]:["IDPCommunicationError",400],[jo]:Go,[Ho]:400},[qo],[0]];K.for(be).registerError(wO,qa);IO=[-3,be,h5,{[Fo]:["IDPRejectedClaim",403],[jo]:Go,[Ho]:403},[qo],[0]];K.for(be).registerError(IO,ja);vO=[-3,be,g5,{[Fo]:["InvalidIdentityToken",400],[jo]:Go,[Ho]:400},[qo],[0]];K.for(be).registerError(vO,Ha);AO=[-3,be,S5,{[Fo]:["MalformedPolicyDocument",400],[jo]:Go,[Ho]:400},[qo],[0]];K.for(be).registerError(AO,Ba);CO=[-3,be,v5,{[Fo]:["PackedPolicyTooLarge",400],[jo]:Go,[Ho]:400},[qo],[0]];K.for(be).registerError(CO,Fa);xO=[3,be,w5,0,[U5],[0]],RO=[3,be,_5,0,[E5,u5],[0,0]],PO=[-3,be,C5,{[Fo]:["RegionDisabledException",403],[jo]:Go,[Ho]:403},[qo],[0]];K.for(be).registerError(PO,Ga);DO=[3,be,$5,0,[y5,L5],[0,0]],NO=[-3,yO,"STSServiceException",0,[],[]];K.for(yO).registerError(NO,vt);OO=[1,be,G5,0,()=>xO],z5=[1,be,T5,0,()=>RO],V5=[1,be,j5,0,()=>DO],mE=[9,be,r5,0,()=>SO,()=>EO],fE=[9,be,i5,0,()=>bO,()=>TO]});var kO,$O,zo,zd=_(()=>{kO=w(Tr()),$O=w(ne());Pd();qd();zo=class extends $O.Command.classBuilder().ep(Rd).m(function(t,r,n,o){return[(0,kO.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(mE).build(){}});var LO,MO,Vo,Vd=_(()=>{LO=w(Tr()),MO=w(ne());Pd();qd();Vo=class extends MO.Command.classBuilder().ep(Rd).m(function(t,r,n,o){return[(0,LO.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(fE).build(){}});var UO,W5,Wd,BO=_(()=>{UO=w(ne());zd();Vd();Ma();W5={AssumeRoleCommand:zo,AssumeRoleWithWebIdentityCommand:Vo},Wd=class extends vr{};(0,UO.createAggregatedClient)(W5,Wd)});var FO=_(()=>{zd();Vd()});var GO=_(()=>{});var jO,HO,qO,zO,VO,WO,KO=_(()=>{Ft();jO=w($o());zd();Vd();HO=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},qO=async(e,t,r,n={})=>{let o=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t,i="",a=o??s??(i=await(0,jO.stsRegionDefaultResolver)(n)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${o} (credential provider clientConfig)`,`${s} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),a},zO=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:d=e?.parentClientConfig?.logger,profile:m=e?.parentClientConfig?.profile,region:y,requestHandler:g=e?.parentClientConfig?.requestHandler,credentialProviderLogger:S,userAgentAppId:T=e?.parentClientConfig?.userAgentAppId}=e,I=await qO(y,e?.parentClientConfig?.region,S,{logger:d,profile:m}),x=!WO(g);r=new t({...e,userAgentAppId:T,profile:m,credentialDefaultProvider:()=>async()=>n,region:I,requestHandler:x?g:void 0,logger:d})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new zo(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=HO(a),l={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return Rn(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},VO=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,profile:l=e?.parentClientConfig?.profile,region:d,requestHandler:m=e?.parentClientConfig?.requestHandler,credentialProviderLogger:y,userAgentAppId:g=e?.parentClientConfig?.userAgentAppId}=e,S=await qO(d,e?.parentClientConfig?.region,y,{logger:c,profile:l}),T=!WO(m);r=new t({...e,userAgentAppId:g,profile:l,region:S,requestHandler:T?m:void 0,logger:c})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new Vo(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=HO(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&Rn(a,"RESOLVED_ACCOUNT_ID","T"),Rn(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},WO=e=>e?.metadata?.handlerProtocol==="h2"});var YO,XO,QO,K5,JO=_(()=>{KO();Ma();YO=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,XO=(e={},t)=>zO(e,YO(vr,t)),QO=(e={},t)=>VO(e,YO(vr,t)),K5=e=>t=>e({roleAssumer:XO(t),roleAssumerWithWebIdentity:QO(t),...t})});var hE={};Ze(hE,{AssumeRole$:()=>mE,AssumeRoleCommand:()=>zo,AssumeRoleRequest$:()=>SO,AssumeRoleResponse$:()=>EO,AssumeRoleWithWebIdentity$:()=>fE,AssumeRoleWithWebIdentityCommand:()=>Vo,AssumeRoleWithWebIdentityRequest$:()=>bO,AssumeRoleWithWebIdentityResponse$:()=>TO,AssumedRoleUser$:()=>dE,Credentials$:()=>pE,ExpiredTokenException:()=>Ua,ExpiredTokenException$:()=>_O,IDPCommunicationErrorException:()=>qa,IDPCommunicationErrorException$:()=>wO,IDPRejectedClaimException:()=>ja,IDPRejectedClaimException$:()=>IO,InvalidIdentityTokenException:()=>Ha,InvalidIdentityTokenException$:()=>vO,MalformedPolicyDocumentException:()=>Ba,MalformedPolicyDocumentException$:()=>AO,PackedPolicyTooLargeException:()=>Fa,PackedPolicyTooLargeException$:()=>CO,PolicyDescriptorType$:()=>xO,ProvidedContext$:()=>RO,RegionDisabledException:()=>Ga,RegionDisabledException$:()=>PO,STS:()=>Wd,STSClient:()=>vr,STSServiceException:()=>vt,STSServiceException$:()=>NO,Tag$:()=>DO,__Client:()=>iE.Client,decorateDefaultCredentialProvider:()=>K5,getDefaultRoleAssumer:()=>XO,getDefaultRoleAssumerWithWebIdentity:()=>QO});var gE=_(()=>{Ma();BO();FO();qd();aE();GO();JO();Hd()});var EE=D(ZO=>{"use strict";var SE=Er(),yE=st(),Y5=require("child_process"),X5=require("util"),Q5=(Ft(),ee(Vr)),J5=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return Q5.setCredentialFeature(o,"CREDENTIALS_PROCESS","w"),o},Z5=async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=X5.promisify(SE.externalDataInterceptor?.getTokenRecord?.().exec??Y5.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return J5(e,a,t)}catch(i){throw new yE.CredentialsProviderError(i.message,{logger:r})}}else throw new yE.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new yE.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},eY=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await SE.parseKnownFiles(e);return Z5(SE.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};ZO.fromProcess=eY});var bE=D(Cr=>{"use strict";var tY=Cr&&Cr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rY=Cr&&Cr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nY=Cr&&Cr.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&tY(r,t,n[o]);return rY(r,t),r}}();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.fromWebToken=void 0;var oY=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>nY((gE(),ee(hE))));l=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})};Cr.fromWebToken=oY});var tk=D(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.fromTokenFile=void 0;var sY=(Ft(),ee(Vr)),iY=st(),aY=Er(),cY=require("fs"),lY=bE(),ek="AWS_WEB_IDENTITY_TOKEN_FILE",uY="AWS_ROLE_ARN",dY="AWS_ROLE_SESSION_NAME",pY=(e={})=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[ek],n=e?.roleArn??process.env[uY],o=e?.roleSessionName??process.env[dY];if(!r||!n)throw new iY.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,lY.fromWebToken)({...e,webIdentityToken:aY.externalDataInterceptor?.getTokenRecord?.()[r]??(0,cY.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:o})(t);return r===process.env[ek]&&(0,sY.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};Kd.fromTokenFile=pY});var TE=D(za=>{"use strict";var rk=tk(),nk=bE();Object.keys(rk).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(za,e)&&Object.defineProperty(za,e,{enumerable:!0,get:function(){return rk[e]}})});Object.keys(nk).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(za,e)&&Object.defineProperty(za,e,{enumerable:!0,get:function(){return nk[e]}})})});var lk=D(ck=>{"use strict";var wE=Er(),Va=st(),on=(Ft(),ee(Vr)),mY=fN(),fY=(e,t,r)=>{let n={EcsContainer:async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>w(pS())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>w(oa()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Va.chain(s(o??{}),i(o))().then(_E)},Ec2InstanceMetadata:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>w(oa()));return async()=>s(o)().then(_E)},Environment:async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>w(oS()));return async()=>s(o)().then(_E)}};if(e in n)return n[e];throw new Va.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},_E=e=>on.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),hY=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(gY(e,{profile:t,logger:r})||yY(e,{profile:t,logger:r})),gY=(e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},yY=(e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},SY=async(e,t,r,n,o={},s)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=t[e],{source_profile:a,region:c}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:d}=await Promise.resolve().then(()=>(gE(),hE));r.roleAssumer=d({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...n,...r?.parentClientConfig,region:c??r?.parentClientConfig?.region??n?.region}},r.clientPlugins)}if(a&&a in o)throw new Va.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${wE.getProfileName(r)}. Profiles visited: `+Object.keys(o).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${e}]`}`);let l=a?s(a,t,r,n,{...o,[a]:!0},ok(t[a]??{})):(await fY(i.credential_source,e,r.logger)(r))();if(ok(i))return l.then(d=>on.setCredentialFeature(d,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let d={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:m}=i;if(m){if(!r.mfaCodeProvider)throw new Va.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});d.SerialNumber=m,d.TokenCode=await r.mfaCodeProvider(m)}let y=await l;return r.roleAssumer(y,d).then(g=>on.setCredentialFeature(g,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},ok=e=>!e.role_arn&&!!e.credential_source,EY=e=>!!(e&&e.login_session),bY=async(e,t,r)=>{let n=await mY.fromLoginCredentials({...t,profile:e})({callerClientConfig:r});return on.setCredentialFeature(n,"CREDENTIALS_PROFILE_LOGIN","AC")},TY=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",_Y=async(e,t)=>Promise.resolve().then(()=>w(EE())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>on.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),wY=async(e,t,r={},n)=>{let{fromSSO:o}=await Promise.resolve().then(()=>w(MS()));return o({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:n}).then(s=>t.sso_session?on.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):on.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},IY=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),sk=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,ik=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return on.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},vY=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,AY=async(e,t,r)=>Promise.resolve().then(()=>w(TE())).then(({fromTokenFile:n})=>n({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})({callerClientConfig:r}).then(o=>on.setCredentialFeature(o,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),ak=async(e,t,r,n,o={},s=!1)=>{let i=t[e];if(Object.keys(o).length>0&&sk(i))return ik(i,r);if(s||hY(i,{profile:e,logger:r.logger}))return SY(e,t,r,n,o,ak);if(sk(i))return ik(i,r);if(vY(i))return AY(i,r,n);if(TY(i))return _Y(r,e);if(IY(i))return await wY(e,i,r,n);if(EY(i))return bY(e,r,n);throw new Va.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},CY=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await wE.parseKnownFiles(e);return ak(wE.getProfileName({profile:e.profile??t?.profile}),r,e,t)};ck.fromIni=CY});var mk=D(Yd=>{"use strict";var IE=oS(),Wa=st(),xY=Er(),uk="AWS_EC2_METADATA_DISABLED",RY=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>w(oa()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>w(pS()));return Wa.chain(s(e),n(e))}return process.env[uk]&&process.env[uk]!=="false"?async()=>{throw new Wa.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))};function PY(e,t){let r=DY(e),n,o,s,i=async a=>{if(a?.forceRefresh)return await r(a);if(s?.expiration&&s?.expiration?.getTime()<Date.now()&&(s=void 0),n)await n;else if(!s||t?.(s))if(s)o||(o=r(a).then(c=>{s=c,o=void 0}));else return n=r(a).then(c=>{s=c,n=void 0}),i(a);return s};return i}var DY=e=>async t=>{let r;for(let n of e)try{return await n(t)}catch(o){if(r=o,o?.tryNextLink)continue;throw o}throw r},dk=!1,NY=(e={})=>PY([async()=>{if(e.profile??process.env[xY.ENV_PROFILE])throw process.env[IE.ENV_KEY]&&process.env[IE.ENV_SECRET]&&(dk||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),dk=!0)),new Wa.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),IE.fromEnv(e)()},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e;if(!r&&!n&&!o&&!s&&!i)throw new Wa.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>w(MS()));return a(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>w(lk()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>w(EE()));return r(e)(t)},async t=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>w(TE()));return r(e)(t)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await RY(e))()),async()=>{throw new Wa.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],pk),OY=e=>e?.expiration!==void 0,pk=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;Yd.credentialsTreatedAsExpired=pk;Yd.credentialsWillNeedRefresh=OY;Yd.defaultProvider=NY});var Ek=D(Sk=>{"use strict";var xE=(Hn(),ee(eu)),fk=(fe(),ee(Oi)),hk=ne(),gk=He(),vE=class extends xE.JsonCodec{constructor(){super({timestampFormat:{useTrait:!0,default:7},jsonName:!1})}createSerializer(){let t=new AE(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new CE(this.settings);return t.setSerdeContext(this.serdeContext),t}},yk="com.amazonaws.dynamodb#AttributeValue",AE=class extends xE.JsonShapeSerializer{_write(t,r,n){let o=fk.NormalizedSchema.of(t);if(o.isStructSchema()&&o.getName(!0)===yk&&r&&typeof r=="object"){let s=r,i=hk._json(s),a=this.serdeContext?.base64Encoder??gk.toBase64;if(s.B instanceof Uint8Array&&(i.B=a(s.B)),Array.isArray(s.BS)&&(i.BS=s.BS.map(a)),Array.isArray(s.L)&&(i.L=s.L.filter(c=>c!=null).map(c=>this._write(o,c,n))),s.M&&typeof s.M=="object"){i.M={};for(let[c,l]of Object.entries(s.M))l!=null&&(i.M[c]=this._write(o,l,n))}return i}return super._write(o,r,n)}},CE=class extends xE.JsonShapeDeserializer{_read(t,r){let n=fk.NormalizedSchema.of(t);if(n.isStructSchema()&&n.getName(!0)===yk&&r&&typeof r=="object"){let o=r,s=hk._json(o),i=this.serdeContext?.base64Decoder??gk.fromBase64;if(typeof o.B=="string"&&(s.B=i(o.B)),Array.isArray(o.BS)&&(s.BS=o.BS.map(i)),Array.isArray(o.L)&&(s.L=o.L.map(a=>this._read(n,a))),o.M&&typeof o.M=="object"){s.M={};for(let[a,c]of Object.entries(o.M))s.M[a]=this._read(n,c)}return s}return super._read(n,r)}};Sk.DynamoDBJsonCodec=vE});var qk=D(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.ruleSet=void 0;var DE="required",V="type",Ue="rules",Ie="conditions",U="fn",B="argv",ce="ref",Xd="assign",xr="url",Rr="properties",Pr="headers",Gk="metricValues",kY=!1,Be="error",pt="stringEquals",bk="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",At="endpoint",je="tree",NE="dynamodb",Ka={[DE]:!1,[V]:"string"},Tk={[DE]:!0,default:!1,[V]:"boolean"},_k={[U]:"isSet",[B]:[{[ce]:"Endpoint"}]},$Y={[ce]:"Endpoint"},wk={[U]:"isSet",[B]:[{[ce]:"Region"}]},jk={[ce]:"Region"},Ik={[U]:"aws.partition",[B]:[jk],[Xd]:"PartitionResult"},vk={[Ie]:[{[U]:"booleanEquals",[B]:[{[ce]:"UseFIPS"},!0]}],[Be]:"Invalid Configuration: FIPS and custom endpoint are not supported",[V]:Be},Xs={[U]:"booleanEquals",[B]:[{[ce]:"UseFIPS"},!0]},Ak={[Ie]:[{[U]:"booleanEquals",[B]:[{[ce]:"UseDualStack"},!0]}],[Be]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[V]:Be},Hk={[U]:"booleanEquals",[B]:[{[ce]:"UseDualStack"},!0]},Ck={[At]:{[xr]:"{Endpoint}",[Rr]:{},[Pr]:{}},[V]:At},sn={},xk={[U]:"booleanEquals",[B]:[{[U]:"getAttr",[B]:[{[ce]:"PartitionResult"},"supportsFIPS"]},!0]},Rk={[U]:"booleanEquals",[B]:[{[U]:"getAttr",[B]:[{[ce]:"PartitionResult"},"supportsDualStack"]},!0]},RE={[Ie]:[{[U]:"isSet",[B]:[{[ce]:"AccountIdEndpointMode"}]},{[U]:pt,[B]:[{[ce]:"AccountIdEndpointMode"},"required"]}],[Ue]:[{[Be]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:Be}],[V]:je},Ya={[U]:"getAttr",[B]:[{[ce]:"PartitionResult"},"name"]},Pk={[At]:{[xr]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Rr]:{},[Pr]:{}},[V]:At},Dk={[xr]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Rr]:{[Gk]:["O"]},[Pr]:{}},PE={[Gk]:["O"]},Nk={[Be]:"Credentials-sourced account ID parameter is invalid",[V]:Be},Ok={[Ie]:[{[U]:"isSet",[B]:[{[ce]:"AccountIdEndpointMode"}]},{[U]:pt,[B]:[{[ce]:"AccountIdEndpointMode"},"required"]}],[Ue]:[{[Ie]:[{[U]:"not",[B]:[Xs]}],[Ue]:[{[Ie]:[{[U]:pt,[B]:[Ya,"aws"]}],[Ue]:[{[Be]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[V]:Be}],[V]:je},{[Be]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[V]:Be}],[V]:je},{[Be]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:Be}],[V]:je},kk={[xr]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Rr]:PE,[Pr]:{}},$k=[Xs],Lk=[Hk],Mk=[{[U]:"isSet",[B]:[{[ce]:"AccountIdEndpointMode"}]},{[U]:"not",[B]:[{[U]:pt,[B]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[U]:pt,[B]:[Ya,"aws"]},{[U]:"not",[B]:[Xs]},{[U]:"isSet",[B]:[{[ce]:"ResourceArn"}]},{[U]:"aws.parseArn",[B]:[{[ce]:"ResourceArn"}],[Xd]:"ParsedArn"},{[U]:pt,[B]:[{[U]:"getAttr",[B]:[{[ce]:"ParsedArn"},"service"]},NE]},{[U]:"isValidHostLabel",[B]:[{[U]:"getAttr",[B]:[{[ce]:"ParsedArn"},"region"]},!1]},{[U]:pt,[B]:[{[U]:"getAttr",[B]:[{[ce]:"ParsedArn"},"region"]},"{Region}"]},{[U]:"isValidHostLabel",[B]:[{[U]:"getAttr",[B]:[{[ce]:"ParsedArn"},"accountId"]},!1]}],Uk=[{[U]:"isSet",[B]:[{[ce]:"AccountIdEndpointMode"}]},{[U]:"not",[B]:[{[U]:pt,[B]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[U]:pt,[B]:[Ya,"aws"]},{[U]:"not",[B]:[Xs]},{[U]:"isSet",[B]:[{[ce]:"ResourceArnList"}]},{[U]:"getAttr",[B]:[{[ce]:"ResourceArnList"},"[0]"],[Xd]:"FirstArn"},{[U]:"aws.parseArn",[B]:[{[ce]:"FirstArn"}],[Xd]:"ParsedArn"},{[U]:pt,[B]:[{[U]:"getAttr",[B]:[{[ce]:"ParsedArn"},"service"]},NE]},{[U]:"isValidHostLabel",[B]:[{[U]:"getAttr",[B]:[{[ce]:"ParsedArn"},"region"]},!1]},{[U]:pt,[B]:[{[U]:"getAttr",[B]:[{[ce]:"ParsedArn"},"region"]},"{Region}"]},{[U]:"isValidHostLabel",[B]:[{[U]:"getAttr",[B]:[{[ce]:"ParsedArn"},"accountId"]},!1]}],Bk=[{[U]:"isSet",[B]:[{[ce]:"AccountIdEndpointMode"}]},{[U]:"not",[B]:[{[U]:pt,[B]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[U]:pt,[B]:[Ya,"aws"]},{[U]:"not",[B]:[Xs]},{[U]:"isSet",[B]:[{[ce]:"AccountId"}]}],Fk=[{[U]:"isValidHostLabel",[B]:[{[ce]:"AccountId"},!1]}],LY={version:"1.0",parameters:{Region:Ka,UseDualStack:Tk,UseFIPS:Tk,Endpoint:Ka,AccountId:Ka,AccountIdEndpointMode:Ka,ResourceArn:Ka,ResourceArnList:{[DE]:kY,[V]:"stringArray"}},[Ue]:[{[Ie]:[_k,wk,Ik],[Ue]:[vk,Ak,{[Ie]:[{[U]:pt,[B]:[$Y,bk]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[V]:Be},Ck],[V]:je},{[Ie]:[_k],[Ue]:[vk,Ak,Ck],[V]:je},{[Ie]:[wk],[Ue]:[{[Ie]:[Ik],[Ue]:[{[Ie]:[{[U]:pt,[B]:[jk,"local"]}],[Ue]:[{[Ie]:$k,error:"Invalid Configuration: FIPS and local endpoint are not supported",[V]:Be},{[Ie]:Lk,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[V]:Be},{endpoint:{[xr]:"http://localhost:8000",[Rr]:{authSchemes:[{name:"sigv4",signingName:NE,signingRegion:"us-east-1"}]},[Pr]:sn},[V]:At}],[V]:je},{[Ie]:[Xs,Hk],[Ue]:[{[Ie]:[xk,Rk],[Ue]:[RE,{endpoint:{[xr]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Rr]:sn,[Pr]:sn},[V]:At}],[V]:je},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[V]:Be}],[V]:je},{[Ie]:$k,[Ue]:[{[Ie]:[xk],[Ue]:[{[Ie]:[{[U]:pt,[B]:[Ya,"aws-us-gov"]}],[Ue]:[RE,Pk],[V]:je},RE,{endpoint:{[xr]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Rr]:sn,[Pr]:sn},[V]:At}],[V]:je},{error:"FIPS is enabled but this partition does not support FIPS",[V]:Be}],[V]:je},{[Ie]:Lk,[Ue]:[{[Ie]:[Rk],[Ue]:[{[Ie]:Mk,endpoint:Dk,[V]:At},{[Ie]:Uk,endpoint:Dk,[V]:At},{[Ie]:Bk,[Ue]:[{[Ie]:Fk,[Ue]:[{endpoint:{[xr]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Rr]:PE,[Pr]:sn},[V]:At}],[V]:je},Nk],[V]:je},Ok,{endpoint:{[xr]:bk,[Rr]:sn,[Pr]:sn},[V]:At}],[V]:je},{error:"DualStack is enabled but this partition does not support DualStack",[V]:Be}],[V]:je},{[Ie]:Mk,endpoint:kk,[V]:At},{[Ie]:Uk,endpoint:kk,[V]:At},{[Ie]:Bk,[Ue]:[{[Ie]:Fk,[Ue]:[{endpoint:{[xr]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Rr]:PE,[Pr]:sn},[V]:At}],[V]:je},Nk],[V]:je},Ok,Pk],[V]:je}],[V]:je},{error:"Invalid Configuration: Missing Region",[V]:Be}]};Qd.ruleSet=LY});var zk=D(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.defaultEndpointResolver=void 0;var MY=Co(),OE=Cn(),UY=qk(),BY=new OE.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),FY=(e,t={})=>BY.get(e,()=>(0,OE.resolveEndpoint)(UY.ruleSet,{endpointParams:e,logger:t.logger}));Jd.defaultEndpointResolver=FY;OE.customEndpointFunctions.aws=MY.awsEndpointFunctions});var Kk=D(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.getRuntimeConfig=void 0;var GY=(Ke(),ee(Zr)),jY=(Hn(),ee(eu)),HY=Ek(),qY=ne(),zY=zr(),Vk=He(),Wk=Ve(),VY=nS(),WY=zk(),KY=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??Vk.fromBase64,base64Encoder:e?.base64Encoder??Vk.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??WY.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??VY.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new GY.AwsSdkSigV4Signer}],logger:e?.logger??new qY.NoOpLogger,protocol:e?.protocol??jY.AwsJson1_0Protocol,protocolSettings:e?.protocolSettings??{defaultNamespace:"com.amazonaws.dynamodb",xmlNamespace:"http://dynamodb.amazonaws.com/doc/2012-08-10/",version:"2012-08-10",serviceTarget:"DynamoDB_20120810",jsonCodec:new HY.DynamoDBJsonCodec},serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??zY.parseUrl,utf8Decoder:e?.utf8Decoder??Wk.fromUtf8,utf8Encoder:e?.utf8Encoder??Wk.toUtf8});Zd.getRuntimeConfig=KY});var e$=D(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.getRuntimeConfig=void 0;var YY=(Fi(),ee(Bi)),XY=YY.__importDefault(BC()),Yk=(Ke(),ee(Zr)),QY=(Nf(),ee(Df)),JY=mk(),ZY=qf(),Xk=Ns(),ep=It(),e9=Os(),Qk=er(),an=br(),Jk=In(),Zk=ne(),t9=ks(),r9=$s(),n9=Oo(),o9=Kk(),s9=e=>{(0,Zk.emitWarningIfUnsupportedVersion)(process.version);let t=(0,r9.resolveDefaultsModeConfig)(e),r=()=>t().then(Zk.loadConfigsForDefaultMode),n=(0,o9.getRuntimeConfig)(e);(0,Yk.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,an.loadConfig)(QY.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,o),authSchemePreference:e?.authSchemePreference??(0,an.loadConfig)(Yk.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??t9.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??JY.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Xk.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:XY.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,an.loadConfig)(ZY.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,o),maxAttempts:e?.maxAttempts??(0,an.loadConfig)(Qk.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,an.loadConfig)(ep.NODE_REGION_CONFIG_OPTIONS,{...ep.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Jk.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,an.loadConfig)({...Qk.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||n9.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??e9.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Jk.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,an.loadConfig)(ep.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,an.loadConfig)(ep.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,an.loadConfig)(Xk.NODE_APP_ID_CONFIG_OPTIONS,o)}};tp.getRuntimeConfig=s9});var o$=D(bt=>{"use strict";var rp=()=>{let e=new WeakSet;return(t,r)=>{if(typeof r=="object"&&r!==null){if(e.has(r))return"[Circular]";e.add(r)}return r}},i9=e=>new Promise(t=>setTimeout(t,e*1e3)),n$={minDelay:2,maxDelay:120};bt.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(bt.WaiterState||(bt.WaiterState={}));var a9=e=>{if(e.state===bt.WaiterState.ABORTED){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"},rp())}`);throw t.name="AbortError",t}else if(e.state===bt.WaiterState.TIMEOUT){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"},rp())}`);throw t.name="TimeoutError",t}else if(e.state!==bt.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e,rp())}`);return e},c9=(e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return l9(e,o)},l9=(e,t)=>e+Math.random()*(t-e),u9=async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:s},i,a)=>{let c={},{state:l,reason:d}=await a(o,i);if(d){let S=t$(d);c[S]|=0,c[S]+=1}if(l!==bt.WaiterState.RETRY)return{state:l,reason:d,observedResponses:c};let m=1,y=Date.now()+r*1e3,g=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let x="AbortController signal aborted.";return c[x]|=0,c[x]+=1,{state:bt.WaiterState.ABORTED,observedResponses:c}}let S=c9(e,t,g,m);if(Date.now()+S*1e3>y)return{state:bt.WaiterState.TIMEOUT,observedResponses:c};await i9(S);let{state:T,reason:I}=await a(o,i);if(I){let x=t$(I);c[x]|=0,c[x]+=1}if(T!==bt.WaiterState.RETRY)return{state:T,reason:I,observedResponses:c};m+=1}},t$=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e,rp())??"Unknown"),d9=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},r$=e=>{let t,r=new Promise(n=>{t=()=>n({state:bt.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},p9=async(e,t,r)=>{let n={...n$,...e};d9(n);let o=[u9(n,t,r)],s=[];if(e.abortSignal){let{aborted:i,clearListener:a}=r$(e.abortSignal);s.push(a),o.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=r$(e.abortController.signal);s.push(a),o.push(i)}return Promise.race(o).then(i=>{for(let a of s)a();return i})};bt.checkExceptions=a9;bt.createWaiter=p9;bt.waiterServiceDefaults=n$});var ui=D(u=>{"use strict";var m9=(Nf(),ee(Df)),f9=qf(),s$=Jo(),h9=Zo(),g9=es(),i$=Do(),y9=It(),cn=(rt(),ee(vo)),ae=(fe(),ee(Oi)),S9=Cs(),F=Tr(),a$=er(),L=ne(),c$=nS(),E9=e$(),l$=$o(),u$=_e(),ar=o$(),b9=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),G={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},se=class e extends L.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},np=class e extends se{name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},op=class e extends se{name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sp=class e extends se{name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},ip=class e extends se{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},ap=class e extends se{name="ThrottlingException";$fault="client";throttlingReasons;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.throttlingReasons=t.throttlingReasons}},cp=class e extends se{name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},lp=class e extends se{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},up=class e extends se{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},dp=class e extends se{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},pp=class e extends se{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},mp=class e extends se{name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},fp=class e extends se{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},hp=class e extends se{name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},gp=class e extends se{name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},yp=class e extends se{name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Sp=class e extends se{name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ep=class e extends se{name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bp=class e extends se{name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Tp=class e extends se{name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},_p=class e extends se{name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},wp=class e extends se{name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ip=class e extends se{name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},vp=class e extends se{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Ap=class e extends se{name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Cp=class e extends se{name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},xp=class e extends se{name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Rp=class e extends se{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Pp=class e extends se{name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Dp=class e extends se{name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Np=class e extends se{name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Op=class e extends se{name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},kp=class e extends se{name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},$p=class e extends se{name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Lp=class e extends se{name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Item=t.Item}},Mp=class e extends se{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},T9="Action",_9="ArchivalBackupArn",kE="ApproximateCreationDateTimePrecision",w9="AttributeDefinition",I9="ArchivalDateTime",nc="AttributeDefinitions",v9="AttributeMap",A9="AccountMaxReadCapacityUnits",C9="AccountMaxWriteCapacityUnits",km="AttributeName",x9="ArchivalReason",p$="ArchivalSummary",m$="AutoScalingDisabled",R9="AutoScalingPolicyDescription",P9="AutoScalingPolicyDescriptionList",D9="AutoScalingPolicyUpdate",f$="AutoScalingRoleArn",N9="AutoScalingSettingsDescription",O9="AutoScalingSettingsUpdate",k9="AutoScalingTargetTrackingScalingPolicyConfigurationDescription",$9="AutoScalingTargetTrackingScalingPolicyConfigurationUpdate",L9="AttributeType",$m="AttributesToGet",h$="AttributeUpdates",M9="AttributeValue",$E="AttributeValueList",U9="AttributeValueUpdate",B9="Address",LE="Attributes",F9="Backfilling",oc="BackupArn",g$="BackupCreationDateTime",ME="BackupDescription",UE="BackupDetails",y$="BackupExpiryDateTime",G9="BatchExecuteStatement",j9="BatchExecuteStatementInput",H9="BatchExecuteStatementOutput",q9="BatchGetItem",z9="BatchGetItemInput",V9="BatchGetItemOutput",W9="BatchGetResponseMap",K9="BatchGetRequestMap",Y9="BackupInUseException",sc="BillingMode",S$="BillingModeOverride",E$="BillingModeSummary",BE="BackupName",X9="BackupNotFoundException",Q9="BOOL",b$="BackupStatus",T$="BackupSizeBytes",J9="BilledSizeBytes",Z9="BatchStatementError",e7="BatchStatementRequest",t7="BatchStatementResponse",r7="BS",n7="BackupSummary",_$="BackupSummaries",FE="BackupType",o7="BatchWriteItem",s7="BatchWriteItemInput",i7="BatchWriteItemOutput",a7="BatchWriteItemRequestMap",c7="B",w$="Code",l7="CreateBackup",GE="ContinuousBackupsDescription",u7="CreateBackupInput",d7="CreateBackupOutput",p7="ContinuousBackupsStatus",m7="ContinuousBackupsUnavailableException",Ct="ConsumedCapacity",f7="ConditionalCheckFailedException",h7="ConsumedCapacityMultiple",I$="ConditionCheck",v$="CreationDateTime",Wo="ConditionExpression",g7="CreateGlobalSecondaryIndexAction",y7="CreateGlobalTable",S7="CreateGlobalTableInput",E7="CreateGlobalTableOutput",b7="CreateGlobalTableWitnessGroupMemberAction",T7="ContributorInsightsAction",Lm="ContributorInsightsMode",_7="ContributorInsightsRuleList",w7="ContributorInsightsSummary",jE="ContributorInsightsStatus",A$="ContributorInsightsSummaries",C$="ComparisonOperator",ic="ConditionalOperator",I7="CsvOptions",v7="CachePeriodInMinutes",Js="ConsistentRead",A7="CreateReplicaAction",C7="CreateReplicationGroupMemberAction",x7="CancellationReasonList",R7="ConfirmRemoveSelfResourceAccess",x$="ClientRequestToken",P7="CancellationReason",D7="CancellationReasons",Mm="ClientToken",N7="CreateTableInput",O7="CreateTableOutput",k7="CreateTable",R$="CapacityUnits",P$="CloudWatchLogGroupArn",$7="Capacity",L7="Condition",D$="Count",Um="Create",M7="Csv",U7="Delimiter",B7="DeleteBackup",F7="DeleteBackupInput",G7="DescribeBackupInput",j7="DeleteBackupOutput",H7="DescribeBackupOutput",q7="DescribeBackup",z7="DescribeContinuousBackups",V7="DescribeContinuousBackupsInput",W7="DescribeContinuousBackupsOutput",K7="DescribeContributorInsights",Y7="DescribeContributorInsightsInput",X7="DescribeContributorInsightsOutput",Q7="DescribeEndpoints",J7="DescribeExportInput",Z7="DescribeExportOutput",eX="DescribeEndpointsRequest",tX="DescribeEndpointsResponse",rX="DescribeExport",nX="DeleteGlobalSecondaryIndexAction",oX="DescribeGlobalTable",sX="DescribeGlobalTableInput",iX="DescribeGlobalTableOutput",aX="DescribeGlobalTableSettings",cX="DescribeGlobalTableSettingsInput",lX="DescribeGlobalTableSettingsOutput",uX="DeleteGlobalTableWitnessGroupMemberAction",dX="DeleteItem",pX="DuplicateItemException",mX="DeleteItemInput",fX="DescribeImportInput",hX="DeleteItemOutput",gX="DescribeImportOutput",yX="DescribeImport",SX="DescribeKinesisStreamingDestination",EX="DescribeKinesisStreamingDestinationInput",bX="DescribeKinesisStreamingDestinationOutput",TX="DisableKinesisStreamingDestination",_X="DescribeLimits",wX="DescribeLimitsInput",IX="DescribeLimitsOutput",HE="DeletionProtectionEnabled",N$="DeleteRequest",vX="DeleteReplicaAction",AX="DeleteReplicationGroupMemberAction",CX="DeleteResourcePolicy",xX="DeleteResourcePolicyInput",RX="DeleteResourcePolicyOutput",qE="DestinationStatus",PX="DestinationStatusDescription",O$="DisableScaleIn",DX="DeleteTable",NX="DeleteTableInput",OX="DescribeTableInput",kX="DeleteTableOutput",$X="DescribeTableOutput",LX="DescribeTableReplicaAutoScaling",MX="DescribeTableReplicaAutoScalingInput",UX="DescribeTableReplicaAutoScalingOutput",BX="DescribeTimeToLive",FX="DescribeTimeToLiveInput",GX="DescribeTimeToLiveOutput",jX="DescribeTable",Zs="Delete",HX="Error",zE="ExportArn",qX="ExpectedAttributeMap",Kt="ExpressionAttributeNames",un="ExpressionAttributeValues",zX="ExpressionAttributeValueMap",VX="ExpectedAttributeValue",WX="ErrorCount",KX="ExportConflictException",VE="ExportDescription",YX="ExceptionDescription",k$="ExportFormat",XX="ExportFromTime",WE="EnableKinesisStreamingConfiguration",QX="EnableKinesisStreamingDestination",JX="ExportManifest",ZX="ExceptionName",eQ="ExportNotFoundException",tQ="EarliestRestorableDateTime",$$="ExpectedRevisionId",L$="ExportStatus",rQ="ExclusiveStartBackupArn",nQ="ExclusiveStartGlobalTableName",oQ="ExecuteStatementInput",M$="ExclusiveStartKey",sQ="ExecuteStatementOutput",iQ="ExclusiveStartTableName",aQ="ExportSummary",cQ="ExecuteStatement",U$="ExportSummaries",KE="EndTime",lQ="ExecuteTransactionInput",uQ="ExecuteTransactionOutput",dQ="ExportToTime",pQ="ExportTableToPointInTime",mQ="ExportTableToPointInTimeInput",fQ="ExportTableToPointInTimeOutput",B$="ExportTime",hQ="ExecuteTransaction",YE="ExportType",gQ="ExportViewType",F$="Endpoints",G$="Enabled",yQ="Endpoint",XE="Expected",SQ="Exists",j$="FailureCode",EQ="FilterConditionMap",H$="FailureException",q$="FilterExpression",z$="FailureMessage",V$="Get",bQ="GetItem",TQ="GetItemInput",_Q="GetItemOutput",wQ="GetResourcePolicy",IQ="GetResourcePolicyInput",vQ="GetResourcePolicyOutput",Nr="GlobalSecondaryIndexes",AQ="GlobalSecondaryIndexAutoScalingUpdate",CQ="GlobalSecondaryIndexAutoScalingUpdateList",xQ="GlobalSecondaryIndexDescription",RQ="GlobalSecondaryIndexDescriptionList",PQ="GlobalSecondaryIndexInfo",DQ="GlobalSecondaryIndexList",W$="GlobalSecondaryIndexOverride",NQ="GlobalSecondaryIndexUpdate",OQ="GlobalSecondaryIndexUpdateList",K$="GlobalSecondaryIndexUpdates",kQ="GlobalSecondaryIndexWarmThroughputDescription",$Q="GlobalSecondaryIndex",LQ="GlobalTable",MQ="GlobalTableArn",UQ="GlobalTableAlreadyExistsException",BQ="GlobalTableBillingMode",Bm="GlobalTableDescription",Y$="GlobalTableGlobalSecondaryIndexSettingsUpdate",FQ="GlobalTableGlobalSecondaryIndexSettingsUpdateList",GQ="GlobalTableList",dn="GlobalTableName",jQ="GlobalTableNotFoundException",HQ="GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate",qQ="GlobalTableProvisionedWriteCapacityUnits",zQ="GlobalTableStatus",VQ="GlobalTableVersion",WQ="GlobalTableWitnesses",KQ="GlobalTableWitnessDescription",YQ="GlobalTableWitnessDescriptionList",XQ="GlobalTableWitnessGroupUpdate",QQ="GlobalTableWitnessGroupUpdateList",JQ="GlobalTableWitnessUpdates",ZQ="GlobalTables",eJ="HeaderList",pn="Item",QE="ImportArn",X$="IndexArn",ac="ItemCount",tJ="ImportConflictException",rJ="ItemCollectionKey",nJ="ItemCollectionKeyAttributeMap",ei="ItemCollectionMetrics",oJ="ItemCollectionMetricsMultiple",sJ="ItemCollectionMetricsPerTable",iJ="ItemCollectionSizeLimitExceededException",Q$="InputCompressionType",aJ="InaccessibleEncryptionDateTime",cJ="InvalidEndpointException",JE="IncrementalExportSpecification",lJ="InvalidExportTimeException",ZE="InputFormat",eb="InputFormatOptions",uJ="ImportedItemCount",dJ="ItemList",Ne="IndexName",pJ="ImportNotFoundException",mJ="IndexNotFoundException",fJ="IdempotentParameterMismatchException",hJ="ItemResponse",gJ="ItemResponseList",yJ="InvalidRestoreTimeException",tb="IndexStatus",J$="IndexSizeBytes",SJ="InternalServerError",Z$="ImportSummaryList",EJ="ImportSummary",e1="ImportStatus",bJ="ImportTable",rb="ImportTableDescription",TJ="ImportTableInput",_J="ImportTableOutput",nb="Items",Or="Key",wJ="KeysAndAttributes",t1="KeyConditions",IJ="KeyConditionExpression",r1="KinesisDataStreamDestinations",vJ="KinesisDataStreamDestination",AJ="KeyList",CJ="KMSMasterKeyArn",Fm="KMSMasterKeyId",Yt="KeySchema",xJ="KinesisStreamingDestinationInput",RJ="KinesisStreamingDestinationOutput",PJ="KeySchemaElement",DJ="KeyType",NJ="Keys",ti="Limit",OJ="ListAttributeValue",kJ="ListBackups",$J="ListBackupsInput",LJ="ListBackupsOutput",MJ="ListContributorInsights",UJ="ListContributorInsightsInput",BJ="ListContributorInsightsOutput",FJ="LastDecreaseDateTime",GJ="ListExports",jJ="LastEvaluatedBackupArn",HJ="LimitExceededException",qJ="LastEvaluatedGlobalTableName",zJ="ListExportsInput",ob="LastEvaluatedKey",VJ="ListExportsOutput",WJ="LastEvaluatedTableName",KJ="ListGlobalTables",YJ="ListGlobalTablesInput",XJ="ListGlobalTablesOutput",QJ="ListImports",JJ="LastIncreaseDateTime",ZJ="ListImportsInput",eZ="ListImportsOutput",tZ="LatestRestorableDateTime",rZ="LatestStreamArn",cc="LocalSecondaryIndexes",nZ="LocalSecondaryIndexDescription",oZ="LocalSecondaryIndexDescriptionList",sZ="LocalSecondaryIndexInfo",iZ="LocalSecondaryIndexList",n1="LocalSecondaryIndexOverride",aZ="LocalSecondaryIndex",cZ="LatestStreamLabel",lZ="ListTables",uZ="ListTablesInput",dZ="ListTablesOutput",pZ="ListTagsOfResource",mZ="ListTagsOfResourceInput",fZ="ListTagsOfResourceOutput",o1="LastUpdateDateTime",hZ="LastUpdateToPayPerRequestDateTime",gZ="L",ri="Message",yZ="MapAttributeValue",s1="MaxResults",i1="MultiRegionConsistency",a1="MaxReadRequestUnits",c1="MinimumUnits",l1="MaximumUnits",SZ="MaxWriteRequestUnits",EZ="M",bZ="N",TZ="NonKeyAttributes",_Z="NumberOfDecreasesToday",wZ="NS",kr="NextToken",IZ="NULL",cr="OnDemandThroughput",lo="OnDemandThroughputOverride",sb="Parameters",lc="ProjectionExpression",vZ="PutItem",AZ="ProcessedItemCount",CZ="PutItemInput",xZ="PutItemInputAttributeMap",RZ="PutItemOutput",u1="PointInTimeRecoveryDescription",PZ="PointInTimeRecoveryEnabled",DZ="PointInTimeRecoveryStatus",d1="PointInTimeRecoverySpecification",NZ="PointInTimeRecoveryUnavailableException",p1="PolicyName",OZ="PolicyNotFoundException",kZ="PartiQLBatchRequest",$Z="PartiQLBatchResponse",m1="PutRequest",f1="ProvisionedReadCapacityAutoScalingSettings",LZ="ProvisionedReadCapacityAutoScalingSettingsUpdate",MZ="ProvisionedReadCapacityAutoScalingUpdate",h1="ProvisionedReadCapacityUnits",UZ="PutResourcePolicy",BZ="PutResourcePolicyInput",FZ="PutResourcePolicyOutput",GZ="PageSize",jZ="ProcessedSizeBytes",HZ="PreparedStatementParameters",qZ="ParameterizedStatement",zZ="ParameterizedStatements",lr="ProvisionedThroughput",VZ="ProvisionedThroughputDescription",WZ="ProvisionedThroughputExceededException",uo="ProvisionedThroughputOverride",KZ="ProjectionType",g1="ProvisionedWriteCapacityAutoScalingSettings",YZ="ProvisionedWriteCapacityAutoScalingSettingsUpdate",y1="ProvisionedWriteCapacityAutoScalingUpdate",S1="ProvisionedWriteCapacityUnits",E1="Policy",po="Projection",b1="Put",XZ="Query",QZ="QueryFilter",JZ="QueryInput",ZZ="QueryOutput",Gm="Responses",ni="ResourceArn",eee="ReplicaAlreadyExistsException",tee="ReplicaAutoScalingDescription",ree="ReplicaAutoScalingDescriptionList",nee="ReplicaAutoScalingUpdate",oee="ReplicaAutoScalingUpdateList",see="ReplicaBillingModeSummary",kt="ReturnConsumedCapacity",uc="ReadCapacityUnits",iee="ReplicaDescription",aee="ReplicaDescriptionList",T1="RestoreDateTime",ib="ReplicationGroup",cee="ReplicaGlobalSecondaryIndex",lee="ReplicaGlobalSecondaryIndexAutoScalingDescription",uee="ReplicaGlobalSecondaryIndexAutoScalingDescriptionList",dee="ReplicaGlobalSecondaryIndexAutoScalingUpdate",pee="ReplicaGlobalSecondaryIndexAutoScalingUpdateList",mee="ReplicaGlobalSecondaryIndexDescription",fee="ReplicaGlobalSecondaryIndexDescriptionList",hee="ReplicaGlobalSecondaryIndexList",gee="ReplicaGlobalSecondaryIndexSettings",yee="ReplicaGlobalSecondaryIndexSettingsDescription",See="ReplicaGlobalSecondaryIndexSettingsDescriptionList",_1="ReplicaGlobalSecondaryIndexSettingsUpdate",Eee="ReplicaGlobalSecondaryIndexSettingsUpdateList",bee="ReplicaGlobalSecondaryIndexUpdates",Tee="ReplicationGroupUpdate",_ee="ReplicationGroupUpdateList",w1="RequestItems",dc="ReturnItemCollectionMetrics",wee="ReplicaInaccessibleDateTime",Iee="RestoreInProgress",vee="ResourceInUseException",ab="RevisionId",Aee="ReplicaList",Cee="RequestLimitExceeded",Tt="RegionName",xee="ReplicaNotFoundException",Ree="ResourceNotFoundException",Pee="ResourcePolicy",I1="RecoveryPeriodInDays",v1="ReplicaProvisionedReadCapacityAutoScalingSettings",Dee="ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate",Nee="ReplicaProvisionedReadCapacityAutoScalingUpdate",A1="ReplicaProvisionedReadCapacityUnits",C1="ReplicaProvisionedWriteCapacityAutoScalingSettings",Oee="ReplicaProvisionedWriteCapacityUnits",x1="ReplicaSettings",kee="ReplicaStatusDescription",$ee="ReplicaSettingsDescriptionList",Lee="ReplicaSettingsDescription",Mee="ReplicaStatusPercentProgress",R1="ReplicaSettingsUpdate",Uee="ReplicaSettingsUpdateList",cb="ReplicaStatus",P1="RestoreSummary",Bee="ReplicaTableClass",D1="ReplicaTableClassSummary",Fee="RestoreTableFromBackup",Gee="RestoreTableFromBackupInput",jee="RestoreTableFromBackupOutput",Hee="RestoreTableToPointInTime",qee="RestoreTableToPointInTimeInput",zee="RestoreTableToPointInTimeOutput",Vee="ReplicaUpdate",Wee="ReplicaUpdateList",lb="ReadUnitsPerSecond",ub="ReplicaUpdates",db="ReturnValues",$r="ReturnValuesOnConditionCheckFailure",Kee="ReplicatedWriteConflictException",Yee="Replica",N1="Replicas",Xee="Statements",pc="StreamArn",pb="S3Bucket",Qee="SourceBackupArn",mb="S3BucketOwner",jm="S3BucketSource",O1="ScannedCount",Jee="StreamDescription",Zee="StreamEnabled",ete="SizeEstimateRangeGB",tte="ScanFilter",rte="ScanInput",k1="ScaleInCooldown",nte="SecondaryIndexesCapacityMap",ote="ScanIndexForward",ste="S3KeyPrefix",ite="ScanOutput",$1="ScaleOutCooldown",ate="ScalingPolicies",cte="ScalingPolicyUpdate",L1="S3Prefix",Hm="StreamSpecification",M1="S3SseAlgorithm",fb="SSEDescription",qm="SSESpecification",U1="SSESpecificationOverride",B1="SSEType",F1="S3SseKmsKeyId",lte="SS",hb="StartTime",G1="SourceTableArn",j1="SourceTableDetails",H1="SourceTableFeatureDetails",ute="SourceTableName",dte="StreamViewType",pte="S",mte="Scan",q1="Select",fte="Segment",gb="Statement",yb="Status",z1="Table",mn="TableArn",hte="TableAlreadyExistsException",Sb="TableAutoScalingDescription",Eb="TableClass",gte="TableCreationDateTime",yte="TransactionCanceledException",Ste="TransactionConflictException",V1="TableClassOverride",bb="TableCreationParameters",W1="TableClassSummary",oi="TableDescription",Ete="ThrottlingException",bte="TransactGetItem",Tte="TransactGetItemsInput",_te="TransactGetItemList",wte="TransactGetItemsOutput",Ite="TransactGetItems",mc="TableId",vte="TransactionInProgressException",Ate="TableInUseException",K1="TransactItems",Cte="TagKeys",xte="TagList",Rte="TableMaxReadCapacityUnits",Pte="TableMaxWriteCapacityUnits",Z="TableName",Dte="TableNotFoundException",Nte="TableNames",Y1="ThrottlingReasons",Ote="TagResourceInput",kte="ThrottlingReasonList",$te="TimeRangeLowerBound",Lte="TimeRangeUpperBound",Mte="TagResource",Ute="ThrottlingReason",Bte="TransactStatements",X1="TableSizeBytes",Q1="TableStatus",Fte="TotalSegments",Tb="TimeToLiveDescription",Gte="TimeToLiveStatus",_b="TimeToLiveSpecification",J1="TargetTableName",Z1="TargetTrackingScalingPolicyConfiguration",eL="TargetValue",jte="TransactWriteItem",Hte="TransactWriteItemsInput",qte="TransactWriteItemList",zte="TransactWriteItemsOutput",Vte="TransactWriteItems",Wte="TableWarmThroughputDescription",wb="Tags",Kte="Tag",zm="Update",Yte="UpdateContinuousBackups",Xte="UpdateContinuousBackupsInput",Qte="UpdateContinuousBackupsOutput",Jte="UpdateContributorInsights",Zte="UpdateContributorInsightsInput",ere="UpdateContributorInsightsOutput",tL="UpdateExpression",tre="UpdateGlobalSecondaryIndexAction",rre="UpdateGlobalTable",nre="UpdateGlobalTableInput",ore="UpdateGlobalTableOutput",sre="UpdateGlobalTableSettings",ire="UpdateGlobalTableSettingsInput",are="UpdateGlobalTableSettingsOutput",cre="UnprocessedItems",lre="UpdateItemInput",ure="UpdateItemOutput",dre="UpdateItem",pre="UnprocessedKeys",Ib="UpdateKinesisStreamingConfiguration",mre="UpdateKinesisStreamingDestination",fre="UpdateKinesisStreamingDestinationInput",hre="UpdateKinesisStreamingDestinationOutput",gre="UseLatestRestorableTime",yre="UntagResource",Sre="UpdateReplicationGroupMemberAction",Ere="UntagResourceInput",bre="UpdateTable",Tre="UpdateTableInput",_re="UpdateTableOutput",wre="UpdateTableReplicaAutoScaling",Ire="UpdateTableReplicaAutoScalingInput",vre="UpdateTableReplicaAutoScalingOutput",Are="UpdateTimeToLive",Cre="UpdateTimeToLiveInput",xre="UpdateTimeToLiveOutput",vb="Value",Vm="WriteCapacityUnits",Rre="WriteRequest",Pre="WriteRequests",Dre="WitnessStatus",Lr="WarmThroughput",Ab="WriteUnitsPerSecond",Nre="awsQueryError",pe="client",ue="error",rL="httpError",Ore="httpHeader",ye="message",kre="reason",$re="resource",Lre="server",nL="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",Mre="throttlingReasons",Ure="x-amz-confirm-remove-self-resource-access",p="com.amazonaws.dynamodb",oL=[3,p,p$,0,[I9,x9,_9],[4,0,0]],sL=[3,p,w9,0,[km,L9],[0,0]],iL=[3,p,U9,0,[vb,T9],[()=>Xt,0]],aL=[3,p,R9,0,[p1,Z1],[0,()=>lL]],cL=[3,p,D9,0,[p1,Z1],[0,()=>uL]],ln=[3,p,N9,0,[c1,l1,m$,f$,ate],[1,1,2,0,()=>Bre]],fn=[3,p,O9,0,[c1,l1,m$,f$,cte],[1,1,2,0,()=>cL]],lL=[3,p,k9,0,[O$,k1,$1,eL],[2,1,1,1]],uL=[3,p,$9,0,[O$,k1,$1,eL],[2,1,1,1]],Cb=[3,p,ME,0,[UE,j1,H1],[()=>xb,()=>TB,()=>_B]],xb=[3,p,UE,0,[oc,BE,T$,b$,FE,g$,y$],[0,0,1,0,0,4,4]],dL=[-3,p,Y9,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(dL,np);var pL=[-3,p,X9,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(pL,op);var mL=[3,p,n7,0,[Z,mc,mn,oc,BE,g$,y$,b$,FE,T$],[0,0,0,0,0,4,4,0,0,1]],fL=[3,p,j9,0,[Xee,kt],[()=>ane,0]],hL=[3,p,H9,0,[Gm,Ct],[()=>cne,()=>li]],gL=[3,p,z9,0,[w1,kt],[()=>gF,0]],yL=[3,p,V9,0,[Gm,pre,Ct],[()=>wne,()=>gF,()=>li]],SL=[3,p,Z9,0,[w$,ri,pn],[0,0,()=>Mr]],EL=[3,p,e7,0,[gb,sb,Js,$r],[0,()=>Xb,2,0]],bL=[3,p,t7,0,[HX,Z,pn],[()=>SL,0,()=>Mr]],TL=[3,p,s7,0,[w1,kt,dc],[()=>yF,0,0]],_L=[3,p,i7,0,[cre,ei,Ct],[()=>yF,()=>EF,()=>li]],Rb=[3,p,E$,0,[sc,hZ],[0,4]],wL=[3,p,P7,0,[pn,w$,ri],[()=>Mr,0,0]],Pb=[3,p,$7,0,[uc,Vm,R$],[1,1,1]],Db=[3,p,L7,0,[$E,C$],[()=>uF,0]],IL=[-3,p,f7,{[ue]:pe},[ye,pn],[0,()=>Mr]];ae.TypeRegistry.for(p).registerError(IL,Lp);var vL=[3,p,I$,0,[Or,Z,Wo,Kt,un,$r],[()=>xt,0,0,128,()=>gn,0]],hn=[3,p,Ct,0,[Z,R$,uc,Vm,z1,cc,Nr],[0,1,1,1,()=>Pb,()=>d$,()=>d$]],Nb=[3,p,GE,0,[p7,u1],[0,()=>$U]],AL=[-3,p,m7,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(AL,mp);var CL=[3,p,w7,0,[Z,Ne,jE,Lm],[0,0,0,0]],xL=[3,p,u7,0,[Z,BE],[0,0]],RL=[3,p,d7,0,[UE],[()=>xb]],PL=[3,p,g7,0,[Ne,Yt,po,lr,cr,Lr],[0,()=>dr,()=>mo,()=>ur,()=>$t,()=>ci]],DL=[3,p,S7,0,[dn,ib],[0,()=>fF]],NL=[3,p,E7,0,[Bm],[()=>Wm]],OL=[3,p,b7,0,[Tt],[0]],kL=[3,p,A7,0,[Tt],[0]],$L=[3,p,C7,0,[Tt,Fm,uo,lo,Nr,V1],[0,0,()=>ii,()=>si,()=>mF,0]],LL=[3,p,N7,0,[nc,Z,Yt,cc,Nr,sc,lr,Hm,qm,wb,Eb,HE,Lr,Pee,cr],[()=>Xm,0,()=>dr,()=>Yb,()=>Qm,0,()=>ur,()=>hc,()=>ai,()=>Qb,0,2,()=>ci,0,()=>$t]],ML=[3,p,O7,0,[oi],[()=>Ko]],UL=[3,p,I7,0,[U7,eJ],[0,64]],BL=[3,p,Zs,0,[Or,Z,Wo,Kt,un,$r],[()=>xt,0,0,128,()=>gn,0]],FL=[3,p,F7,0,[oc],[0]],GL=[3,p,j7,0,[ME],[()=>Cb]],jL=[3,p,nX,0,[Ne],[0]],HL=[3,p,uX,0,[Tt],[0]],qL=[3,p,mX,0,[Z,Or,XE,ic,db,kt,dc,Wo,Kt,un,$r],[0,()=>xt,()=>Zb,0,0,0,0,0,128,()=>gn,0]],zL=[3,p,hX,0,[LE,Ct,ei],[()=>Mr,()=>hn,()=>fc]],VL=[3,p,vX,0,[Tt],[0]],WL=[3,p,AX,0,[Tt],[0]],KL=[3,p,N$,0,[Or],[()=>xt]],YL=[3,p,xX,0,[ni,$$],[0,0]],XL=[3,p,RX,0,[ab],[0]],QL=[3,p,NX,0,[Z],[0]],JL=[3,p,kX,0,[oi],[()=>Ko]],ZL=[3,p,G7,0,[oc],[0]],eM=[3,p,H7,0,[ME],[()=>Cb]],tM=[3,p,V7,0,[Z],[0]],rM=[3,p,W7,0,[GE],[()=>Nb]],nM=[3,p,Y7,0,[Z,Ne],[0,0]],oM=[3,p,X7,0,[Z,Ne,_7,jE,o1,H$,Lm],[0,0,64,0,4,()=>MM,0]],sM=[3,p,eX,0,[],[]],iM=[3,p,tX,0,[F$],[()=>Hre]],aM=[3,p,J7,0,[zE],[0]],cM=[3,p,Z7,0,[VE],[()=>kb]],lM=[3,p,sX,0,[dn],[0]],uM=[3,p,iX,0,[Bm],[()=>Wm]],dM=[3,p,cX,0,[dn],[0]],pM=[3,p,lX,0,[dn,x1],[0,()=>hF]],mM=[3,p,fX,0,[QE],[0]],fM=[3,p,gX,0,[rb],[()=>Lb]],hM=[3,p,EX,0,[Z],[0]],gM=[3,p,bX,0,[Z,r1],[0,()=>rne]],yM=[3,p,wX,0,[],[]],SM=[3,p,IX,0,[A9,C9,Rte,Pte],[1,1,1,1]],EM=[3,p,OX,0,[Z],[0]],bM=[3,p,$X,0,[z1],[()=>Ko]],TM=[3,p,MX,0,[Z],[0]],_M=[3,p,UX,0,[Sb],[()=>Hb]],wM=[3,p,FX,0,[Z],[0]],IM=[3,p,GX,0,[Tb],[()=>Vb]],vM=[-3,p,pX,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(vM,Ip);var Ob=[3,p,WE,0,[kE],[0]],AM=[3,p,yQ,0,[B9,v7],[0,1]],CM=[3,p,oQ,0,[gb,sb,Js,kr,kt,ti,$r],[0,()=>Xb,2,0,0,1,0]],xM=[3,p,sQ,0,[nb,kr,Ct,ob],[()=>Jm,0,()=>hn,()=>xt]],RM=[3,p,lQ,0,[Bte,x$,kt],[()=>ine,[0,4],0]],PM=[3,p,uQ,0,[Gm,Ct],[()=>dF,()=>li]],DM=[3,p,VX,0,[vb,SQ,C$,$E],[()=>Xt,2,0,()=>uF]],NM=[-3,p,KX,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(NM,Cp);var kb=[3,p,VE,0,[zE,L$,hb,KE,JX,mn,mc,B$,Mm,pb,mb,L1,M1,F1,j$,z$,k$,J9,ac,YE,JE],[0,0,4,4,0,0,0,4,0,0,0,0,0,0,0,0,0,1,1,0,()=>Mb]],OM=[-3,p,eQ,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(OM,Tp);var kM=[3,p,aQ,0,[zE,L$,YE],[0,0,0]],$M=[3,p,mQ,0,[mn,B$,Mm,pb,mb,L1,M1,F1,k$,YE,JE],[0,4,[0,4],0,0,0,0,0,0,0,()=>Mb]],LM=[3,p,fQ,0,[VE],[()=>kb]],MM=[3,p,H$,0,[ZX,YX],[0,0]],UM=[3,p,V$,0,[Or,Z,lc,Kt],[()=>xt,0,0,128]],BM=[3,p,TQ,0,[Z,Or,$m,Js,kt,lc,Kt],[0,()=>xt,64,2,0,0,128]],FM=[3,p,_Q,0,[pn,Ct],[()=>Mr,()=>hn]],GM=[3,p,IQ,0,[ni],[0]],jM=[3,p,vQ,0,[E1,ab],[0,0]],HM=[3,p,$Q,0,[Ne,Yt,po,lr,cr,Lr],[0,()=>dr,()=>mo,()=>ur,()=>$t,()=>ci]],qM=[3,p,AQ,0,[Ne,y1],[0,()=>fn]],zM=[3,p,xQ,0,[Ne,Yt,po,tb,F9,lr,J$,ac,X$,cr,Lr],[0,()=>dr,()=>mo,0,2,()=>Gb,1,1,0,()=>$t,()=>$b]],VM=[3,p,PQ,0,[Ne,Yt,po,lr,cr],[0,()=>dr,()=>mo,()=>ur,()=>$t]],WM=[3,p,NQ,0,[zm,Um,Zs],[()=>zB,()=>PL,()=>jL]],$b=[3,p,kQ,0,[lb,Ab,yb],[1,1,0]],KM=[3,p,LQ,0,[dn,ib],[0,()=>fF]],YM=[-3,p,UQ,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(YM,yp);var Wm=[3,p,Bm,0,[ib,MQ,v$,zQ,dn],[()=>pF,0,4,0,0]],XM=[3,p,Y$,0,[Ne,S1,YZ],[0,1,()=>fn]],QM=[-3,p,jQ,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(QM,_p);var JM=[3,p,KQ,0,[Tt,Dre],[0,0]],ZM=[3,p,XQ,0,[Um,Zs],[()=>OL,()=>HL]],eU=[-3,p,fJ,{[ue]:pe},[ri],[0]];ae.TypeRegistry.for(p).registerError(eU,vp);var tU=[-3,p,tJ,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(tU,Pp);var rU=[-3,p,pJ,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(rU,wp);var nU=[3,p,EJ,0,[QE,e1,mn,jm,P$,ZE,hb,KE],[0,0,0,()=>Km,0,0,4,4]],Lb=[3,p,rb,0,[QE,e1,mn,mc,Mm,jm,WX,P$,ZE,eb,Q$,bb,hb,KE,jZ,AZ,uJ,j$,z$],[0,0,0,0,0,()=>Km,1,0,0,()=>Ub,0,()=>qb,4,4,1,1,1,0,0]],oU=[3,p,TJ,0,[Mm,jm,ZE,eb,Q$,bb],[[0,4],()=>Km,0,()=>Ub,0,()=>qb]],sU=[3,p,_J,0,[rb],[()=>Lb]],Mb=[3,p,JE,0,[XX,dQ,gQ],[4,4,0]],iU=[-3,p,mJ,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(iU,$p);var Ub=[3,p,eb,0,[M7],[()=>UL]],aU=[-3,p,SJ,{[ue]:Lre},[ye],[0]];ae.TypeRegistry.for(p).registerError(aU,sp);var cU=[-3,p,cJ,{[ue]:pe,[rL]:421},[ri],[0]];ae.TypeRegistry.for(p).registerError(cU,cp);var lU=[-3,p,lJ,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(lU,xp);var uU=[-3,p,yJ,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(uU,Np);var fc=[3,p,ei,0,[rJ,ete],[()=>Ine,65]],dU=[-3,p,iJ,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(dU,dp);var pU=[3,p,hJ,0,[pn],[()=>Mr]],mU=[3,p,wJ,0,[NJ,$m,Js,lc,Kt],[()=>tne,64,2,0,128]],fU=[3,p,PJ,0,[km,DJ],[0,0]],hU=[3,p,vJ,0,[pc,qE,PX,kE],[0,0,0,0]],Bb=[3,p,xJ,0,[Z,pc,WE],[0,0,()=>Ob]],Fb=[3,p,RJ,0,[Z,pc,qE,WE],[0,0,0,()=>Ob]],gU=[-3,p,HJ,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(gU,fp);var yU=[3,p,$J,0,[Z,ti,$te,Lte,rQ,FE],[0,1,4,4,0,0]],SU=[3,p,LJ,0,[_$,jJ],[()=>Fre,0]],EU=[3,p,UJ,0,[Z,kr,s1],[0,0,1]],bU=[3,p,BJ,0,[A$,kr],[()=>jre,0]],TU=[3,p,zJ,0,[mn,s1,kr],[0,1,0]],_U=[3,p,VJ,0,[U$,kr],[()=>qre,0]],wU=[3,p,YJ,0,[nQ,ti,Tt],[0,1,0]],IU=[3,p,XJ,0,[ZQ,qJ],[()=>Xre,0]],vU=[3,p,ZJ,0,[mn,GZ,kr],[0,1,0]],AU=[3,p,eZ,0,[Z$,kr],[()=>Zre,0]],CU=[3,p,uZ,0,[iQ,ti],[0,1]],xU=[3,p,dZ,0,[Nte,WJ],[64,0]],RU=[3,p,mZ,0,[ni,kr],[0,0]],PU=[3,p,fZ,0,[wb,kr],[()=>Qb,0]],DU=[3,p,aZ,0,[Ne,Yt,po],[0,()=>dr,()=>mo]],NU=[3,p,nZ,0,[Ne,Yt,po,J$,ac,X$],[0,()=>dr,()=>mo,1,1,0]],OU=[3,p,sZ,0,[Ne,Yt,po],[0,()=>dr,()=>mo]],$t=[3,p,cr,0,[a1,SZ],[1,1]],si=[3,p,lo,0,[a1],[1]],kU=[3,p,qZ,0,[gb,sb,$r],[0,()=>Xb,0]],$U=[3,p,u1,0,[DZ,I1,tQ,tZ],[0,1,4,4]],LU=[3,p,d1,0,[PZ,I1],[2,1]],MU=[-3,p,NZ,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(MU,Rp);var UU=[-3,p,OZ,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(UU,bp);var mo=[3,p,po,0,[KZ,TZ],[0,64]],ur=[3,p,lr,0,[uc,Vm],[1,1]],Gb=[3,p,VZ,0,[JJ,FJ,_Z,uc,Vm],[4,4,1,1,1]],BU=[-3,p,WZ,{[ue]:pe},[ye,Y1],[0,()=>Jb]];ae.TypeRegistry.for(p).registerError(BU,lp);var ii=[3,p,uo,0,[uc],[1]],FU=[3,p,b1,0,[pn,Z,Wo,Kt,un,$r],[()=>eT,0,0,128,()=>gn,0]],GU=[3,p,CZ,0,[Z,pn,XE,db,kt,dc,ic,Wo,Kt,un,$r],[0,()=>eT,()=>Zb,0,0,0,0,0,128,()=>gn,0]],jU=[3,p,RZ,0,[LE,Ct,ei],[()=>Mr,()=>hn,()=>fc]],HU=[3,p,m1,0,[pn],[()=>eT]],qU=[3,p,BZ,0,[ni,E1,$$,R7],[0,0,0,[2,{[Ore]:Ure}]]],zU=[3,p,FZ,0,[ab],[0]],VU=[3,p,JZ,0,[Z,Ne,q1,$m,ti,Js,t1,QZ,ic,ote,M$,kt,lc,q$,IJ,Kt,un],[0,0,0,64,1,2,()=>vne,()=>SF,0,2,()=>xt,0,0,0,0,128,()=>gn]],WU=[3,p,ZZ,0,[nb,D$,O1,ob,Ct],[()=>Jm,1,1,()=>xt,()=>hn]],KU=[3,p,Yee,0,[Tt],[0]],YU=[-3,p,eee,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(YU,Op);var XU=[3,p,tee,0,[Tt,Nr,v1,C1,cb],[0,()=>dne,()=>ln,()=>ln,0]],QU=[3,p,nee,0,[Tt,bee,Nee],[0,()=>pne,()=>fn]],JU=[3,p,iee,0,[Tt,cb,kee,Mee,Fm,uo,lo,Lr,Nr,wee,D1],[0,0,0,0,0,()=>ii,()=>si,()=>zb,()=>mne,4,()=>Ym]],ZU=[3,p,cee,0,[Ne,uo,lo],[0,()=>ii,()=>si]],eB=[3,p,lee,0,[Ne,tb,f1,g1],[0,0,()=>ln,()=>ln]],tB=[3,p,dee,0,[Ne,MZ],[0,()=>fn]],rB=[3,p,mee,0,[Ne,uo,lo,Lr],[0,()=>ii,()=>si,()=>$b]],nB=[3,p,yee,0,[Ne,tb,h1,f1,S1,g1],[0,0,1,()=>ln,1,()=>ln]],oB=[3,p,_1,0,[Ne,h1,LZ],[0,1,()=>fn]],sB=[-3,p,xee,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(sB,kp);var iB=[3,p,Lee,0,[Tt,cb,see,A1,v1,Oee,C1,gee,D1],[0,0,()=>Rb,1,()=>ln,1,()=>ln,()=>fne,()=>Ym]],aB=[3,p,R1,0,[Tt,A1,Dee,_1,Bee],[0,1,()=>fn,()=>hne,0]],cB=[-3,p,Kee,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(cB,pp);var lB=[3,p,Tee,0,[Um,zm,Zs],[()=>$L,()=>eF,()=>WL]],uB=[3,p,Vee,0,[Um,Zs],[()=>kL,()=>VL]],dB=[-3,p,Cee,{[ue]:pe},[ye,Y1],[0,()=>Jb]];ae.TypeRegistry.for(p).registerError(dB,ip);var pB=[-3,p,vee,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(pB,Sp);var mB=[-3,p,Ree,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(mB,up);var fB=[3,p,P1,0,[Qee,G1,T1,Iee],[0,0,4,2]],hB=[3,p,Gee,0,[J1,oc,S$,W$,n1,uo,lo,U1],[0,0,0,()=>Qm,()=>Yb,()=>ur,()=>$t,()=>ai]],gB=[3,p,jee,0,[oi],[()=>Ko]],yB=[3,p,qee,0,[G1,ute,J1,gre,T1,S$,W$,n1,uo,lo,U1],[0,0,0,2,4,0,()=>Qm,()=>Yb,()=>ur,()=>$t,()=>ai]],SB=[3,p,zee,0,[oi],[()=>Ko]],Km=[3,p,jm,0,[mb,pb,ste],[0,0,0]],EB=[3,p,rte,0,[Z,Ne,$m,ti,q1,tte,ic,M$,kt,Fte,fte,lc,q$,Kt,un,Js],[0,0,64,1,0,()=>SF,0,()=>xt,0,1,1,0,0,128,()=>gn,2]],bB=[3,p,ite,0,[nb,D$,O1,ob,Ct],[()=>Jm,1,1,()=>xt,()=>hn]],TB=[3,p,j1,0,[Z,mc,mn,X1,Yt,gte,lr,cr,ac,sc],[0,0,0,1,()=>dr,4,()=>ur,()=>$t,1,0]],_B=[3,p,H1,0,[cc,Nr,Jee,Tb,fb],[()=>sne,()=>Wre,()=>hc,()=>Vb,()=>jb]],jb=[3,p,fb,0,[yb,B1,CJ,aJ],[0,0,0,4]],ai=[3,p,qm,0,[G$,B1,Fm],[2,0,0]],hc=[3,p,Hm,0,[Zee,dte],[2,0]],wB=[-3,p,hte,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(wB,Dp);var Hb=[3,p,Sb,0,[Z,Q1,N1],[0,0,()=>lne]],Ym=[3,p,W1,0,[Eb,o1],[0,4]],qb=[3,p,bb,0,[Z,nc,Yt,sc,lr,cr,qm,Nr],[0,()=>Xm,()=>dr,0,()=>ur,()=>$t,()=>ai,()=>Qm]],Ko=[3,p,oi,0,[nc,Z,Yt,Q1,v$,lr,X1,ac,mn,mc,E$,cc,Nr,Hm,cZ,rZ,VQ,N1,WQ,P1,fb,p$,W1,HE,cr,Lr,i1],[()=>Xm,0,()=>dr,0,4,()=>Gb,1,1,0,0,()=>Rb,()=>one,()=>Vre,()=>hc,0,0,0,()=>pF,()=>Qre,()=>fB,()=>jb,()=>oL,()=>Ym,2,()=>$t,()=>zb,0]],IB=[-3,p,Ate,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(IB,hp);var vB=[-3,p,Dte,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(vB,gp);var zb=[3,p,Wte,0,[lb,Ab,yb],[1,1,0]],AB=[3,p,Kte,0,[Or,vb],[0,0]],CB=[3,p,Ote,0,[ni,wb],[0,()=>Qb]],xB=[-3,p,Ete,{[Nre]:["Throttling",400],[ue]:pe,[rL]:400},[ye,Mre],[0,()=>Jb]];ae.TypeRegistry.for(p).registerError(xB,ap);var RB=[3,p,Ute,0,[kre,$re],[0,0]],Vb=[3,p,Tb,0,[Gte,km],[0,0]],Wb=[3,p,_b,0,[G$,km],[2,0]],PB=[3,p,bte,0,[V$],[()=>UM]],DB=[3,p,Tte,0,[K1,kt],[()=>Ene,0]],NB=[3,p,wte,0,[Ct,Gm],[()=>li,()=>dF]],OB=[-3,p,yte,{[ue]:pe},[ri,D7],[0,()=>Gre]];ae.TypeRegistry.for(p).registerError(OB,Mp);var kB=[-3,p,Ste,{[ue]:pe},[ye],[0]];ae.TypeRegistry.for(p).registerError(kB,Ep);var $B=[-3,p,vte,{[ue]:pe},[ri],[0]];ae.TypeRegistry.for(p).registerError($B,Ap);var LB=[3,p,jte,0,[I$,b1,Zs,zm],[()=>vL,()=>FU,()=>BL,()=>FB]],MB=[3,p,Hte,0,[K1,kt,dc,x$],[()=>bne,0,0,[0,4]]],UB=[3,p,zte,0,[Ct,ei],[()=>li,()=>EF]],BB=[3,p,Ere,0,[ni,Cte],[0,64]],FB=[3,p,zm,0,[Or,tL,Z,Wo,Kt,un,$r],[()=>xt,0,0,0,128,()=>gn,0]],GB=[3,p,Xte,0,[Z,d1],[0,()=>LU]],jB=[3,p,Qte,0,[GE],[()=>Nb]],HB=[3,p,Zte,0,[Z,Ne,T7,Lm],[0,0,0,0]],qB=[3,p,ere,0,[Z,Ne,jE,Lm],[0,0,0,0]],zB=[3,p,tre,0,[Ne,lr,cr,Lr],[0,()=>ur,()=>$t,()=>ci]],VB=[3,p,nre,0,[dn,ub],[0,()=>Sne]],WB=[3,p,ore,0,[Bm],[()=>Wm]],KB=[3,p,ire,0,[dn,BQ,qQ,HQ,Y$,R1],[0,0,1,()=>fn,()=>Yre,()=>gne]],YB=[3,p,are,0,[dn,x1],[0,()=>hF]],XB=[3,p,lre,0,[Z,Or,h$,XE,ic,db,kt,dc,tL,Wo,Kt,un,$r],[0,()=>xt,()=>_ne,()=>Zb,0,0,0,0,0,0,128,()=>gn,0]],QB=[3,p,ure,0,[LE,Ct,ei],[()=>Mr,()=>hn,()=>fc]],Kb=[3,p,Ib,0,[kE],[0]],JB=[3,p,fre,0,[Z,pc,Ib],[0,0,()=>Kb]],ZB=[3,p,hre,0,[Z,pc,qE,Ib],[0,0,0,()=>Kb]],eF=[3,p,Sre,0,[Tt,Fm,uo,lo,Nr,V1],[0,0,()=>ii,()=>si,()=>mF,0]],tF=[3,p,Tre,0,[nc,Z,sc,lr,K$,Hm,qm,ub,Eb,HE,i1,JQ,cr,Lr],[()=>Xm,0,0,()=>ur,()=>Kre,()=>hc,()=>ai,()=>yne,0,2,0,()=>Jre,()=>$t,()=>ci]],rF=[3,p,_re,0,[oi],[()=>Ko]],nF=[3,p,Ire,0,[K$,Z,y1,ub],[()=>zre,0,()=>fn,()=>une]],oF=[3,p,vre,0,[Sb],[()=>Hb]],sF=[3,p,Cre,0,[Z,_b],[0,()=>Wb]],iF=[3,p,xre,0,[_b],[()=>Wb]],ci=[3,p,Lr,0,[lb,Ab],[1,1]],aF=[3,p,Rre,0,[m1,N$],[()=>HU,()=>KL]],cF="unit",lF=[-3,nL,"DynamoDBServiceException",0,[],[]];ae.TypeRegistry.for(nL).registerError(lF,se);var Xm=[1,p,nc,0,()=>sL],uF=[1,p,$E,0,()=>Xt],Bre=[1,p,P9,0,()=>aL],Fre=[1,p,_$,0,()=>mL],Gre=[1,p,x7,0,()=>wL],li=[1,p,h7,0,()=>hn],jre=[1,p,A$,0,()=>CL],Hre=[1,p,F$,0,()=>AM],qre=[1,p,U$,0,()=>kM],zre=[1,p,CQ,0,()=>qM],Vre=[1,p,RQ,0,()=>zM],Wre=[1,p,Nr,0,()=>VM],Qm=[1,p,DQ,0,()=>HM],Kre=[1,p,OQ,0,()=>WM],Yre=[1,p,FQ,0,()=>XM],Xre=[1,p,GQ,0,()=>KM],Qre=[1,p,YQ,0,()=>JM],Jre=[1,p,QQ,0,()=>ZM],Zre=[1,p,Z$,0,()=>nU],ene=[1,p,oJ,0,()=>fc],Jm=[1,p,dJ,0,()=>Mr],dF=[1,p,gJ,0,()=>pU],tne=[1,p,AJ,0,()=>xt],dr=[1,p,Yt,0,()=>fU],rne=[1,p,r1,0,()=>hU],nne=[1,p,OJ,0,()=>Xt],one=[1,p,oZ,0,()=>NU],sne=[1,p,cc,0,()=>OU],Yb=[1,p,iZ,0,()=>DU],ine=[1,p,zZ,0,()=>kU],ane=[1,p,kZ,0,()=>EL],cne=[1,p,$Z,0,()=>bL],Xb=[1,p,HZ,0,()=>Xt],lne=[1,p,ree,0,()=>XU],une=[1,p,oee,0,()=>QU],pF=[1,p,aee,0,()=>JU],dne=[1,p,uee,0,()=>eB],pne=[1,p,pee,0,()=>tB],mne=[1,p,fee,0,()=>rB],mF=[1,p,hee,0,()=>ZU],fne=[1,p,See,0,()=>nB],hne=[1,p,Eee,0,()=>oB],fF=[1,p,Aee,0,()=>KU],hF=[1,p,$ee,0,()=>iB],gne=[1,p,Uee,0,()=>aB],yne=[1,p,_ee,0,()=>lB],Sne=[1,p,Wee,0,()=>uB],Qb=[1,p,xte,0,()=>AB],Jb=[1,p,kte,0,()=>RB],Ene=[1,p,_te,0,()=>PB],bne=[1,p,qte,0,()=>LB],Tne=[1,p,Pre,0,()=>aF],Mr=[2,p,v9,0,0,()=>Xt],_ne=[2,p,h$,0,0,()=>iL],gF=[2,p,K9,0,0,()=>mU],wne=[2,p,W9,0,0,()=>Jm],yF=[2,p,a7,0,0,()=>Tne],Zb=[2,p,qX,0,0,()=>DM],gn=[2,p,zX,0,0,()=>Xt],SF=[2,p,EQ,0,0,()=>Db],Ine=[2,p,nJ,0,0,()=>Xt],EF=[2,p,sJ,0,0,()=>ene],xt=[2,p,Or,0,0,()=>Xt],vne=[2,p,t1,0,0,()=>Db],Ane=[2,p,yZ,0,0,()=>Xt],eT=[2,p,xZ,0,0,()=>Xt],d$=[2,p,nte,0,0,()=>Pb],Xt=[4,p,M9,0,[pte,bZ,c7,lte,wZ,r7,EZ,gZ,IZ,Q9],[0,0,21,64,64,85,()=>Ane,()=>nne,2,2]],bF=[9,p,G9,0,()=>fL,()=>hL],TF=[9,p,q9,0,()=>gL,()=>yL],_F=[9,p,o7,0,()=>TL,()=>_L],wF=[9,p,l7,0,()=>xL,()=>RL],IF=[9,p,y7,0,()=>DL,()=>NL],vF=[9,p,k7,0,()=>LL,()=>ML],AF=[9,p,B7,0,()=>FL,()=>GL],CF=[9,p,dX,0,()=>qL,()=>zL],xF=[9,p,CX,0,()=>YL,()=>XL],RF=[9,p,DX,0,()=>QL,()=>JL],PF=[9,p,q7,0,()=>ZL,()=>eM],DF=[9,p,z7,0,()=>tM,()=>rM],NF=[9,p,K7,0,()=>nM,()=>oM],OF=[9,p,Q7,0,()=>sM,()=>iM],kF=[9,p,rX,0,()=>aM,()=>cM],$F=[9,p,oX,0,()=>lM,()=>uM],LF=[9,p,aX,0,()=>dM,()=>pM],MF=[9,p,yX,0,()=>mM,()=>fM],UF=[9,p,SX,0,()=>hM,()=>gM],BF=[9,p,_X,0,()=>yM,()=>SM],FF=[9,p,jX,0,()=>EM,()=>bM],GF=[9,p,LX,0,()=>TM,()=>_M],jF=[9,p,BX,0,()=>wM,()=>IM],HF=[9,p,TX,0,()=>Bb,()=>Fb],qF=[9,p,QX,0,()=>Bb,()=>Fb],zF=[9,p,cQ,0,()=>CM,()=>xM],VF=[9,p,hQ,0,()=>RM,()=>PM],WF=[9,p,pQ,0,()=>$M,()=>LM],KF=[9,p,bQ,0,()=>BM,()=>FM],YF=[9,p,wQ,0,()=>GM,()=>jM],XF=[9,p,bJ,0,()=>oU,()=>sU],QF=[9,p,kJ,0,()=>yU,()=>SU],JF=[9,p,MJ,0,()=>EU,()=>bU],ZF=[9,p,GJ,0,()=>TU,()=>_U],eG=[9,p,KJ,0,()=>wU,()=>IU],tG=[9,p,QJ,0,()=>vU,()=>AU],rG=[9,p,lZ,0,()=>CU,()=>xU],nG=[9,p,pZ,0,()=>RU,()=>PU],oG=[9,p,vZ,0,()=>GU,()=>jU],sG=[9,p,UZ,0,()=>qU,()=>zU],iG=[9,p,XZ,0,()=>VU,()=>WU],aG=[9,p,Fee,0,()=>hB,()=>gB],cG=[9,p,Hee,0,()=>yB,()=>SB],lG=[9,p,mte,0,()=>EB,()=>bB],uG=[9,p,Mte,0,()=>CB,()=>cF],dG=[9,p,Ite,0,()=>DB,()=>NB],pG=[9,p,Vte,0,()=>MB,()=>UB],mG=[9,p,yre,0,()=>BB,()=>cF],fG=[9,p,Yte,0,()=>GB,()=>jB],hG=[9,p,Jte,0,()=>HB,()=>qB],gG=[9,p,rre,0,()=>VB,()=>WB],yG=[9,p,sre,0,()=>KB,()=>YB],SG=[9,p,dre,0,()=>XB,()=>QB],EG=[9,p,mre,0,()=>JB,()=>ZB],bG=[9,p,bre,0,()=>tF,()=>rF],TG=[9,p,wre,0,()=>nF,()=>oF],_G=[9,p,Are,0,()=>sF,()=>iF],Xa=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(OF).build(){},Cne=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},xne=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Rne=(e,t)=>{let r=Object.assign(l$.getAwsRegionExtensionConfiguration(e),L.getDefaultExtensionConfiguration(e),u$.getHttpHandlerExtensionConfiguration(e),Cne(e));return t.forEach(n=>n.configure(r)),Object.assign(e,l$.resolveAwsRegionExtensionConfiguration(r),L.resolveDefaultRuntimeConfig(r),u$.resolveHttpHandlerRuntimeConfig(r),xne(r))},Dr=class extends L.Client{config;constructor(...[t]){let r=E9.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=b9(r),o=m9.resolveAccountIdEndpointModeConfig(n),s=i$.resolveUserAgentConfig(o),i=a$.resolveRetryConfig(s),a=y9.resolveRegionConfig(i),c=s$.resolveHostHeaderConfig(a),l=F.resolveEndpointConfig(c),d=c$.resolveHttpAuthSchemeConfig(l),m=f9.resolveEndpointDiscoveryConfig(d,{endpointDiscoveryCommandCtor:Xa}),y=Rne(m,t?.extensions||[]);this.config=y,this.middlewareStack.use(ae.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(i$.getUserAgentPlugin(this.config)),this.middlewareStack.use(a$.getRetryPlugin(this.config)),this.middlewareStack.use(S9.getContentLengthPlugin(this.config)),this.middlewareStack.use(s$.getHostHeaderPlugin(this.config)),this.middlewareStack.use(h9.getLoggerPlugin(this.config)),this.middlewareStack.use(g9.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(cn.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:c$.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new cn.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(cn.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Up=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").sc(bF).build(){},Bp=class extends L.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").sc(TF).build(){},Fp=class extends L.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").sc(_F).build(){},Gp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").sc(wF).build(){},jp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").sc(IF).build(){},Hp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").sc(vF).build(){},qp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").sc(AF).build(){},zp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").sc(CF).build(){},Vp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").sc(xF).build(){},Wp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").sc(RF).build(){},Kp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").sc(PF).build(){},Yp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").sc(DF).build(){},Xp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").sc(NF).build(){},Qp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").sc(kF).build(){},Jp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").sc($F).build(){},Zp=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").sc(LF).build(){},em=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").sc(MF).build(){},tm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").sc(UF).build(){},rm=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").sc(BF).build(){},Qs=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").sc(FF).build(){},nm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").sc(GF).build(){},om=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").sc(jF).build(){},sm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").sc(HF).build(){},im=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").sc(qF).build(){},am=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").sc(zF).build(){},cm=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").sc(VF).build(){},lm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").sc(WF).build(){},um=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(KF).build(){},dm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").sc(YF).build(){},pm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"operationContextParams",get:t=>t?.TableCreationParameters?.TableName}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").sc(XF).build(){},mm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").sc(QF).build(){},Qa=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").sc(JF).build(){},Ja=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").sc(ZF).build(){},fm=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").sc(eG).build(){},Za=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").sc(tG).build(){},ec=class extends L.Command.classBuilder().ep(G).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").sc(rG).build(){},hm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").sc(nG).build(){},gm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").sc(oG).build(){},ym=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").sc(sG).build(){},tc=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").sc(iG).build(){},Sm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").sc(aG).build(){},Em=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").sc(cG).build(){},rc=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").sc(lG).build(){},bm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").sc(uG).build(){},Tm=class extends L.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>r?.Get?.TableName)}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").sc(dG).build(){},_m=class extends L.Command.classBuilder().ep({...G,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>[r?.ConditionCheck?.TableName,r?.Put?.TableName,r?.Delete?.TableName,r?.Update?.TableName].filter(n=>n)).flat()}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").sc(pG).build(){},wm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").sc(mG).build(){},Im=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").sc(fG).build(){},vm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").sc(hG).build(){},Am=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").sc(gG).build(){},Cm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").sc(yG).build(){},xm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").sc(SG).build(){},Rm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").sc(EG).build(){},Pm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").sc(bG).build(){},Dm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").sc(TG).build(){},Nm=class extends L.Command.classBuilder().ep({...G,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,o){return[F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").sc(_G).build(){},Pne={BatchExecuteStatementCommand:Up,BatchGetItemCommand:Bp,BatchWriteItemCommand:Fp,CreateBackupCommand:Gp,CreateGlobalTableCommand:jp,CreateTableCommand:Hp,DeleteBackupCommand:qp,DeleteItemCommand:zp,DeleteResourcePolicyCommand:Vp,DeleteTableCommand:Wp,DescribeBackupCommand:Kp,DescribeContinuousBackupsCommand:Yp,DescribeContributorInsightsCommand:Xp,DescribeEndpointsCommand:Xa,DescribeExportCommand:Qp,DescribeGlobalTableCommand:Jp,DescribeGlobalTableSettingsCommand:Zp,DescribeImportCommand:em,DescribeKinesisStreamingDestinationCommand:tm,DescribeLimitsCommand:rm,DescribeTableCommand:Qs,DescribeTableReplicaAutoScalingCommand:nm,DescribeTimeToLiveCommand:om,DisableKinesisStreamingDestinationCommand:sm,EnableKinesisStreamingDestinationCommand:im,ExecuteStatementCommand:am,ExecuteTransactionCommand:cm,ExportTableToPointInTimeCommand:lm,GetItemCommand:um,GetResourcePolicyCommand:dm,ImportTableCommand:pm,ListBackupsCommand:mm,ListContributorInsightsCommand:Qa,ListExportsCommand:Ja,ListGlobalTablesCommand:fm,ListImportsCommand:Za,ListTablesCommand:ec,ListTagsOfResourceCommand:hm,PutItemCommand:gm,PutResourcePolicyCommand:ym,QueryCommand:tc,RestoreTableFromBackupCommand:Sm,RestoreTableToPointInTimeCommand:Em,ScanCommand:rc,TagResourceCommand:bm,TransactGetItemsCommand:Tm,TransactWriteItemsCommand:_m,UntagResourceCommand:wm,UpdateContinuousBackupsCommand:Im,UpdateContributorInsightsCommand:vm,UpdateGlobalTableCommand:Am,UpdateGlobalTableSettingsCommand:Cm,UpdateItemCommand:xm,UpdateKinesisStreamingDestinationCommand:Rm,UpdateTableCommand:Pm,UpdateTableReplicaAutoScalingCommand:Dm,UpdateTimeToLiveCommand:Nm},Om=class extends Dr{};L.createAggregatedClient(Pne,Om);var Dne=cn.createPaginator(Dr,Qa,"NextToken","NextToken","MaxResults"),Nne=cn.createPaginator(Dr,Ja,"NextToken","NextToken","MaxResults"),One=cn.createPaginator(Dr,Za,"NextToken","NextToken","PageSize"),kne=cn.createPaginator(Dr,ec,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),$ne=cn.createPaginator(Dr,tc,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Lne=cn.createPaginator(Dr,rc,"ExclusiveStartKey","LastEvaluatedKey","Limit"),wG=async(e,t)=>{let r;try{let n=await e.send(new Qs(t));r=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:ar.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:ar.WaiterState.RETRY,reason:r}}return{state:ar.WaiterState.RETRY,reason:r}},Mne=async(e,t)=>{let r={minDelay:20,maxDelay:120};return ar.createWaiter({...r,...e},t,wG)},Une=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await ar.createWaiter({...r,...e},t,wG);return ar.checkExceptions(n)},IG=async(e,t)=>{let r;try{r=await e.send(new Qs(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:ar.WaiterState.SUCCESS,reason:r}}return{state:ar.WaiterState.RETRY,reason:r}},Bne=async(e,t)=>{let r={minDelay:20,maxDelay:120};return ar.createWaiter({...r,...e},t,IG)},Fne=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await ar.createWaiter({...r,...e},t,IG);return ar.checkExceptions(n)},Gne={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},jne={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},Hne={B:"B",N:"N",S:"S"},qne={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},zne={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},Vne={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},Wne={HASH:"HASH",RANGE:"RANGE"},Kne={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},Yne={AES256:"AES256",KMS:"KMS"},Xne={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},Qne={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},Jne={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},Zne={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},eoe={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},toe={ALL_OLD:"ALL_OLD",NONE:"NONE"},roe={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},noe={NONE:"NONE",SIZE:"SIZE"},ooe={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},soe={AND:"AND",OR:"OR"},ioe={DISABLED:"DISABLED",ENABLED:"ENABLED"},aoe={DISABLED:"DISABLED",ENABLED:"ENABLED"},coe={DISABLE:"DISABLE",ENABLE:"ENABLE"},loe={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},uoe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},doe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},poe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},moe={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},foe={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},hoe={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},goe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},yoe={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},Soe={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},Eoe={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},boe={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Toe={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},_oe={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},woe={AES256:"AES256",KMS:"KMS"},Ioe={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},voe={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},Aoe={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},Coe={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},xoe={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"};Object.defineProperty(u,"$Command",{enumerable:!0,get:function(){return L.Command}});Object.defineProperty(u,"__Client",{enumerable:!0,get:function(){return L.Client}});u.ApproximateCreationDateTimePrecision=Gne;u.ArchivalSummary$=oL;u.AttributeAction=jne;u.AttributeDefinition$=sL;u.AttributeValue$=Xt;u.AttributeValueUpdate$=iL;u.AutoScalingPolicyDescription$=aL;u.AutoScalingPolicyUpdate$=cL;u.AutoScalingSettingsDescription$=ln;u.AutoScalingSettingsUpdate$=fn;u.AutoScalingTargetTrackingScalingPolicyConfigurationDescription$=lL;u.AutoScalingTargetTrackingScalingPolicyConfigurationUpdate$=uL;u.BackupDescription$=Cb;u.BackupDetails$=xb;u.BackupInUseException=np;u.BackupInUseException$=dL;u.BackupNotFoundException=op;u.BackupNotFoundException$=pL;u.BackupStatus=qne;u.BackupSummary$=mL;u.BackupType=zne;u.BackupTypeFilter=Zne;u.BatchExecuteStatement$=bF;u.BatchExecuteStatementCommand=Up;u.BatchExecuteStatementInput$=fL;u.BatchExecuteStatementOutput$=hL;u.BatchGetItem$=TF;u.BatchGetItemCommand=Bp;u.BatchGetItemInput$=gL;u.BatchGetItemOutput$=yL;u.BatchStatementError$=SL;u.BatchStatementErrorCodeEnum=roe;u.BatchStatementRequest$=EL;u.BatchStatementResponse$=bL;u.BatchWriteItem$=_F;u.BatchWriteItemCommand=Fp;u.BatchWriteItemInput$=TL;u.BatchWriteItemOutput$=_L;u.BillingMode=Vne;u.BillingModeSummary$=Rb;u.CancellationReason$=wL;u.Capacity$=Pb;u.ComparisonOperator=ooe;u.Condition$=Db;u.ConditionCheck$=vL;u.ConditionalCheckFailedException=Lp;u.ConditionalCheckFailedException$=IL;u.ConditionalOperator=soe;u.ConsumedCapacity$=hn;u.ContinuousBackupsDescription$=Nb;u.ContinuousBackupsStatus=ioe;u.ContinuousBackupsUnavailableException=mp;u.ContinuousBackupsUnavailableException$=AL;u.ContributorInsightsAction=coe;u.ContributorInsightsMode=loe;u.ContributorInsightsStatus=uoe;u.ContributorInsightsSummary$=CL;u.CreateBackup$=wF;u.CreateBackupCommand=Gp;u.CreateBackupInput$=xL;u.CreateBackupOutput$=RL;u.CreateGlobalSecondaryIndexAction$=PL;u.CreateGlobalTable$=IF;u.CreateGlobalTableCommand=jp;u.CreateGlobalTableInput$=DL;u.CreateGlobalTableOutput$=NL;u.CreateGlobalTableWitnessGroupMemberAction$=OL;u.CreateReplicaAction$=kL;u.CreateReplicationGroupMemberAction$=$L;u.CreateTable$=vF;u.CreateTableCommand=Hp;u.CreateTableInput$=LL;u.CreateTableOutput$=ML;u.CsvOptions$=UL;u.Delete$=BL;u.DeleteBackup$=AF;u.DeleteBackupCommand=qp;u.DeleteBackupInput$=FL;u.DeleteBackupOutput$=GL;u.DeleteGlobalSecondaryIndexAction$=jL;u.DeleteGlobalTableWitnessGroupMemberAction$=HL;u.DeleteItem$=CF;u.DeleteItemCommand=zp;u.DeleteItemInput$=qL;u.DeleteItemOutput$=zL;u.DeleteReplicaAction$=VL;u.DeleteReplicationGroupMemberAction$=WL;u.DeleteRequest$=KL;u.DeleteResourcePolicy$=xF;u.DeleteResourcePolicyCommand=Vp;u.DeleteResourcePolicyInput$=YL;u.DeleteResourcePolicyOutput$=XL;u.DeleteTable$=RF;u.DeleteTableCommand=Wp;u.DeleteTableInput$=QL;u.DeleteTableOutput$=JL;u.DescribeBackup$=PF;u.DescribeBackupCommand=Kp;u.DescribeBackupInput$=ZL;u.DescribeBackupOutput$=eM;u.DescribeContinuousBackups$=DF;u.DescribeContinuousBackupsCommand=Yp;u.DescribeContinuousBackupsInput$=tM;u.DescribeContinuousBackupsOutput$=rM;u.DescribeContributorInsights$=NF;u.DescribeContributorInsightsCommand=Xp;u.DescribeContributorInsightsInput$=nM;u.DescribeContributorInsightsOutput$=oM;u.DescribeEndpoints$=OF;u.DescribeEndpointsCommand=Xa;u.DescribeEndpointsRequest$=sM;u.DescribeEndpointsResponse$=iM;u.DescribeExport$=kF;u.DescribeExportCommand=Qp;u.DescribeExportInput$=aM;u.DescribeExportOutput$=cM;u.DescribeGlobalTable$=$F;u.DescribeGlobalTableCommand=Jp;u.DescribeGlobalTableInput$=lM;u.DescribeGlobalTableOutput$=uM;u.DescribeGlobalTableSettings$=LF;u.DescribeGlobalTableSettingsCommand=Zp;u.DescribeGlobalTableSettingsInput$=dM;u.DescribeGlobalTableSettingsOutput$=pM;u.DescribeImport$=MF;u.DescribeImportCommand=em;u.DescribeImportInput$=mM;u.DescribeImportOutput$=fM;u.DescribeKinesisStreamingDestination$=UF;u.DescribeKinesisStreamingDestinationCommand=tm;u.DescribeKinesisStreamingDestinationInput$=hM;u.DescribeKinesisStreamingDestinationOutput$=gM;u.DescribeLimits$=BF;u.DescribeLimitsCommand=rm;u.DescribeLimitsInput$=yM;u.DescribeLimitsOutput$=SM;u.DescribeTable$=FF;u.DescribeTableCommand=Qs;u.DescribeTableInput$=EM;u.DescribeTableOutput$=bM;u.DescribeTableReplicaAutoScaling$=GF;u.DescribeTableReplicaAutoScalingCommand=nm;u.DescribeTableReplicaAutoScalingInput$=TM;u.DescribeTableReplicaAutoScalingOutput$=_M;u.DescribeTimeToLive$=jF;u.DescribeTimeToLiveCommand=om;u.DescribeTimeToLiveInput$=wM;u.DescribeTimeToLiveOutput$=IM;u.DestinationStatus=Coe;u.DisableKinesisStreamingDestination$=HF;u.DisableKinesisStreamingDestinationCommand=sm;u.DuplicateItemException=Ip;u.DuplicateItemException$=vM;u.DynamoDB=Om;u.DynamoDBClient=Dr;u.DynamoDBServiceException=se;u.DynamoDBServiceException$=lF;u.EnableKinesisStreamingConfiguration$=Ob;u.EnableKinesisStreamingDestination$=qF;u.EnableKinesisStreamingDestinationCommand=im;u.Endpoint$=AM;u.ExecuteStatement$=zF;u.ExecuteStatementCommand=am;u.ExecuteStatementInput$=CM;u.ExecuteStatementOutput$=xM;u.ExecuteTransaction$=VF;u.ExecuteTransactionCommand=cm;u.ExecuteTransactionInput$=RM;u.ExecuteTransactionOutput$=PM;u.ExpectedAttributeValue$=DM;u.ExportConflictException=Cp;u.ExportConflictException$=NM;u.ExportDescription$=kb;u.ExportFormat=Eoe;u.ExportNotFoundException=Tp;u.ExportNotFoundException$=OM;u.ExportStatus=boe;u.ExportSummary$=kM;u.ExportTableToPointInTime$=WF;u.ExportTableToPointInTimeCommand=lm;u.ExportTableToPointInTimeInput$=$M;u.ExportTableToPointInTimeOutput$=LM;u.ExportType=Toe;u.ExportViewType=_oe;u.FailureException$=MM;u.Get$=UM;u.GetItem$=KF;u.GetItemCommand=um;u.GetItemInput$=BM;u.GetItemOutput$=FM;u.GetResourcePolicy$=YF;u.GetResourcePolicyCommand=dm;u.GetResourcePolicyInput$=GM;u.GetResourcePolicyOutput$=jM;u.GlobalSecondaryIndex$=HM;u.GlobalSecondaryIndexAutoScalingUpdate$=qM;u.GlobalSecondaryIndexDescription$=zM;u.GlobalSecondaryIndexInfo$=VM;u.GlobalSecondaryIndexUpdate$=WM;u.GlobalSecondaryIndexWarmThroughputDescription$=$b;u.GlobalTable$=KM;u.GlobalTableAlreadyExistsException=yp;u.GlobalTableAlreadyExistsException$=YM;u.GlobalTableDescription$=Wm;u.GlobalTableGlobalSecondaryIndexSettingsUpdate$=XM;u.GlobalTableNotFoundException=_p;u.GlobalTableNotFoundException$=QM;u.GlobalTableStatus=doe;u.GlobalTableWitnessDescription$=JM;u.GlobalTableWitnessGroupUpdate$=ZM;u.IdempotentParameterMismatchException=vp;u.IdempotentParameterMismatchException$=eU;u.ImportConflictException=Pp;u.ImportConflictException$=tU;u.ImportNotFoundException=wp;u.ImportNotFoundException$=rU;u.ImportStatus=Ioe;u.ImportSummary$=nU;u.ImportTable$=XF;u.ImportTableCommand=pm;u.ImportTableDescription$=Lb;u.ImportTableInput$=oU;u.ImportTableOutput$=sU;u.IncrementalExportSpecification$=Mb;u.IndexNotFoundException=$p;u.IndexNotFoundException$=iU;u.IndexStatus=poe;u.InputCompressionType=voe;u.InputFormat=Aoe;u.InputFormatOptions$=Ub;u.InternalServerError=sp;u.InternalServerError$=aU;u.InvalidEndpointException=cp;u.InvalidEndpointException$=cU;u.InvalidExportTimeException=xp;u.InvalidExportTimeException$=lU;u.InvalidRestoreTimeException=Np;u.InvalidRestoreTimeException$=uU;u.ItemCollectionMetrics$=fc;u.ItemCollectionSizeLimitExceededException=dp;u.ItemCollectionSizeLimitExceededException$=dU;u.ItemResponse$=pU;u.KeySchemaElement$=fU;u.KeyType=Wne;u.KeysAndAttributes$=mU;u.KinesisDataStreamDestination$=hU;u.KinesisStreamingDestinationInput$=Bb;u.KinesisStreamingDestinationOutput$=Fb;u.LimitExceededException=fp;u.LimitExceededException$=gU;u.ListBackups$=QF;u.ListBackupsCommand=mm;u.ListBackupsInput$=yU;u.ListBackupsOutput$=SU;u.ListContributorInsights$=JF;u.ListContributorInsightsCommand=Qa;u.ListContributorInsightsInput$=EU;u.ListContributorInsightsOutput$=bU;u.ListExports$=ZF;u.ListExportsCommand=Ja;u.ListExportsInput$=TU;u.ListExportsOutput$=_U;u.ListGlobalTables$=eG;u.ListGlobalTablesCommand=fm;u.ListGlobalTablesInput$=wU;u.ListGlobalTablesOutput$=IU;u.ListImports$=tG;u.ListImportsCommand=Za;u.ListImportsInput$=vU;u.ListImportsOutput$=AU;u.ListTables$=rG;u.ListTablesCommand=ec;u.ListTablesInput$=CU;u.ListTablesOutput$=xU;u.ListTagsOfResource$=nG;u.ListTagsOfResourceCommand=hm;u.ListTagsOfResourceInput$=RU;u.ListTagsOfResourceOutput$=PU;u.LocalSecondaryIndex$=DU;u.LocalSecondaryIndexDescription$=NU;u.LocalSecondaryIndexInfo$=OU;u.MultiRegionConsistency=yoe;u.OnDemandThroughput$=$t;u.OnDemandThroughputOverride$=si;u.ParameterizedStatement$=kU;u.PointInTimeRecoveryDescription$=$U;u.PointInTimeRecoverySpecification$=LU;u.PointInTimeRecoveryStatus=aoe;u.PointInTimeRecoveryUnavailableException=Rp;u.PointInTimeRecoveryUnavailableException$=MU;u.PolicyNotFoundException=bp;u.PolicyNotFoundException$=UU;u.Projection$=mo;u.ProjectionType=Kne;u.ProvisionedThroughput$=ur;u.ProvisionedThroughputDescription$=Gb;u.ProvisionedThroughputExceededException=lp;u.ProvisionedThroughputExceededException$=BU;u.ProvisionedThroughputOverride$=ii;u.Put$=FU;u.PutItem$=oG;u.PutItemCommand=gm;u.PutItemInput$=GU;u.PutItemOutput$=jU;u.PutRequest$=HU;u.PutResourcePolicy$=sG;u.PutResourcePolicyCommand=ym;u.PutResourcePolicyInput$=qU;u.PutResourcePolicyOutput$=zU;u.Query$=iG;u.QueryCommand=tc;u.QueryInput$=VU;u.QueryOutput$=WU;u.Replica$=KU;u.ReplicaAlreadyExistsException=Op;u.ReplicaAlreadyExistsException$=YU;u.ReplicaAutoScalingDescription$=XU;u.ReplicaAutoScalingUpdate$=QU;u.ReplicaDescription$=JU;u.ReplicaGlobalSecondaryIndex$=ZU;u.ReplicaGlobalSecondaryIndexAutoScalingDescription$=eB;u.ReplicaGlobalSecondaryIndexAutoScalingUpdate$=tB;u.ReplicaGlobalSecondaryIndexDescription$=rB;u.ReplicaGlobalSecondaryIndexSettingsDescription$=nB;u.ReplicaGlobalSecondaryIndexSettingsUpdate$=oB;u.ReplicaNotFoundException=kp;u.ReplicaNotFoundException$=sB;u.ReplicaSettingsDescription$=iB;u.ReplicaSettingsUpdate$=aB;u.ReplicaStatus=moe;u.ReplicaUpdate$=uB;u.ReplicatedWriteConflictException=pp;u.ReplicatedWriteConflictException$=cB;u.ReplicationGroupUpdate$=lB;u.RequestLimitExceeded=ip;u.RequestLimitExceeded$=dB;u.ResourceInUseException=Sp;u.ResourceInUseException$=pB;u.ResourceNotFoundException=up;u.ResourceNotFoundException$=mB;u.RestoreSummary$=fB;u.RestoreTableFromBackup$=aG;u.RestoreTableFromBackupCommand=Sm;u.RestoreTableFromBackupInput$=hB;u.RestoreTableFromBackupOutput$=gB;u.RestoreTableToPointInTime$=cG;u.RestoreTableToPointInTimeCommand=Em;u.RestoreTableToPointInTimeInput$=yB;u.RestoreTableToPointInTimeOutput$=SB;u.ReturnConsumedCapacity=eoe;u.ReturnItemCollectionMetrics=noe;u.ReturnValue=Soe;u.ReturnValuesOnConditionCheckFailure=toe;u.S3BucketSource$=Km;u.S3SseAlgorithm=woe;u.SSEDescription$=jb;u.SSESpecification$=ai;u.SSEStatus=Xne;u.SSEType=Yne;u.ScalarAttributeType=Hne;u.Scan$=lG;u.ScanCommand=rc;u.ScanInput$=EB;u.ScanOutput$=bB;u.Select=xoe;u.SourceTableDetails$=TB;u.SourceTableFeatureDetails$=_B;u.StreamSpecification$=hc;u.StreamViewType=Qne;u.TableAlreadyExistsException=Dp;u.TableAlreadyExistsException$=wB;u.TableAutoScalingDescription$=Hb;u.TableClass=foe;u.TableClassSummary$=Ym;u.TableCreationParameters$=qb;u.TableDescription$=Ko;u.TableInUseException=hp;u.TableInUseException$=IB;u.TableNotFoundException=gp;u.TableNotFoundException$=vB;u.TableStatus=hoe;u.TableWarmThroughputDescription$=zb;u.Tag$=AB;u.TagResource$=uG;u.TagResourceCommand=bm;u.TagResourceInput$=CB;u.ThrottlingException=ap;u.ThrottlingException$=xB;u.ThrottlingReason$=RB;u.TimeToLiveDescription$=Vb;u.TimeToLiveSpecification$=Wb;u.TimeToLiveStatus=Jne;u.TransactGetItem$=PB;u.TransactGetItems$=dG;u.TransactGetItemsCommand=Tm;u.TransactGetItemsInput$=DB;u.TransactGetItemsOutput$=NB;u.TransactWriteItem$=LB;u.TransactWriteItems$=pG;u.TransactWriteItemsCommand=_m;u.TransactWriteItemsInput$=MB;u.TransactWriteItemsOutput$=UB;u.TransactionCanceledException=Mp;u.TransactionCanceledException$=OB;u.TransactionConflictException=Ep;u.TransactionConflictException$=kB;u.TransactionInProgressException=Ap;u.TransactionInProgressException$=$B;u.UntagResource$=mG;u.UntagResourceCommand=wm;u.UntagResourceInput$=BB;u.Update$=FB;u.UpdateContinuousBackups$=fG;u.UpdateContinuousBackupsCommand=Im;u.UpdateContinuousBackupsInput$=GB;u.UpdateContinuousBackupsOutput$=jB;u.UpdateContributorInsights$=hG;u.UpdateContributorInsightsCommand=vm;u.UpdateContributorInsightsInput$=HB;u.UpdateContributorInsightsOutput$=qB;u.UpdateGlobalSecondaryIndexAction$=zB;u.UpdateGlobalTable$=gG;u.UpdateGlobalTableCommand=Am;u.UpdateGlobalTableInput$=VB;u.UpdateGlobalTableOutput$=WB;u.UpdateGlobalTableSettings$=yG;u.UpdateGlobalTableSettingsCommand=Cm;u.UpdateGlobalTableSettingsInput$=KB;u.UpdateGlobalTableSettingsOutput$=YB;u.UpdateItem$=SG;u.UpdateItemCommand=xm;u.UpdateItemInput$=XB;u.UpdateItemOutput$=QB;u.UpdateKinesisStreamingConfiguration$=Kb;u.UpdateKinesisStreamingDestination$=EG;u.UpdateKinesisStreamingDestinationCommand=Rm;u.UpdateKinesisStreamingDestinationInput$=JB;u.UpdateKinesisStreamingDestinationOutput$=ZB;u.UpdateReplicationGroupMemberAction$=eF;u.UpdateTable$=bG;u.UpdateTableCommand=Pm;u.UpdateTableInput$=tF;u.UpdateTableOutput$=rF;u.UpdateTableReplicaAutoScaling$=TG;u.UpdateTableReplicaAutoScalingCommand=Dm;u.UpdateTableReplicaAutoScalingInput$=nF;u.UpdateTableReplicaAutoScalingOutput$=oF;u.UpdateTimeToLive$=_G;u.UpdateTimeToLiveCommand=Nm;u.UpdateTimeToLiveInput$=sF;u.UpdateTimeToLiveOutput$=iF;u.WarmThroughput$=ci;u.WitnessStatus=goe;u.WriteRequest$=aF;u.paginateListContributorInsights=Dne;u.paginateListExports=Nne;u.paginateListImports=One;u.paginateListTables=kne;u.paginateQuery=$ne;u.paginateScan=Lne;u.waitForTableExists=Mne;u.waitForTableNotExists=Bne;u.waitUntilTableExists=Une;u.waitUntilTableNotExists=Fne});var $G=D(pi=>{"use strict";var di=class e{value;constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);let r=typeof t.valueOf()=="number"?t.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(t){return new e(t)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}},yc=(e,t)=>{if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return Zm();if(Array.isArray(e))return Roe(e,t);if(e?.constructor?.name==="Set")return Poe(e,t);if(e?.constructor?.name==="Map")return Doe(e,t);if(e?.constructor?.name==="Object"||!e.constructor&&typeof e=="object")return vG(e,t);if(kG(e))return e.length===0&&t?.convertEmptyValues?Zm():PG(e);if(typeof e=="boolean"||e?.constructor?.name==="Boolean")return{BOOL:e.valueOf()};if(typeof e=="number"||e?.constructor?.name==="Number")return OG(e,t);if(e instanceof di)return e.toAttributeValue();if(typeof e=="bigint")return NG(e);if(typeof e=="string"||e?.constructor?.name==="String")return e.length===0&&t?.convertEmptyValues?Zm():DG(e);if(t?.convertClassInstanceToMap&&typeof e=="object")return vG(e,t);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},Roe=(e,t)=>({L:e.filter(r=>typeof r!="function"&&(!t?.removeUndefinedValues||t?.removeUndefinedValues&&r!==void 0)).map(r=>yc(r,t))}),Poe=(e,t)=>{let r=t?.removeUndefinedValues?new Set([...e].filter(o=>o!==void 0)):e;if(!t?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(t?.convertEmptyValues)return Zm();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof di)return{NS:Array.from(r).map(o=>o.toString())};if(typeof n=="number")return{NS:Array.from(r).map(o=>OG(o,t)).map(o=>o.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(NG).map(o=>o.N)};if(typeof n=="string")return{SS:Array.from(r).map(DG).map(o=>o.S)};if(kG(n))return{BS:Array.from(r).map(PG).map(o=>o.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},Doe=(e,t)=>({M:(r=>{let n={};for(let[o,s]of r)typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=yc(s,t));return n})(e)}),vG=(e,t)=>({M:(r=>{let n={};for(let o in r){let s=r[o];typeof s!="function"&&(s!==void 0||!t?.removeUndefinedValues)&&(n[o]=yc(s,t))}return n})(e)}),Zm=()=>({NULL:!0}),PG=e=>({B:e}),DG=e=>({S:e.toString()}),NG=e=>({N:e.toString()}),AG=e=>{throw new Error(`${e} Use NumberValue from @aws-sdk/lib-dynamodb.`)},OG=(e,t)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return t?.allowImpreciseNumbers||(Number(e)>Number.MAX_SAFE_INTEGER?AG(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(e)<Number.MIN_SAFE_INTEGER&&AG(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:e.toString()}},kG=e=>{let t=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e?.constructor?t.includes(e.constructor.name):!1},gc=(e,t)=>{for(let[r,n]of Object.entries(e))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return CG(n,t);case"B":return RG(n);case"S":return xG(n);case"L":return Noe(n,t);case"M":return Ooe(n,t);case"NS":return new Set(n.map(o=>CG(o,t)));case"BS":return new Set(n.map(RG));case"SS":return new Set(n.map(xG));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},CG=(e,t)=>{if(typeof t?.wrapNumbers=="function")return t?.wrapNumbers(e);if(t?.wrapNumbers)return di.from(e);let r=Number(e),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},xG=e=>e,RG=e=>e,Noe=(e,t)=>e.map(r=>gc(r,t)),Ooe=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(r[n]=gc(o,t),r),{});function koe(e,t){let r=yc(e,t),[n,o]=Object.entries(r)[0];switch(n){case"M":case"L":return t?.convertTopLevelContainer?r:o;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}var $oe=(e,t)=>t?.convertWithoutMapWrapper?gc(e,t):gc({M:e},t);pi.NumberValueImpl=di;pi.convertToAttr=yc;pi.convertToNative=gc;pi.marshall=koe;pi.unmarshall=$oe});var Tc=D(Le=>{"use strict";var Lt=ui(),mf=ne(),Loe=(Ke(),ee(Zr)),rT=$G(),MG=(rt(),ee(vo)),Sc=null,X={},yn=[],LG="*",ef=(e,t,r)=>{if(e!==void 0){if(r==null)return t(e);{let n=Object.keys(r),o=n.length===1&&n[0]===LG,s=n.length>=1&&!o,i=n.length===0;if(s)return nT(e,t,r);if(i)return Moe(e,t,Sc);if(o)return Object.entries(e??{}).reduce((a,[c,l])=>(typeof l!="function"&&(a[c]=ef(l,t,r[LG])),a),Array.isArray(e)?[]:{})}}},nT=(e,t,r)=>{let n;if(Array.isArray(e))n=e.filter(o=>typeof o!="function");else{n={};for(let[o,s]of Object.entries(e))typeof s!="function"&&(n[o]=s)}for(let[o,s]of Object.entries(r)){if(typeof e[o]=="function")continue;let i=ef(e[o],t,s);i!==void 0&&typeof i!="function"&&(n[o]=i)}return n},Moe=(e,t,r)=>Array.isArray(e)?e.filter(n=>typeof n!="function").map(n=>ef(n,t,r)):Object.entries(e).reduce((n,[o,s])=>{if(typeof s=="function")return n;let i=ef(s,t,r);return i!==void 0&&typeof i!="function"&&(n[o]=i),n},{}),Uoe=(e,t,r)=>nT(e,o=>rT.marshall(o,r),t),Boe=(e,t,r)=>nT(e,o=>rT.unmarshall(o,r),t),mt=class extends mf.Command{addMarshallingMiddleware(t){let{marshallOptions:r={},unmarshallOptions:n={}}=t.translateConfig||{};r.convertTopLevelContainer=r.convertTopLevelContainer??!0,n.convertWithoutMapWrapper=n.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((o,s)=>async i=>(Loe.setFeature(s,"DDB_MAPPER","d"),o({...i,input:Uoe(i.input,this.inputKeyNodes,r)})),{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((o,s)=>async i=>{let a=await o(i);return a.output=Boe(a.output,this.outputKeyNodes,n),a},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0})}},tf=class extends mt{input;inputKeyNodes={Statements:{"*":{Parameters:yn}}};outputKeyNodes={Responses:{"*":{Error:{Item:X},Item:X}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.BatchExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},rf=class extends mt{input;inputKeyNodes={RequestItems:{"*":{Keys:{"*":X}}}};outputKeyNodes={Responses:{"*":{"*":X}},UnprocessedKeys:{"*":{Keys:{"*":X}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.BatchGetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},nf=class extends mt{input;inputKeyNodes={RequestItems:{"*":{"*":{PutRequest:{Item:X},DeleteRequest:{Key:X}}}}};outputKeyNodes={UnprocessedItems:{"*":{"*":{PutRequest:{Item:X},DeleteRequest:{Key:X}}}},ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:X}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.BatchWriteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},of=class extends mt{input;inputKeyNodes={Key:X,Expected:{"*":{Value:Sc,AttributeValueList:yn}},ExpressionAttributeValues:X};outputKeyNodes={Attributes:X,ItemCollectionMetrics:{ItemCollectionKey:X}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.DeleteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},sf=class extends mt{input;inputKeyNodes={Parameters:yn};outputKeyNodes={Items:{"*":X},LastEvaluatedKey:X};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.ExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},af=class extends mt{input;inputKeyNodes={TransactStatements:{"*":{Parameters:yn}}};outputKeyNodes={Responses:{"*":{Item:X}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.ExecuteTransactionCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},cf=class extends mt{input;inputKeyNodes={Key:X};outputKeyNodes={Item:X};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.GetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},lf=class extends mt{input;inputKeyNodes={Item:X,Expected:{"*":{Value:Sc,AttributeValueList:yn}},ExpressionAttributeValues:X};outputKeyNodes={Attributes:X,ItemCollectionMetrics:{ItemCollectionKey:X}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.PutItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},Ec=class extends mt{input;inputKeyNodes={KeyConditions:{"*":{AttributeValueList:yn}},QueryFilter:{"*":{AttributeValueList:yn}},ExclusiveStartKey:X,ExpressionAttributeValues:X};outputKeyNodes={Items:{"*":X},LastEvaluatedKey:X};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.QueryCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},bc=class extends mt{input;inputKeyNodes={ScanFilter:{"*":{AttributeValueList:yn}},ExclusiveStartKey:X,ExpressionAttributeValues:X};outputKeyNodes={Items:{"*":X},LastEvaluatedKey:X};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.ScanCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},uf=class extends mt{input;inputKeyNodes={TransactItems:{"*":{Get:{Key:X}}}};outputKeyNodes={Responses:{"*":{Item:X}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.TransactGetItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},df=class extends mt{input;inputKeyNodes={TransactItems:{"*":{ConditionCheck:{Key:X,ExpressionAttributeValues:X},Put:{Item:X,ExpressionAttributeValues:X},Delete:{Key:X,ExpressionAttributeValues:X},Update:{Key:X,ExpressionAttributeValues:X}}}};outputKeyNodes={ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:X}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.TransactWriteItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},pf=class extends mt{input;inputKeyNodes={Key:X,AttributeUpdates:{"*":{Value:Sc}},Expected:{"*":{Value:Sc,AttributeValueList:yn}},ExpressionAttributeValues:X};outputKeyNodes={Attributes:X,ItemCollectionMetrics:{ItemCollectionKey:X}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new Lt.UpdateItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),s=this.clientCommand.resolveMiddleware(o,r,n);return async()=>s(this.clientCommand)}},mi=class e extends mf.Client{config;constructor(t,r){if(super(t.config),this.config=t.config,this.config.translateConfig=r,this.middlewareStack=t.middlewareStack,this.config?.cacheMiddleware)throw new Error("@aws-sdk/lib-dynamodb - cacheMiddleware=true is not compatible with the DynamoDBDocumentClient. This option must be set to false.")}static from(t,r){return new e(t,r)}destroy(){}},tT=class e extends mi{static from(t,r){return new e(t,r)}batchExecuteStatement(t,r,n){let o=new tf(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}batchGet(t,r,n){let o=new rf(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}batchWrite(t,r,n){let o=new nf(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}delete(t,r,n){let o=new of(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}executeStatement(t,r,n){let o=new sf(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}executeTransaction(t,r,n){let o=new af(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}get(t,r,n){let o=new cf(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}put(t,r,n){let o=new lf(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}query(t,r,n){let o=new Ec(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}scan(t,r,n){let o=new bc(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}transactGet(t,r,n){let o=new uf(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}transactWrite(t,r,n){let o=new df(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}update(t,r,n){let o=new pf(t);if(typeof r=="function")this.send(o,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(o,r||{},n)}else return this.send(o,r)}},Foe=MG.createPaginator(mi,Ec,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Goe=MG.createPaginator(mi,bc,"ExclusiveStartKey","LastEvaluatedKey","Limit");Object.defineProperty(Le,"$Command",{enumerable:!0,get:function(){return mf.Command}});Object.defineProperty(Le,"__Client",{enumerable:!0,get:function(){return mf.Client}});Object.defineProperty(Le,"NumberValue",{enumerable:!0,get:function(){return rT.NumberValueImpl}});Le.BatchExecuteStatementCommand=tf;Le.BatchGetCommand=rf;Le.BatchWriteCommand=nf;Le.DeleteCommand=of;Le.DynamoDBDocument=tT;Le.DynamoDBDocumentClient=mi;Le.DynamoDBDocumentClientCommand=mt;Le.ExecuteStatementCommand=sf;Le.ExecuteTransactionCommand=af;Le.GetCommand=cf;Le.PutCommand=lf;Le.QueryCommand=Ec;Le.ScanCommand=bc;Le.TransactGetCommand=uf;Le.TransactWriteCommand=df;Le.UpdateCommand=pf;Le.paginateQuery=Foe;Le.paginateScan=Goe});var Xoe={};Ze(Xoe,{handler:()=>Yoe,historyHandler:()=>QG,scanSchedulerHandler:()=>YG,stripeWebhookHandler:()=>zG});module.exports=ee(Xoe);var TT=w(require("puppeteer-core")),bi=w(require("@sparticuz/chromium"));var Si=class{static metaDatabase={"color-contrast":{category:"Grafika",what:"N\xEDzk\xFD kontrast mezi textem a pozad\xEDm.",fix:"Zvy\u0161te kontrast mezi textem a pozad\xEDm. Pro b\u011B\u017En\xFD text mus\xED b\xFDt pom\u011Br alespo\u0148 4.5:1. Zkuste ztmavit barvu p\xEDsma nebo zesv\u011Btlit pozad\xED.",wcag:"1.4.3 Kontrast (minim\xE1ln\xED)"},"image-alt":{category:"Grafika",what:"Obr\xE1zky nemaj\xED smyslupln\xFD atribut alt.",fix:'Ka\u017Ed\xFD obr\xE1zek <img> mus\xED m\xEDt atribut alt="". Pokud je obr\xE1zek jen dekorativn\xED, pou\u017Eijte pr\xE1zdn\xFD alt="" nebo role="presentation". Pokud nese informaci, popi\u0161te ji.',wcag:"1.1.1 Netextov\xFD obsah"},label:{category:"Formul\xE1\u0159e",what:"Formul\xE1\u0159ov\xE1 pole nemaj\xED viditeln\xFD nebo \u010Diteln\xFD popisek.",fix:'Ka\u017Ed\xE9 formul\xE1\u0159ov\xE9 pole <input> mus\xED m\xEDt popisek. Pou\u017Eijte element <label for="id"> nebo atribut aria-label.',wcag:"3.3.2 Popisky nebo instrukce"},"link-name":{category:"Navigace",what:'Odkazy nemaj\xED srozumiteln\xFD text (nap\u0159. "klikn\u011Bte zde").',fix:'Odkazy mus\xED m\xEDt srozumiteln\xFD text. Vyhn\u011Bte se text\u016Fm jako "klikn\u011Bte zde". U ikonek pou\u017Eijte aria-label nebo sr-only text.',wcag:"2.4.4 \xDA\u010Del odkazu (v kontextu)"},"button-name":{category:"Navigace",what:"Tla\u010D\xEDtka obsahuj\xED jen ikonu nebo pr\xE1zdn\xFD obsah.",fix:'Tla\u010D\xEDtka mus\xED obsahovat text. Pokud pou\u017E\xEDv\xE1te jen ikonu, p\u0159idejte aria-label s popisem akce (nap\u0159. "Vyhledat").',wcag:"4.1.2 N\xE1zev, role, hodnota"},"html-has-lang":{category:"Struktura",what:'Str\xE1nka nem\xE1 nastaven jazyk (lang="cs").',fix:'Elementu <html> chyb\xED atribut lang (nap\u0159. <html lang="cs">). Toto je kritick\xE9 pro \u010Dte\u010Dky obrazovky.',wcag:"3.1.1 Jazyk str\xE1nky"},list:{category:"Struktura",what:"Seznamy nejsou spr\xE1vn\u011B zapsan\xE9 pomoc\xED <ul>/<ol> a <li>.",fix:"Seznamy <ul> a <ol> sm\xED obsahovat pouze elementy <li>. Zkontrolujte strukturu HTML.",wcag:"1.3.1 Informace a vztahy"},"aria-hidden-focus":{category:"Technick\xE9",what:'Fokusovateln\xE9 prvky jsou skryt\xE9 pro \u010Dte\u010Dky obrazovky (aria-hidden="true").',fix:'Prvky s aria-hidden="true" nesm\xED b\xFDt interaktivn\xED (fokusovateln\xE9). Odstra\u0148te tabindex nebo aria-hidden atribut.',wcag:"4.1.2 N\xE1zev, role, hodnota"},"frame-title":{category:"Struktura",what:"Iframy nemaj\xED title popisuj\xEDc\xED obsah.",fix:"Ka\u017Ed\xFD <iframe> mus\xED m\xEDt atribut title, kter\xFD popisuje jeho obsah.",wcag:"2.4.1 Bloky p\u0159esko\u010Den\xED"},"heading-order":{category:"Struktura",what:"Nadpisy na str\xE1nce nejdou logicky po sob\u011B (H1 \u2192 H2 \u2192 H3).",fix:"Nadpisy by m\u011Bly j\xEDt popo\u0159ad\u011B (H1 -> H2 -> H3). Nep\u0159eskakujte \xFArovn\u011B (nap\u0159. z H2 rovnou na H4).",wcag:"2.4.6 Nadpisy a popisky"},"aria-required-children":{category:"Technick\xE9",what:"Prvek s ARIA rol\xED o\u010Dek\xE1v\xE1 konkr\xE9tn\xED potomky, ale v DOMu chyb\xED (nap\u0159. list bez <li>, tablist bez tab\u016F).",fix:'Zkontrolujte dokumentaci k dan\xE9 ARIA roli a dopl\u0148te po\u017Eadovan\xE9 potomky \u2013 nap\u0159\xEDklad u role="list" pou\u017Eijte role="listitem" pro polo\u017Eky, u role="tablist" dopl\u0148te role="tab".',wcag:"1.3.1 Informace a vztahy"},"aria-input-field-name":{category:"Formul\xE1\u0159e",what:"Interaktivn\xED vstupn\xED prvek m\xE1 roli/typ, ale chyb\xED mu srozumiteln\xFD n\xE1zev (accessible name).",fix:'Dopl\u0148te popisek pomoc\xED <label for="...">, aria-label nebo aria-labelledby tak, aby \u010Dte\u010Dka obrazovky oznamovala smyslupln\xFD n\xE1zev pole.',wcag:"4.1.2 N\xE1zev, role, hodnota"},"target-size":{category:"Grafika",what:"Klikac\xED c\xEDl (tla\u010D\xEDtko, odkaz, ikona) je p\u0159\xEDli\u0161 mal\xFD nebo m\xE1 nedostate\u010Dn\xFD \u201Ehit area\u201C pro pohodln\xE9 ovl\xE1d\xE1n\xED.",fix:"Zvy\u0161te velikost klikac\xEDch prvk\u016F alespo\u0148 na doporu\u010Den\xFDch 24\xD724 CSS pixel\u016F nebo roz\u0161i\u0159te klikac\xED oblast tak, aby jej bylo mo\u017En\xE9 snadno aktivovat i na dotykov\xFDch displej\xEDch.",wcag:"2.5.8 Velikost c\xEDle (minim\xE1ln\xED)"}};static getRuleMeta(t){let r=this.metaDatabase[t];return r||{category:"Technick\xE9",what:`Technick\xFD probl\xE9m p\u0159\xEDstupnosti (${t}).`,fix:"Prostudujte dokumentaci k tomuto pravidlu na Deque University (odkaz v detailu chyby) a upravte HTML / ARIA atributy.",wcag:void 0}}static getFix(t){return this.getRuleMeta(t).fix}};var wf=w(require("axe-core")),Ei=class{static cache=null;static getAxeToActMap(){if(this.cache)return this.cache;let t=wf.default.getRules?wf.default.getRules():[],r={};for(let n of t){let o=n.metadata||{},s=Array.isArray(n.tags)?n.tags:[],i=[];if(Array.isArray(o.actIds)?i=o.actIds.filter(d=>typeof d=="string"):typeof o.actId=="string"&&(i=[o.actId]),i.length||(i=s.filter(d=>/^act-[0-9a-f]{6}$/i.test(d)).map(d=>d.replace(/^act-/i,""))),!i.length)continue;let a=Array.from(new Set(i)),c=a.map(d=>`https://www.w3.org/WAI/standards-guidelines/act/rules/${d}/`),l=n.ruleId||n.id;l&&(r[l]={actRuleIds:a,actRuleUrls:c})}return this.cache=r,r}static getActInfoForAxeRule(t){return this.getAxeToActMap()[t]}};var Ic=class{static mapToReport(t,r){let n=r.violations,o={critical:this.mapViolations(n.filter(l=>l.impact==="critical"),t),serious:this.mapViolations(n.filter(l=>l.impact==="serious"),t),moderate:this.mapViolations(n.filter(l=>l.impact==="moderate"),t),minor:this.mapViolations(n.filter(l=>l.impact==="minor"),t)},s=n.reduce((l,d)=>l+d.nodes.length,0),i=o.critical.reduce((l,d)=>l+d.count,0),a=n.map(l=>{let d=l.impact,m=this.getPriorityMeta(d),y=Si.getRuleMeta(l.id),g=Ei.getActInfoForAxeRule(l.id),S=l.nodes&&l.nodes[0],T=S&&S.failureSummary||void 0,I=S?this.buildElementLabel(S):void 0,x=S?this.getFriendlySelector(S)||(Array.isArray(S.target)?String(S.target[0]):void 0):void 0,C=S?this.inferComponentName(S):void 0,O=this.buildElementFingerprint(t,x,I),k=y.wcag;return k||(k=this.extractWcagFromTags(l)),{id:l.id,impact:d,priority:m.label,category:y.category,what:y.what,fix:y.fix,wcagReference:k,actRuleIds:g?.actRuleIds,actRuleUrls:g?.actRuleUrls,technicalSummary:T,exampleUrl:t,exampleTarget:x,elementLabel:I,fingerprint:O,componentName:C}}),c=[...a].sort((l,d)=>this.getPriorityMeta(d.impact).weight-this.getPriorityMeta(l.impact).weight).slice(0,3);return{url:t,timestamp:r.timestamp,score:this.calculateScore(n),meta:{browserVersion:r.testEngine.name+" "+r.testEngine.version,engineVersion:r.testEngine.version},violations:o,stats:{totalViolations:s,criticalCount:i},humanReadable:{actionItems:a,topIssues:c}}}static mapViolations(t,r){return t.map(n=>{let o=Ei.getActInfoForAxeRule(n.id);return{id:n.id,title:n.help,description:n.description,impact:n.impact,helpUrl:n.helpUrl,count:n.nodes.length,suggestedFix:Si.getFix(n.id),actRuleIds:o?.actRuleIds,actRuleUrls:o?.actRuleUrls,nodes:n.nodes.map(s=>{let i=s,a=this.getFriendlySelector(i)||(Array.isArray(i.target)?String(i.target[0]):void 0),c=this.buildElementLabel(i),l=this.inferComponentName(i),d=this.buildElementFingerprint(r,a,c);return{html:s.html,target:s.target,failureSummary:s.failureSummary||"No summary available",cssSelector:a,elementLabel:c,componentName:l,fingerprint:d}})}})}static getPriorityMeta(t){switch(t){case"critical":return{label:"\u{1F534} Kritick\xE1",weight:4};case"serious":return{label:"\u{1F7E0} Vysok\xE1",weight:3};case"moderate":return{label:"\u{1F7E1} St\u0159edn\xED",weight:2};case"minor":return{label:"\u{1F535} N\xEDzk\xE1",weight:1};default:return{label:"\u{1F535} N\xEDzk\xE1",weight:1}}}static extractWcagFromTags(t){if(!Array.isArray(t.tags))return;let r=t.tags.find(o=>/^wcag\d{3}$/.test(o));if(!r)return;let n=r.replace("wcag","");if(n.length===3)return`${n[0]}.${n[1]}.${n[2]}`}static calculateScore(t){let r=100,n={critical:5,serious:3,moderate:1,minor:.5};return t.forEach(o=>{let s=n[o.impact]||0;r-=o.nodes.length*s}),Math.max(0,Math.round(r))}static buildElementFingerprint(t,r,n){if(!t&&!r&&!n)return;let o="";try{o=(new URL(t).pathname||"/").toLowerCase()}catch{o=String(t||"").toLowerCase()}let s=(r||"").toLowerCase(),i=(n||"").toLowerCase();return`${o}::${s}::${i}`||void 0}static inferComponentName(t){let n=(t.html||"").match(/<([a-zA-Z0-9-]+)([^>]*)>/);if(!n)return;let o=n[2]||"",s=l=>{let d=new RegExp(l+'\\s*=\\s*"([^"]+)"',"i"),m=o.match(d);return m&&m[1]?m[1].trim():void 0},a=[s("data-component"),s("data-testid"),s("data-cmp"),s("data-ui"),s("data-automation-id")].find(l=>!!l);if(a)return a;let c=s("class");if(c){let l=c.split(/\s+/).filter(Boolean).find(d=>/btn|button|nav|menu|link|input|field|form|card|modal/i.test(d));if(l)return l}}static getFriendlySelector(t){let r=Array.isArray(t.target)?t.target:[],n=["html","body","div","span","section","article"];for(let a of r){if(typeof a!="string")continue;let c=a.split(/\s*>\s*|\s+/).filter(Boolean);for(let l=c.length-1;l>=0;l--){let d=c[l];if(d){if(d.includes("#"))return d.trim();if(d.includes(".")){let m=d.split(".")[0];if(!n.includes(m.toLowerCase()))return d.trim()}}}}let s=(t.html||"").match(/<([a-zA-Z0-9-]+)([^>]*)>/);if(s){let a=s[1].toLowerCase(),c=s[2]||"",l=c.match(/id\s*=\s*"([^"]+)"/i),d=c.match(/class\s*=\s*"([^"]+)"/i);if(l&&l[1])return`${a}#${l[1]}`;if(d&&d[1]){let m=d[1].split(/\s+/).filter(Boolean).map(y=>`.${y}`).join("");if(m)return`${a}${m}`}}let i=r.find(a=>typeof a=="string");if(i)return i.length>80?i.slice(0,77)+"\u2026":i}static buildElementLabel(t){let r=t.html||"",n=r.match(/<([a-zA-Z0-9-]+)([^>]*)>([\s\S]*?)<\/\1>/),o=r.match(/<([a-zA-Z0-9-]+)([^>]*)\/>/),s="",i="",a="";if(n)s=n[1].toLowerCase(),i=n[2]||"",a=n[3]||"";else if(o)s=o[1].toLowerCase(),i=o[2]||"",a="";else return;let c=I=>{let x=new RegExp(I+'\\s*=\\s*"([^"]+)"',"i"),C=i.match(x);return C&&C[1]?C[1].trim():void 0},l=c("aria-label"),d=c("placeholder"),m=c("title"),y=c("alt"),g=a.replace(/<[^>]+>/g," ").replace(/\s+/g," ").trim(),S=l||y||d||m||g;if(!S)return;let T;return s==="button"||s==="input"&&/button|submit|reset/i.test(c("type")||"")?T="Tla\u010D\xEDtko":s==="a"?T="Odkaz":s==="input"||s==="textarea"||s==="select"?T="Formul\xE1\u0159ov\xE9 pole":T="Prvek",`${T} "${S}"`}};var Ac=require("@aws-sdk/client-s3"),pT=w(require("crypto")),vc=class{s3Client=null;bucketName;constructor(){this.bucketName=process.env.A11Y_SCREENSHOT_BUCKET,this.bucketName&&(this.s3Client=new Ac.S3Client({region:process.env.AWS_REGION||"us-east-1"}))}async captureAndUpload(t,r){if(!(!this.s3Client||!this.bucketName))try{let n=await this.findElement(t,r.target);if(!n)return;let o=await n.screenshot({type:"jpeg",quality:60}),s=`violations/${pT.default.randomUUID()}.jpg`,i=new Ac.PutObjectCommand({Bucket:this.bucketName,Key:s,Body:o,ContentType:"image/jpeg"});return await this.s3Client.send(i),`https://${this.bucketName}.s3.amazonaws.com/${s}`}catch(n){console.warn("Screenshot capture failed (non-fatal):",n);return}}async findElement(t,r){if(r.length===0)return null;let n=await t.$(r[0]);for(let o=1;o<r.length;o++){if(!n)return null;let s=await n.evaluateHandle(i=>i.shadowRoot);if(!s)return null;n=await s.$(r[o])}return n}};var Ti=require("url"),_T=require("@axe-core/puppeteer");var vf="b4f0c3",If=`https://www.w3.org/WAI/standards-guidelines/act/rules/${vf}/`;async function mT(e,t){let n=new Map,o=!1,s=null,i;for(let d=1;d<=50;d++){await e.keyboard.press("Tab"),await new Promise(g=>setTimeout(g,35));let m=await e.evaluate(()=>{let g=globalThis.document,S=g&&g.activeElement||null;if(!S)return{hasActive:!1};let T=S.getBoundingClientRect(),I=[];if(S.id&&I.push(`#${S.id}`),S.className&&typeof S.className=="string"){let O=S.className.split(/\s+/).filter(Boolean).map(k=>`.${k}`).join("");O&&I.push(O)}let x=I.length>0?`${S.tagName.toLowerCase()}${I.join("")}`:S.tagName.toLowerCase(),C="";try{let O=S.outerHTML||"";C=O.length>400?O.slice(0,400)+"\u2026":O}catch{C=""}return{hasActive:!0,selector:x,htmlSnippet:C}});if(!m.hasActive){s="document",i=void 0,o=!0;break}let y=m.selector||"unknown";if(n.has(y)){let g=n.get(y);if(d-g<10){o=!0,s=y,i=m.htmlSnippet;break}}else n.set(y,d)}if(!o)return null;let a="serious",c={id:"a11yflow-focus-trap",title:"Kl\xE1vesnicov\xE1 past (focus se zacykl\xED nebo ztrat\xED)",description:"P\u0159i proch\xE1zen\xED str\xE1nky kl\xE1vesou Tab se fokus zacykl\xED mezi n\u011Bkolika prvky nebo se \xFApln\u011B ztrat\xED. U\u017Eivatel kl\xE1vesnice ani nevidom\xFD z\xE1kazn\xEDk se \u010Dte\u010Dkou obrazovky se z pasti nedostanou bez pou\u017Eit\xED my\u0161i.",impact:a,helpUrl:If,count:1,suggestedFix:"Zkontrolujte po\u0159ad\xED focusu, tabindex a chov\xE1n\xED mod\xE1ln\xEDch oken. Ujist\u011Bte se, \u017Ee fokus nem\u016F\u017Ee uv\xEDznout v omezen\xE9 oblasti a \u017Ee se po zav\u0159en\xED modalu vr\xE1t\xED na logick\xFD prvek.",actRuleIds:[vf],actRuleUrls:[If],nodes:[{html:i||"",target:s?[s]:[],failureSummary:"Fokus se b\u011Bhem simulace kl\xE1vesnice zacyklil nebo ztratil, co\u017E je v rozporu s po\u017Eadavkem, aby str\xE1nka byla pln\u011B ovladateln\xE1 z kl\xE1vesnice."}]},l={id:c.id,impact:a,priority:"\u{1F7E0} Vysok\xE1",category:"Navigace",what:"P\u0159i ovl\xE1d\xE1n\xED str\xE1nky z kl\xE1vesnice (Tab/Shift+Tab) m\u016F\u017Ee fokus uv\xEDznout v pasti nebo se zcela ztratit.",fix:"Uspo\u0159\xE1dejte fokusovateln\xE9 prvky tak, aby \u0161el fokus line\xE1rn\u011B dop\u0159edu i zp\u011Bt bez cyklen\xED. U mod\xE1ln\xEDch oken zajist\u011Bte, aby \u0161lo fokus vr\xE1tit zp\u011Bt na p\u0159edchoz\xED prvek a aby se u\u017Eivatel dostal z popupu bez pou\u017Eit\xED my\u0161i.",exampleUrl:t,exampleTarget:c.nodes[0]?.target?.[0],wcagReference:"2.1.2 No Keyboard Trap",actRuleIds:[vf],actRuleUrls:[If]};return{violations:[c],actionItems:[l]}}var Cf="act-landmarks-placeholder",Af=`https://www.w3.org/WAI/standards-guidelines/act/rules/${Cf}/`;async function fT(e,t){let r="moderate";return null}async function hT(e,t){let r="serious",n=await e.evaluate(()=>{let d=globalThis.document;if(!d)return{hasSkipLink:!1,problems:[],bodyHtmlSnippet:""};let m=C=>{if(!C)return"";let O=(C.tagName||"div").toLowerCase();if(C.id)return`${O}#${C.id}`;if(C.className&&typeof C.className=="string"){let k=C.className.split(/\s+/).filter(Boolean).map(H=>`.${H}`).join("");if(k)return`${O}${k}`}return O},y=[],g=Array.from(d.querySelectorAll("a, button")),S=["skip to main","skip to content","skip main content","skip navigation","p\u0159esko\u010Dit na obsah","p\u0159esko\u010Dit obsah","p\u0159esko\u010Dit navigaci"];for(let C of g){let O=(C.textContent||"").toLowerCase().trim(),k=C.getAttribute&&C.getAttribute("aria-label")||"",H=(k||O).toLowerCase();if(!H||!S.some(ze=>H.includes(ze)))continue;let Se=m(C),W="";try{let ze=C.outerHTML||"";W=ze.length>400?ze.slice(0,400)+"\u2026":ze}catch{W=""}let z=C.getAttribute&&C.getAttribute("href")||"",oe=null,ve=!1,Re=!1,Yo=!1;if(z&&typeof z=="string"&&z.startsWith("#")&&z.length>1){oe=z.slice(1);let ze=d.getElementById(oe);if(ze){ve=!0;let Sf=(ze.tagName||"").toLowerCase(),Ef=ze.getAttribute&&ze.getAttribute("role")||"",_c=(ze.id||"").toLowerCase(),bf=ze.className&&typeof ze.className=="string"?ze.className.toLowerCase():"";(Sf==="main"||String(Ef).toLowerCase()==="main")&&(Re=!0),(/main|content|primary/.test(_c)||/main|content|primary/.test(bf))&&(Re=!0),ze.matches&&ze.matches('a[href], button, input:not([type="hidden"]), textarea, select, [tabindex]:not([tabindex="-1"])')&&(Yo=!0)}}let Mt=(C.tagName||"").toLowerCase(),yi=Mt==="a"&&!!z||Mt==="button"||typeof C.tabIndex=="number"&&C.tabIndex>=0,yf=(k||O||"").trim();y.push({selector:Se,htmlSnippet:W,hrefTargetId:oe,targetExists:ve,targetIsMainLike:Re,targetIsFocusable:Yo,isFocusable:yi,textLabel:yf})}let T=y.length>0&&y.some(C=>C.isFocusable&&(!C.hrefTargetId||C.targetExists&&(C.targetIsMainLike||C.targetIsFocusable))),I=y.filter(C=>!!(!C.isFocusable||C.hrefTargetId&&!C.targetExists||C.hrefTargetId&&C.targetExists&&!C.targetIsMainLike&&!C.targetIsFocusable)),x="";try{let C=d.body;if(C&&C.outerHTML){let O=String(C.outerHTML);x=O.length>400?O.slice(0,400)+"\u2026":O}}catch{x=""}return{hasSkipLink:T,problems:I,bodyHtmlSnippet:x}});if(n.hasSkipLink)return null;let o=Array.isArray(n.problems)&&n.problems.length>0,s=o?n.problems.map(d=>({html:d.htmlSnippet||"",target:d.selector?[d.selector]:[],failureSummary:"Skip link existuje, ale nen\xED fokusovateln\xFD z kl\xE1vesnice nebo jeho c\xEDlov\xFD prvek neexistuje."})):[{html:n.bodyHtmlSnippet||"",target:["body"],failureSummary:"Str\xE1nka neobsahuje \u017E\xE1dn\xFD odkaz nebo tla\u010D\xEDtko, kter\xE9 by umo\u017Enilo p\u0159esko\u010Dit opakuj\xEDc\xED se navigaci na hlavn\xED obsah."}],i={id:"a11yflow-skip-link",title:o?"Nefunk\u010Dn\xED odkaz \u201EP\u0159esko\u010Dit na obsah\u201C":"Chyb\u011Bj\xEDc\xED odkaz \u201EP\u0159esko\u010Dit na obsah\u201C",description:"Str\xE1nka nenab\xEDz\xED nebo spr\xE1vn\u011B neimplementuje odkaz/tla\u010D\xEDtko pro p\u0159esko\u010Den\xED opakuj\xEDc\xED se navigace a p\u0159echod k hlavn\xEDmu obsahu.",impact:r,helpUrl:void 0,count:s.length,suggestedFix:'P\u0159idejte nebo opravte odkaz \u201EP\u0159esko\u010Dit na hlavn\xED obsah\u201C, kter\xFD je fokusovateln\xFD z kl\xE1vesnice a p\u0159i aktivaci p\u0159esune focus na hlavn\xED obsah (nap\u0159. role="main").',nodes:s},a=s[0],c=a&&a.target&&a.target[0]?String(a.target[0]):void 0,l={id:i.id,impact:r,priority:"\u{1F7E0} Vysok\xE1",category:"Navigace",what:o?"Odkaz \u201EP\u0159esko\u010Dit na obsah\u201C existuje, ale nen\xED spr\xE1vn\u011B fokusovateln\xFD nebo jeho c\xEDl neexistuje.":"U\u017Eivatel\xE9 kl\xE1vesnice musej\xED p\u0159i ka\u017Ed\xE9m na\u010Dten\xED str\xE1nky proj\xEDt celou hlavi\u010Dku a menu \u2013 chyb\xED odkaz \u201EP\u0159esko\u010Dit na obsah\u201C. ",fix:'Implementujte viditeln\xFD \u201Eskip link\u201C, kter\xFD se objev\xED p\u0159i focusu a p\u0159i aktivaci p\u0159esune focus na hlavn\xED obsah (nap\u0159. role="main").',exampleUrl:t,exampleTarget:c,elementLabel:o?"Odkaz \u201EP\u0159esko\u010Dit na obsah\u201C":"Str\xE1nka (chyb\xED odkaz \u201EP\u0159esko\u010Dit na obsah\u201C)",wcagReference:"2.4.1 Bloky p\u0159esko\u010Den\xED"};return{violations:[i],actionItems:[l]}}async function gT(e,t){let r="serious",n=await e.evaluate(()=>{let d=globalThis.document;if(!d)return{problems:[]};let m=S=>{if(!S)return"";let T=(S.tagName||"div").toLowerCase();if(S.id)return`${T}#${S.id}`;if(S.className&&typeof S.className=="string"){let I=S.className.split(/\s+/).filter(Boolean).map(x=>`.${x}`).join("");if(I)return`${T}${I}`}return T},y=Array.from(d.querySelectorAll('[role="dialog"], [role="alertdialog"], [aria-modal="true"]')),g=[];for(let S of y){let T=m(S),I="";try{let Re=S.outerHTML||"";I=Re.length>400?Re.slice(0,400)+"\u2026":Re}catch{I=""}let x=S.getAttribute&&S.getAttribute("aria-modal")||"",C=String(x).toLowerCase()==="true",k=S.querySelectorAll('a[href], button, input:not([type="hidden"]), textarea, select, [tabindex]:not([tabindex="-1"])'),H=k&&k.length>0,W=!!S.querySelector('[data-dismiss="modal"], .modal-close, .close, button[aria-label*="zav\u0159" i], button[aria-label*="close" i]'),z=S.querySelector('h1, h2, h3, [role="heading"]')||S.getAttribute&&S.getAttribute("aria-label")||"",oe="";typeof z=="string"?oe=z:z&&z.textContent&&(oe=z.textContent),oe=(oe||"").trim();let ve=[];C||ve.push('aria-modal chyb\xED nebo nen\xED "true"'),H||ve.push("uvnit\u0159 dialogu nejsou fokusovateln\xE9 prvky"),W||ve.push("chyb\xED z\u0159eteln\xFD tla\u010D\xEDtko/tla\u010D\xEDtko pro zav\u0159en\xED"),ve.length>0&&g.push({selector:T,htmlSnippet:I,labelText:oe,issues:ve})}return{problems:g}});if(!Array.isArray(n.problems)||n.problems.length===0)return null;let o=n.problems.map(d=>({html:d.htmlSnippet||"",target:d.selector?[d.selector]:[],failureSummary:"Mod\xE1ln\xED dialog m\xE1 struktur\xE1ln\xED probl\xE9m: "+(Array.isArray(d.issues)?d.issues.join(", "):"")})),s={id:"a11yflow-modal-focus",title:"Nespr\xE1vn\xFD focus / struktura v mod\xE1ln\xEDm dialogu",description:"Na str\xE1nce byly zji\u0161t\u011Bny mod\xE1ln\xED dialogy, kter\xE9 nemaj\xED spr\xE1vn\u011B nastaven\xE9 aria-modal, fokusovateln\xE9 ovl\xE1dac\xED prvky nebo tla\u010D\xEDtko pro zav\u0159en\xED.",impact:r,helpUrl:void 0,count:o.length,suggestedFix:'Ujist\u011Bte se, \u017Ee ka\u017Ed\xFD dialog m\xE1 aria-modal="true", obsahuje fokusovateln\xE9 ovl\xE1dac\xED prvky a m\xE1 z\u0159eteln\xFD prvek pro zav\u0159en\xED (tla\u010D\xEDtko). Implementujte tak\xE9 focus trap uvnit\u0159 modalu a po jeho zav\u0159en\xED vra\u0165te focus na spou\u0161t\u011Bc\xED prvek.',nodes:o},i=n.problems[0],a=i&&i.selector?String(i.selector):void 0,c=i&&i.labelText?String(i.labelText):"",l={id:s.id,impact:r,priority:"\u{1F7E0} Vysok\xE1",category:"Navigace",what:"Mod\xE1ln\xED dialog(y) nemaj\xED spr\xE1vn\u011B nastavenou strukturu nebo atributy pro p\u0159\xEDstupn\xE9 ovl\xE1d\xE1n\xED z kl\xE1vesnice (aria-modal, focusovateln\xE9 prvky, tla\u010D\xEDtko Zav\u0159\xEDt).",fix:'P\u0159esm\u011Brujte focus dovnit\u0159 dialogu po otev\u0159en\xED, cyklujte ho uvnit\u0159 a po zav\u0159en\xED ho vra\u0165te na tla\u010D\xEDtko, kter\xE9 modal otev\u0159elo. Dialog ozna\u010Dte role="dialog"/"alertdialog" a aria-modal="true".',exampleUrl:t,exampleTarget:a,elementLabel:c?`Mod\xE1ln\xED dialog "${c}"`:"Mod\xE1ln\xED dialog",wcagReference:"2.4.3 Po\u0159ad\xED focusu"};return{violations:[s],actionItems:[l]}}var Rf="act-carousel-autoplay-placeholder",xf=`https://www.w3.org/WAI/standards-guidelines/act/rules/${Rf}/`;async function yT(e,t){let r="moderate";return null}async function ST(e,t){let r="serious",n=await e.evaluate(()=>{let d=globalThis.document;if(!d)return{problems:[]};let m=S=>{if(!S)return"";let T=(S.tagName||"div").toLowerCase();if(S.id)return`${T}#${S.id}`;if(S.className&&typeof S.className=="string"){let I=S.className.split(/\s+/).filter(Boolean).map(x=>`.${x}`).join("");if(I)return`${T}${I}`}return T},y=Array.from(d.querySelectorAll("form")),g=[];for(let S of y){let T=Array.from(S.querySelectorAll('input[required], textarea[required], select[required], input[aria-required="true"], textarea[aria-required="true"], select[aria-required="true"]'));if(!T||T.length===0)continue;let x=!!S.querySelector('[role="alert"], [aria-live], .error, .error-message, .validation-error, .form-error');if(!x){let Se=["error","chyba","chybn\u011B","povinn\xE9","required","invalid"];for(let W of T){let z=W.getAttribute&&W.getAttribute("aria-describedby")||"";if(!z)continue;let oe=String(z).split(/\s+/).filter(Boolean);for(let ve of oe){let Re=d.getElementById(ve);if(!Re||!Re.textContent)continue;let Yo=Re.textContent.toLowerCase();if(Se.some(Mt=>Yo.includes(Mt))){x=!0;break}}if(x)break}}if(x)continue;let C=m(S),O="";try{let Se=S.outerHTML||"";O=Se.length>400?Se.slice(0,400)+"\u2026":Se}catch{O=""}let k=S.querySelector('legend, h1, h2, h3, [role="heading"]'),H=S.getAttribute&&S.getAttribute("aria-label"),J="";H?J=String(H):k&&k.textContent&&(J=String(k.textContent)),J=(J||"").trim(),g.push({selector:C,htmlSnippet:O,labelText:J})}return{problems:g}});if(!Array.isArray(n.problems)||n.problems.length===0)return null;let o=n.problems.map(d=>({html:d.htmlSnippet||"",target:d.selector?[d.selector]:[],failureSummary:'Formul\xE1\u0159 obsahuje povinn\xE1 pole, ale nen\xED zde detekovateln\xFD region pro chybov\xE9 zpr\xE1vy (role="alert", aria-live nebo typick\xE9 .error prvky).'})),s={id:"a11yflow-form-errors",title:"Nesrozumiteln\xE9 nebo neozn\xE1men\xE9 chyby ve formul\xE1\u0159i",description:"Byly nalezeny formul\xE1\u0159e s povinn\xFDmi poli, u kter\xFDch nelze detekovat region pro chybov\xE9 zpr\xE1vy. U\u017Eivatel\xE9 tak nemus\xED zjistit, co je \u0161patn\u011B.",impact:r,helpUrl:void 0,count:o.length,suggestedFix:'Zobrazte chybov\xE9 zpr\xE1vy v bl\xEDzkosti pol\xED, nav\xE1zejte je na inputy p\u0159es aria-describedby/id a po chyb\u011B p\u0159esu\u0148te focus na prvn\xED probl\xE9m nebo shrnut\xED chyb. Zva\u017Ete pou\u017Eit\xED regionu s role="alert" nebo aria-live.',nodes:o},i=n.problems[0],a=i&&i.selector?String(i.selector):void 0,c=i&&i.labelText?String(i.labelText):"",l={id:s.id,impact:r,priority:"\u{1F7E0} Vysok\xE1",category:"Formul\xE1\u0159e",what:"Formul\xE1\u0159(e) maj\xED povinn\xE1 pole, ale u\u017Eivatel nem\xE1 k dispozici jasn\u011B \u010Diteln\xE9 a programov\u011B detekovateln\xE9 chybov\xE9 zpr\xE1vy.",fix:'Uspo\u0159\xE1dejte validaci tak, aby byly chyby jasn\u011B vizu\xE1ln\u011B ozna\u010Deny, nav\xE1zan\xE9 na pole a aby focus zam\xED\u0159il na prvn\xED chybu nebo shrnut\xED chyb. Chybov\xE9 zpr\xE1vy oznamujte p\u0159es aria-live nebo role="alert".',exampleUrl:t,exampleTarget:a,elementLabel:c?`Formul\xE1\u0159 "${c}"`:"Formul\xE1\u0159",wcagReference:"3.3.1 Identifikace chyby"};return{violations:[s],actionItems:[l]}}var ET=[{id:"focus-order",label:"Keyboard focus order / traps",run:mT,defaultEnabled:!0},{id:"landmarks",label:"Page landmarks (main, navigation, contentinfo, banner)",run:fT,defaultEnabled:!0},{id:"skip-link",label:"Skip to main content link",run:hT,defaultEnabled:!0},{id:"modal-focus",label:"Modal dialog focus management",run:gT,defaultEnabled:!0},{id:"carousel-autoplay",label:"Auto-rotating carousels / sliders",run:yT,defaultEnabled:!1},{id:"form-errors",label:"Form error handling and announcements",run:ST,defaultEnabled:!1}];async function bT(e,t,r={}){let n=new Set(r.enabledTests&&r.enabledTests.length>0?r.enabledTests:ET.filter(i=>i.defaultEnabled).map(i=>i.id)),o=[],s=[];for(let i of ET)if(n.has(i.id))try{let a=await i.run(e,t);if(!a)continue;Array.isArray(a.violations)&&o.push(...a.violations),Array.isArray(a.actionItems)&&s.push(...a.actionItems)}catch(a){console.warn("[CustomACT] Test failed:",i.id,a)}return{violations:o,actionItems:s}}var Xo=class{browser=null;screenshotCapturer;currentPage=null;constructor(){this.screenshotCapturer=new vc}async scan(t,r={}){if(console.log(`[WebScanner] Starting scan for: ${t}`),this.isIgnoredExtension(t))throw console.warn(`[WebScanner] Skipping non-HTML resource: ${t}`),new Error(`Skipping non-HTML resource: ${t}`);try{if(this.browser||await this.initBrowser(),!this.browser)throw new Error("Browser failed to initialize");this.currentPage&&await this.currentPage.close().catch(()=>{}),this.currentPage=await this.browser.newPage();let n=this.currentPage,o=r.device||"desktop";await this.configureDeviceProfile(n,o),await this.setupPerformanceObservers(n),await n.goto(t,{waitUntil:"networkidle2",timeout:3e4}),await this.handleCookieConsent(n),await new Promise(d=>setTimeout(d,1e3));let s;try{s=await this.collectPerformanceMetrics(n)}catch(d){console.warn("[WebScanner] Failed to collect performance metrics:",d)}try{await this.exploreDynamicStates(n)}catch(d){console.warn("[WebScanner] Dynamic state exploration failed (non-fatal):",d)}let i;try{i=await this.runKeyboardNavigationAudit(n)}catch(d){console.warn("[WebScanner] Keyboard navigation audit failed (non-fatal):",d)}console.log(`[WebScanner] Running Axe analysis on ${t}...`);let a=await new _T.AxePuppeteer(n).withTags(["wcag2a","wcag2aa","wcag21a","wcag21aa","wcag22a","wcag22aa"]).analyze();console.log(`[WebScanner] Analysis complete. Violations found: ${a.violations.length}`);let c=Ic.mapToReport(t,a);try{let d=await bT(n,t);for(let m of d.violations){let y=m.impact||"moderate";y==="critical"?c.violations.critical.push(m):y==="serious"?c.violations.serious.push(m):y==="minor"?c.violations.minor.push(m):c.violations.moderate.push(m),c.stats.totalViolations+=m.count,y==="critical"&&(c.stats.criticalCount+=m.count)}d.actionItems.length>0&&c.humanReadable.actionItems.push(...d.actionItems)}catch(d){console.warn("[WebScanner] Custom ACT suite failed (non-fatal):",d)}s&&(c.performance=s),i&&(c.keyboardNavigation=i);try{c.brokenLinks=await this.checkBrokenLinks(n)}catch(d){console.warn("[WebScanner] Broken links check failed, continuing without it.",d)}let l=[...c.violations.critical,...c.violations.serious,...c.violations.moderate,...c.violations.minor];return await this.enrichViolationsWithScreenshots(n,l),c}catch(n){throw console.error(`Scanner Error processing ${t}:`,n),n}}async handleCookieConsent(t){console.log("[WebScanner] Checking for cookie banners...");let r=["#onetrust-accept-btn-handler","#CybotCookiebotDialogBodyLevelButtonLevelOptinAllowAll",".cc-btn.cc-allow",'[data-testid="cookie-policy-dialog-accept-button"]','button[id*="cookie"][id*="accept"]','button[class*="cookie"][class*="accept"]'];try{for(let a of r)if(await t.$(a)){console.log(`[WebScanner] Dismissing cookies via selector: ${a}`),await t.click(a);return}let s=`//button[${["Souhlas\xEDm","Povolit v\u0161e","P\u0159ijmout","Accept","Allow all","Agree","Rozum\xEDm","I understand"].map(a=>`contains(translate(., 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz'), '${a.toLowerCase()}')`).join(" or ")}]`,i=await t.$x(s);i.length>0?(console.log(`[WebScanner] Dismissing cookies via text match (${i.length} candidates)`),await i[0].click()):console.log("[WebScanner] No cookie banner found (or scan continued without dismissal).")}catch(n){console.warn("[WebScanner] Non-fatal error closing cookies:",n)}}async extractInternalLinks(t){if(!this.currentPage)return[];try{try{let o=['nav li, header li, .menu-item, [role="navigation"] li','nav a, header a, .menu-item > a, [role="navigation"] a'];for(let s of o){let a=(await this.currentPage.$$(s)).slice(0,30);console.log(`[WebScanner] Expanding menus via selector "${s}" (items=${a.length})`);for(let c of a)try{await c.hover(),await new Promise(l=>setTimeout(l,120))}catch{}}}catch(o){console.warn("[WebScanner] Menu expansion failed, continuing with static links.",o)}let r=await this.currentPage.$$eval("a",o=>o.map(s=>s.href)),n=new Set;for(let o of r)try{if(this.isIgnoredExtension(o))continue;new Ti.URL(o).hostname===t&&!o.includes("#")&&n.add(o)}catch{}return console.log(`[WebScanner] Extracted ${n.size} internal links.`),Array.from(n)}catch(r){return console.warn("Link extraction failed:",r),[]}}isIgnoredExtension(t){let r=[".xml",".pdf",".jpg",".jpeg",".png",".gif",".svg",".css",".js",".json",".zip"];try{let o=new Ti.URL(t).pathname.toLowerCase();return r.some(s=>o.endsWith(s))}catch{return!1}}async configureDeviceProfile(t,r){if(r==="mobile"?(console.log("[WebScanner] Using MOBILE emulation (iPhone-like viewport)."),await t.setUserAgent("Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1"),await t.setViewport({width:390,height:844,isMobile:!0,hasTouch:!0,deviceScaleFactor:2})):r==="tablet"?(console.log("[WebScanner] Using TABLET viewport (iPad-like)."),await t.setUserAgent("Mozilla/5.0 (iPad; CPU OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Mobile/15E148 Safari/604.1"),await t.setViewport({width:1024,height:768,isMobile:!0,hasTouch:!0,deviceScaleFactor:2})):(console.log("[WebScanner] Using DESKTOP viewport."),await t.setUserAgent("A11yFlow-Bot/1.0 (+https://a11yflow.com)"),await t.setViewport({width:1280,height:800,isMobile:!1,hasTouch:!1,deviceScaleFactor:1})),r==="low-vision"&&(console.log("[WebScanner] Applying LOW-VISION profile (zoom + bigger text)."),await t.setViewport({width:1280,height:800,deviceScaleFactor:1.25,isMobile:!1,hasTouch:!1}),await t.addStyleTag({content:"html { font-size: 120% !important; } body { line-height: 1.6 !important; }"})),r==="reduced-motion"){console.log("[WebScanner] Applying REDUCED-MOTION media preference.");try{await t.emulateMediaFeatures([{name:"prefers-reduced-motion",value:"reduce"}])}catch(n){console.warn("[WebScanner] emulateMediaFeatures for reduced-motion failed:",n)}}}async checkBrokenLinks(t){let r=t.url(),n=null;try{n=new Ti.URL(r).hostname}catch{n=null}let o=await t.$$eval("a",l=>l.map(d=>d.href)),i=Array.from(new Set(o)).filter(Boolean).filter(l=>{try{let d=new Ti.URL(l);return!(d.protocol!=="http:"&&d.protocol!=="https:"||n&&d.hostname!==n)}catch{return!1}}).slice(0,40);console.log(`[WebScanner] Checking ${i.length} internal links for 4xx/5xx status codes...`);async function a(l,d){let m=new AbortController,y=setTimeout(()=>m.abort(),d);try{let g=await fetch(l,{method:"HEAD",signal:m.signal});clearTimeout(y);let S=g.status>=200&&g.status<400;return{status:g.status,ok:S}}catch{return clearTimeout(y),{status:null,ok:!1}}}let c=[];return await Promise.all(i.map(async l=>{let{status:d,ok:m}=await a(l,5e3);m||c.push({url:l,status:d,ok:m})})),console.log(`[WebScanner] Broken links on page: ${c.length}`),{totalChecked:i.length,broken:c}}async closeBrowser(){this.currentPage&&await this.currentPage.close().catch(()=>{}),this.browser&&await this.browser.close().catch(()=>{}),this.browser=null,this.currentPage=null}async enrichViolationsWithScreenshots(t,r){if(process.env.A11Y_SCREENSHOT_BUCKET)for(let n of r){let o=n.nodes.slice(0,1);for(let s of o){let i=await this.screenshotCapturer.captureAndUpload(t,s);i&&(s.screenshotUrl=i)}}}async setupPerformanceObservers(t){await t.evaluateOnNewDocument(()=>{let r=globalThis;r.__a11yflowMetrics={lcp:null,cls:0,inp:null,tbt:0};try{new PerformanceObserver(o=>{let s=o.getEntries(),i=s[s.length-1];i&&(r.__a11yflowMetrics.lcp=i.renderTime||i.loadTime||i.startTime||null)}).observe({type:"largest-contentful-paint",buffered:!0})}catch(n){console.warn("[Perf] LCP observer not available:",n)}try{new PerformanceObserver(o=>{for(let s of o.getEntries())s.hadRecentInput||(r.__a11yflowMetrics.cls+=s.value||0)}).observe({type:"layout-shift",buffered:!0})}catch(n){console.warn("[Perf] CLS observer not available:",n)}try{new PerformanceObserver(o=>{for(let s of o.getEntries())r.__a11yflowMetrics.inp=s.duration||null}).observe({type:"event",buffered:!0})}catch(n){console.warn("[Perf] INP observer not available:",n)}try{new PerformanceObserver(o=>{let s=performance.getEntriesByType("navigation")[0],i=performance.getEntriesByName("first-contentful-paint")[0],a=i&&i.startTime||s&&s.responseStart||0;for(let c of o.getEntries()){let l=c.duration-50;l>0&&c.startTime>a&&(r.__a11yflowMetrics.tbt+=l)}}).observe({type:"longtask",buffered:!0})}catch(n){console.warn("[Perf] Longtask observer (TBT) not available:",n)}})}async collectPerformanceMetrics(t){try{return await t.evaluate(()=>{let n=performance.getEntriesByType("navigation"),o=n&&n[0],s=performance.getEntriesByName("first-contentful-paint")[0],i=globalThis.__a11yflowMetrics||{};return{coreWebVitals:{lcp:typeof i.lcp=="number"?i.lcp:null,cls:typeof i.cls=="number"?i.cls:null,inp:typeof i.inp=="number"?i.inp:null,tbt:typeof i.tbt=="number"?i.tbt:null},navigation:{firstContentfulPaint:s?s.startTime:null,timeToFirstByte:o?o.responseStart:null,domContentLoaded:o?o.domContentLoadedEventEnd:null,loadEvent:o?o.loadEventEnd:null}}})}catch(r){console.warn("[WebScanner] collectPerformanceMetrics failed:",r);return}}async exploreDynamicStates(t){let r=['button[aria-expanded="false"][aria-controls]','button[aria-haspopup="true"]','button[aria-label*="menu" i]','button[data-testid*="menu" i]','[role="button"][data-testid*="menu" i]',"button[data-open-modal]",'[data-testid*="modal-open" i]','button[aria-haspopup="dialog"]'];for(let o of r){let s=await t.$(o);if(s){console.log(`[WebScanner] Clicking dynamic element: ${o}`);try{await s.click(),await new Promise(i=>setTimeout(i,400))}catch{}}}let n=await t.$$('[data-testid*="language" i], button[lang], a[lang]');if(n.length>0){console.log("[WebScanner] Toggling language switch (best-effort).");try{await n[0].click(),await new Promise(o=>setTimeout(o,400))}catch{}}}async runKeyboardNavigationAudit(t){let n=[],o=new Map;if(!await t.evaluate(()=>{let a=globalThis.document.querySelectorAll("a[href], button, input, select, textarea, [tabindex]");return Array.from(a).filter(l=>!l.hasAttribute("disabled")&&l.tabIndex>=0).length>0}))return n.push({type:"no-focusable-elements",step:0,description:"Na str\xE1nce nebyly nalezeny \u017E\xE1dn\xE9 fokusovateln\xE9 prvky (odkazy, tla\u010D\xEDtka, formul\xE1\u0159e). U\u017Eivatel\xE9 kl\xE1vesnice a nevidom\xED z\xE1kazn\xEDci se \u010Dte\u010Dkami obrazovky tak nemohou str\xE1nku v\u016Fbec pou\u017E\xEDvat.",wcagReference:"2.1.1 Keyboard",recommendation:"Ujisti se, \u017Ee v\u0161echny interaktivn\xED prvky (nap\u0159. odkazy, tla\u010D\xEDtka, ovl\xE1dac\xED prvky) jsou dostupn\xE9 z kl\xE1vesnice \u2013 typicky pomoc\xED nativn\xEDch HTML prvk\u016F nebo spr\xE1vn\u011B nastaven\xE9ho tabindexu. Jinak nevidom\xED u\u017Eivatel\xE9 se \u010Dte\u010Dkou obrazovky nemaj\xED \u0161anci ovl\xE1dat obsah."}),{totalSteps:0,issues:n};await t.evaluate(()=>{let i=globalThis,a=i.document;i&&typeof i.focus=="function"&&i.focus(),a&&a.body&&typeof a.body.focus=="function"&&a.body.focus()});for(let i=1;i<=60;i++){await t.keyboard.press("Tab"),await new Promise(l=>setTimeout(l,40));let a=await t.evaluate(()=>{let l=globalThis.document,d=l&&l.activeElement||null;if(!d)return{hasActive:!1};let m=d.getBoundingClientRect(),y=globalThis.getComputedStyle(d),g=y.outlineStyle!=="none"&&y.outlineWidth!=="0px"&&y.outlineColor!=="rgba(0, 0, 0, 0)",S=[];if(d.id&&S.push(`#${d.id}`),d.className&&typeof d.className=="string"){let k=d.className.split(/\s+/).filter(Boolean).map(H=>`.${H}`).join("");k&&S.push(k)}let T=S.length>0?`${d.tagName.toLowerCase()}${S.join("")}`:d.tagName.toLowerCase(),I=globalThis.innerWidth||0,x=globalThis.innerHeight||0,C=m.bottom<=0||m.top>=x||m.right<=0||m.left>=I,O="";try{let k=d.outerHTML||"";O=k.length>400?k.slice(0,400)+"\u2026":k}catch{O=""}return{hasActive:!0,selector:T,hasVisibleFocus:g,rect:{width:m.width,height:m.height},offscreen:C,htmlSnippet:O}});if(!a.hasActive){n.push({type:"focus-lost",step:i,description:"Po n\u011Bkolika stisc\xEDch Tab se focus ztratil \u2013 \u017E\xE1dn\xFD element nen\xED aktivn\xED. U\u017Eivatel kl\xE1vesnice i nevidom\xFD z\xE1kazn\xEDk se \u010Dte\u010Dkou obrazovky ztr\xE1c\xED kontext a m\u016F\u017Ee se ocitnout v pasti, odkud se nedok\xE1\u017Ee vr\xE1tit zp\u011Bt do obsahu.",wcagReference:"2.1.2 No Keyboard Trap",recommendation:"Zajisti, aby focus v\u017Edy z\u016Fstal v r\xE1mci dokumentu nebo se vr\xE1til na logick\xFD prvek (nap\u0159. body). Vyhni se skr\xFDv\xE1n\xED aktivn\xEDho elementu bez p\u0159esunut\xED focusu jinam \u2013 jinak nevidom\xFD u\u017Eivatel nev\xED, kde se nach\xE1z\xED."});break}let c=a.selector||"unknown";if(a.rect&&(a.rect.width<=0||a.rect.height<=0||a.offscreen===!0)&&n.push({type:"offscreen-focus",step:i,selector:c,description:"Fokus je na prvku, kter\xFD nen\xED viditeln\xFD (mimo viewport nebo s nulovou velikost\xED). U\u017Eivatel kl\xE1vesnice ani nevidom\xFD z\xE1kazn\xEDk se \u010Dte\u010Dkou obrazovky tak netu\u0161\xED, kde se na str\xE1nce nach\xE1z\xED.",wcagReference:"2.4.7 Focus Visible",recommendation:"Ujisti se, \u017Ee fokusovan\xE9 prvky jsou viditeln\xE9 v zorn\xE9m poli (nap\u0159. pomoc\xED scrollIntoView) a nemaj\xED nulovou v\xFD\u0161ku/\u0161\xED\u0159ku. Nevidom\xED u\u017Eivatel\xE9 pot\u0159ebuj\xED, aby \u010Dte\u010Dka obrazovky jednozna\u010Dn\u011B oznamovala, na jak\xE9m prvku se nach\xE1z\xED.",htmlSnippet:a.htmlSnippet}),a.hasVisibleFocus||n.push({type:"no-visible-focus",step:i,selector:c,description:"Fokusovan\xFD prvek nem\xE1 z\u0159eteln\xFD focus styl (outline). U\u017Eivatel kl\xE1vesnice nevid\xED, kde se pr\xE1v\u011B nach\xE1z\xED, a nevidom\xFD z\xE1kazn\xEDk se \u010Dte\u010Dkou obrazovky m\u016F\u017Ee m\xEDt probl\xE9m pochopit, co je aktu\xE1ln\u011B aktivn\xED.",wcagReference:"2.4.7 Focus Visible",recommendation:"P\u0159idej pro fokusovan\xFD stav (nap\u0159. :focus-visible) jasn\u011B viditeln\xFD styl \u2013 typicky outline s dostate\u010Dn\xFDm kontrastem v\u016F\u010Di pozad\xED. Pom\u016F\u017Ee to jak u\u017Eivatel\u016Fm kl\xE1vesnice, tak nevidom\xFDm z\xE1kazn\xEDk\u016Fm sleduj\xEDc\xEDm obsah s asistivn\xED technologi\xED.",htmlSnippet:a.htmlSnippet}),o.has(c)){let l=o.get(c);if(i-l<10){n.push({type:"focus-loop",step:i,selector:c,description:"Zd\xE1 se, \u017Ee se fokus rychle cykl\xED mezi n\u011Bkolika prvky. To m\u016F\u017Ee znamenat kl\xE1vesnicovou past, ze kter\xE9 se u\u017Eivatel kl\xE1vesnice i nevidom\xFD z\xE1kazn\xEDk se \u010Dte\u010Dkou obrazovky obt\xED\u017En\u011B dost\xE1v\xE1.",wcagReference:"2.1.2 No Keyboard Trap",recommendation:"Zkontroluj po\u0159ad\xED focusu (tabindex, po\u0159ad\xED prvk\u016F v DOMu) a zajisti, aby se fokus nezacyklil mezi malou skupinou prvk\u016F. V p\u0159\xEDpad\u011B mod\xE1ln\xEDch oken umo\u017Eni n\xE1vrat zp\u011Bt na p\u0159edchoz\xED prvek, aby se nevidom\xED u\u017Eivatel\xE9 neocitli v pasti.",htmlSnippet:a.htmlSnippet});break}}else o.set(c,i)}return{totalSteps:Math.min(60,(n.length>0,60)),issues:n}}async initBrowser(){let t=process.env.AWS_LAMBDA_FUNCTION_VERSION!==void 0,r;if(t){console.log("[WebScanner] Resolving Chromium path...");try{if(r=await bi.default.executablePath(),console.log(`[WebScanner] Chromium path resolved: ${r}`),!r)throw new Error("Chromium executablePath is undefined")}catch(o){throw console.error("[WebScanner] Failed to resolve Chromium path:",o),o}}let n=t?{args:[...bi.default.args,"--disable-gpu","--disable-dev-shm-usage","--disable-setuid-sandbox","--no-sandbox","--single-process"],defaultViewport:bi.default.defaultViewport,executablePath:r,headless:bi.default.headless,ignoreHTTPSErrors:!0}:{channel:"chrome",headless:!0,args:["--no-sandbox","--disable-setuid-sandbox"]};console.log("[WebScanner] Launching Puppeteer..."),this.browser=await TT.default.launch(n),console.log("[WebScanner] Browser launched successfully.")}};var BG=w(ui()),hf=w(Tc()),FG=require("crypto");var UG=w(require("https")),oT=require("url"),ff=class{static async fetchSitemapUrls(t){try{let r=new oT.URL("/sitemap.xml",t).toString();console.log(`\u{1F5FA}\uFE0F Checking sitemap at: ${r}`);let n=await this.fetchContent(r);if(!n)return[];let o=/<loc>(.*?)<\/loc>/g,s=[],i;for(;(i=o.exec(n))!==null;){let a=i[1].trim();a.includes(new oT.URL(t).hostname)&&s.push(a)}return console.log(`\u{1F5FA}\uFE0F Found ${s.length} URLs in sitemap.`),this.prioritizeUrls(s)}catch(r){return console.warn("\u26A0\uFE0F Sitemap fetch failed:",r),[]}}static fetchContent(t){return new Promise(r=>{UG.default.get(t,n=>{if(n.statusCode!==200){r(null);return}let o="";n.on("data",s=>o+=s),n.on("end",()=>r(o))}).on("error",()=>r(null))})}static prioritizeUrls(t){let r=["contact","kontakt","about","o-nas","pricing","cenik","sluzby","products"];return t.sort((n,o)=>{let s=r.some(a=>n.includes(a))?1:0;return(r.some(a=>o.includes(a))?1:0)-s})}};var GG=require("url"),fi=class e{scanner;visitedUrls=new Set;maxPages;scanOptions;static historyTableName=process.env.HISTORY_TABLE_NAME||"A11yFlow_History";static ddbClient=hf.DynamoDBDocumentClient.from(new BG.DynamoDBClient({}));constructor(t=5,r={}){this.scanner=new Xo,this.maxPages=t,this.scanOptions=r}async crawlAndPersist(t,r){let n=await this.crawl(r);return await e.saveCrawlHistory(t,n,this.scanOptions),n}async crawl(t){let r=[],n=[],o=new GG.URL(t).hostname;console.log(`\u{1F577}\uFE0F Starting Smart Crawl on ${t}`);let s=await ff.fetchSitemapUrls(t);console.log(`\u{1F5FA}\uFE0F Sitemap URLs found: ${s.length}`),s.length>0?(console.log("\u2705 Using Sitemap strategy."),n.push(...s),s.includes(t)||n.unshift(t)):(console.log("\u26A0\uFE0F Sitemap not found, using BFS strategy."),n.push(t)),console.log("\u{1F4E5} Initial crawl queue:",n);try{for(;n.length>0&&r.length<this.maxPages;){let i=n.shift(),a=i.replace(/\/$/,"");if(!this.visitedUrls.has(a)){this.visitedUrls.add(a),console.log(`\u{1F50D} Scanning (${r.length+1}/${this.maxPages}) [queue=${n.length}, visited=${this.visitedUrls.size}]: ${i}`);try{let c=await this.scanner.scan(i,this.scanOptions);if(r.push(c),r.length<this.maxPages){let l=await this.scanner.extractInternalLinks(o);console.log(`\u{1F9ED} From ${i} found ${l.length} candidate links.`),l.forEach(d=>{let m=d.replace(/\/$/,"");this.visitedUrls.has(m)||n.push(d)})}}catch(c){console.error(`\u274C Failed to scan ${i}:`,c)}}}}finally{await this.scanner.closeBrowser()}return this.aggregateResults(t,r)}aggregateResults(t,r){let n=r.reduce((T,I)=>T+I.score,0),o=r.reduce((T,I)=>T+I.stats.criticalCount,0),s=r.reduce((T,I)=>T+I.stats.totalViolations,0),i=0,a=0,c=0,l=0,d=0,m=0,y=0,g=0;for(let T of r){let I=T.performance;I&&(typeof I.coreWebVitals.lcp=="number"&&(i+=I.coreWebVitals.lcp,a++),typeof I.coreWebVitals.cls=="number"&&(c+=I.coreWebVitals.cls,l++),typeof I.coreWebVitals.inp=="number"&&(d+=I.coreWebVitals.inp,m++),typeof I.coreWebVitals.tbt=="number"&&(y+=I.coreWebVitals.tbt,g++))}let S=a+l+m+g>0?{averageLcp:a>0?Math.round(i/a):null,averageCls:l>0?c/l:null,averageInp:m>0?Math.round(d/m):null,averageTbt:g>0?Math.round(y/g):null}:void 0;return{rootUrl:t,totalPagesScanned:r.length,averageScore:r.length>0?Math.round(n/r.length):0,totalCriticalViolations:o,totalViolations:s,pages:r,performanceSummary:S}}static async saveCrawlHistory(t,r,n){let o=new Date().toISOString(),s=(0,FG.randomUUID)(),i={customerId:t,scanTimestamp:o,scanId:s,rootUrl:r.rootUrl,score:r.averageScore,totalIssues:r.totalViolations,criticalIssues:r.totalCriticalViolations,mode:"crawl",device:n.device==="mobile"?"mobile":"desktop",reportJsonUrl:"",performanceSummary:r.performanceSummary,createdAt:o};await this.ddbClient.send(new hf.PutCommand({TableName:this.historyTableName,Item:i}))}};var qG=w(ui()),hi=w(Tc()),jG=process.env.CUSTOMERS_TABLE_NAME||"A11yFlow_Customers",joe=new qG.DynamoDBClient({}),HG=hi.DynamoDBDocumentClient.from(joe);function Hoe(e){let t=new Date;return t.setUTCDate(t.getUTCDate()+e),t.toISOString()}var zG=async e=>{if(!e.body)return{statusCode:400,body:JSON.stringify({error:"Missing body"})};let t;try{t=JSON.parse(e.body)}catch{return{statusCode:400,body:JSON.stringify({error:"Invalid JSON"})}}let{type:r}=t;if(r!=="checkout.session.completed")return{statusCode:200,body:JSON.stringify({status:"ignored",type:r})};let n=t.data.object,o=n.customer,s=n.customer_details?.email||n.customer_email||null,i=n.metadata?.targetUrl||null,a=n.metadata?.scanFrequencyDays!=null?Number(n.metadata.scanFrequencyDays):7;if(!o||!s||!i)return console.warn("Stripe webhook missing required fields",{stripeCustomerId:o,email:s,targetUrl:i}),{statusCode:400,body:JSON.stringify({error:"Missing stripeCustomerId, email or targetUrl in session"})};let c=new Date().toISOString(),l=Hoe(a),d="ACTIVE",m=o;try{await HG.send(new hi.PutCommand({TableName:jG,Item:{customerId:m,email:s,targetUrl:i,stripeCustomerId:o,subscriptionStatus:d,nextScanDate:l,scanFrequencyDays:a,createdAt:c,updatedAt:c},ConditionExpression:"attribute_not_exists(customerId)"})),console.log("New customer created from Stripe session",{customerId:m})}catch(y){if(y.name==="ConditionalCheckFailedException")console.log("Customer already exists, updating",{customerId:m}),await HG.send(new hi.UpdateCommand({TableName:jG,Key:{customerId:m},UpdateExpression:"SET email = :email, targetUrl = :targetUrl, stripeCustomerId = :stripeCustomerId, subscriptionStatus = :status, nextScanDate = :nextScanDate, scanFrequencyDays = :freq, updatedAt = :updatedAt",ExpressionAttributeValues:{":email":s,":targetUrl":i,":stripeCustomerId":o,":status":d,":nextScanDate":l,":freq":a,":updatedAt":c}}));else return console.error("DynamoDB error in StripeWebhookHandler",y),{statusCode:500,body:JSON.stringify({error:"Internal error writing to DynamoDB"})}}return{statusCode:200,body:JSON.stringify({status:"ok",customerId:m})}};var KG=w(ui()),gi=w(Tc());var VG=process.env.CUSTOMERS_TABLE_NAME||"A11yFlow_Customers",qoe=new KG.DynamoDBClient({}),WG=gi.DynamoDBDocumentClient.from(qoe);function zoe(e,t){let r=new Date(e);return r.setUTCDate(r.getUTCDate()+t),r.toISOString()}var YG=async e=>{let t=new Date().toISOString(),r=Number(process.env.SCHEDULER_MAX_PAGES||"10"),o=(process.env.SCHEDULER_DEVICE||"desktop")==="mobile"?"mobile":"desktop";console.log("ScanScheduler triggered at",t,"eventId",e.id);let s=[];((await WG.send(new gi.QueryCommand({TableName:VG,IndexName:"active-by-nextScanDate",KeyConditionExpression:"subscriptionStatus = :status AND nextScanDate <= :now",ExpressionAttributeValues:{":status":"ACTIVE",":now":t}}))).Items||[]).forEach(a=>{!a.customerId||!a.targetUrl||s.push({customerId:String(a.customerId),targetUrl:String(a.targetUrl),subscriptionStatus:String(a.subscriptionStatus),nextScanDate:String(a.nextScanDate),scanFrequencyDays:a.scanFrequencyDays?Number(a.scanFrequencyDays):void 0})}),console.log("Customers to scan:",s.length);for(let a of s)try{console.log("Starting crawl for customer",a.customerId,"url",a.targetUrl),await new fi(r,{device:o}).crawlAndPersist(a.customerId,a.targetUrl);let l=a.scanFrequencyDays??7,d=zoe(t,l);await WG.send(new gi.UpdateCommand({TableName:VG,Key:{customerId:a.customerId},UpdateExpression:"SET nextScanDate = :next, updatedAt = :updatedAt",ExpressionAttributeValues:{":next":d,":updatedAt":new Date().toISOString()}}))}catch(c){console.error("Error during scheduled scan for customer",a.customerId,c)}console.log("ScanScheduler finished.")};var XG=w(ui()),gf=w(Tc()),Voe=process.env.HISTORY_TABLE_NAME||"A11yFlow_History",Woe=new XG.DynamoDBClient({}),Koe=gf.DynamoDBDocumentClient.from(Woe),QG=async e=>{let t={"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},r=e.pathParameters?.customerId;if(!r)return{statusCode:400,headers:t,body:JSON.stringify({error:"Missing path parameter customerId"})};let n=e.queryStringParameters?.limit,o=n?Math.min(Math.max(parseInt(n,10)||0,1),100):50;try{let i=((await Koe.send(new gf.QueryCommand({TableName:Voe,KeyConditionExpression:"customerId = :cid",ExpressionAttributeValues:{":cid":r},Limit:o,ScanIndexForward:!1}))).Items||[]).map(a=>({scanId:a.scanId,scanTimestamp:a.scanTimestamp,rootUrl:a.rootUrl,score:a.score,totalIssues:a.totalIssues,criticalIssues:a.criticalIssues,mode:a.mode,device:a.device,reportJsonUrl:a.reportJsonUrl}));return{statusCode:200,headers:t,body:JSON.stringify({customerId:r,items:i})}}catch(s){return console.error("Error querying history for customer",r,s),{statusCode:500,headers:t,body:JSON.stringify({error:"Internal error querying history"})}}};var Yoe=async e=>{let t={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST"};try{let r=e.headers["x-api-key"]||e.headers["X-Api-Key"],n=process.env.A11Y_API_KEY;if(n&&r!==n)return console.warn("\u26D4 Unauthorized access attempt."),{statusCode:401,headers:t,body:JSON.stringify({error:"Unauthorized: Invalid or missing API Key"})};if(!e.body)throw new Error("Missing body");let o=JSON.parse(e.body),s=o.url,i=o.mode||"single",a=o.device||"desktop",l=["desktop","mobile","tablet","low-vision","reduced-motion"].includes(a)?a:"desktop",d=Number(o.maxPages)||5,m=Math.min(Math.max(d,1),50);if(!s)throw new Error('Missing "url"');console.log(`\u{1F680} Processing ${i} request for: ${s}`);let y;if(i==="crawl")y=await new fi(m,{device:l}).crawl(s);else{let g=new Xo;try{y=await g.scan(s,{device:l})}finally{await g.closeBrowser()}}return{statusCode:200,headers:t,body:JSON.stringify(y)}}catch(r){return console.error("Handler Critical Error:",r),{statusCode:500,headers:t,body:JSON.stringify({error:"Internal Server Error",details:r instanceof Error?r.message:"Unknown error"})}}};0&&(module.exports={handler,historyHandler,scanSchedulerHandler,stripeWebhookHandler});
//# sourceMappingURL=index.js.map
